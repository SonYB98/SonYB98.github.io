function t(t,e){const n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(t){if(_(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=r(A(i)?s(i):i);if(o)for(const t in o)e[t]=o[t]}return e}if(k(t))return t}const i=/;(?![^(]*\))/g,o=/:(.+)/;function s(t){const e={};return t.split(i).forEach((t=>{if(t){const n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function a(t){let e="";if(A(t))e=t;else if(_(t))for(let n=0;n<t.length;n++){const r=a(t[n]);r&&(e+=r+" ")}else if(k(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const u=t=>null==t?"":k(t)?JSON.stringify(t,c,2):String(t),c=(t,e)=>I(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:T(e)?{[`Set(${e.size})`]:[...e.values()]}:!k(e)||_(e)||R(e)?e:String(e),l={},h=[],f=()=>{},d=()=>!1,p=/^on[^a-z]/,v=t=>p.test(t),g=t=>t.startsWith("onUpdate:"),m=Object.assign,y=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},b=Object.prototype.hasOwnProperty,w=(t,e)=>b.call(t,e),_=Array.isArray,I=t=>"[object Map]"===N(t),T=t=>"[object Set]"===N(t),E=t=>"function"==typeof t,A=t=>"string"==typeof t,S=t=>"symbol"==typeof t,k=t=>null!==t&&"object"==typeof t,C=t=>k(t)&&E(t.then)&&E(t.catch),x=Object.prototype.toString,N=t=>x.call(t),R=t=>"[object Object]"===N(t),P=t=>A(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,D=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},L=/-(\w)/g,M=O((t=>t.replace(L,((t,e)=>e?e.toUpperCase():"")))),F=/\B([A-Z])/g,U=O((t=>t.replace(F,"-$1").toLowerCase())),j=O((t=>t.charAt(0).toUpperCase()+t.slice(1))),q=O((t=>t?`on${j(t)}`:"")),V=(t,e)=>t!==e&&(t==t||e==e),B=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},K=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},W=t=>{const e=parseFloat(t);return isNaN(e)?t:e},H=new WeakMap,z=[];let G;const Q=Symbol(""),Y=Symbol("");function $(t,e=l){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!z.includes(n)){Z(n);try{return et.push(tt),tt=!0,z.push(n),G=n,t()}finally{z.pop(),rt(),G=z[z.length-1]}}};return n.id=J++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function X(t){t.active&&(Z(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let J=0;function Z(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let tt=!0;const et=[];function nt(){et.push(tt),tt=!1}function rt(){const t=et.pop();tt=void 0===t||t}function it(t,e,n){if(!tt||void 0===G)return;let r=H.get(t);r||H.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(G)||(i.add(G),G.deps.push(i))}function ot(t,e,n,r,i,o){const s=H.get(t);if(!s)return;const a=new Set,u=t=>{t&&t.forEach((t=>{(t!==G||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(u);else if("length"===n&&_(t))s.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(s.get(n)),e){case"add":_(t)?P(n)&&u(s.get("length")):(u(s.get(Q)),I(t)&&u(s.get(Y)));break;case"delete":_(t)||(u(s.get(Q)),I(t)&&u(s.get(Y)));break;case"set":I(t)&&u(s.get(Q))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const st=t("__proto__,__v_isRef,__isVue"),at=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(S)),ut=dt(),ct=dt(!1,!0),lt=dt(!0),ht=dt(!0,!0),ft={};function dt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?e?Kt:Bt:e?Vt:qt).get(n))return n;const o=_(n);if(!t&&o&&w(ft,r))return Reflect.get(ft,r,i);const s=Reflect.get(n,r,i);if(S(r)?at.has(r):st(r))return s;if(t||it(n,0,r),e)return s;if(Zt(s)){return!o||!P(r)?s.value:s}return k(s)?t?zt(s):Ht(s):s}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];ft[t]=function(...t){const n=Xt(this);for(let t=0,e=this.length;t<e;t++)it(n,0,t+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Xt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];ft[t]=function(...t){nt();const n=e.apply(this,t);return rt(),n}}));function pt(t=!1){return function(e,n,r,i){let o=e[n];if(!t&&(r=Xt(r),o=Xt(o),!_(e)&&Zt(o)&&!Zt(r)))return o.value=r,!0;const s=_(e)&&P(n)?Number(n)<e.length:w(e,n),a=Reflect.set(e,n,r,i);return e===Xt(i)&&(s?V(r,o)&&ot(e,"set",n,r):ot(e,"add",n,r)),a}}const vt={get:ut,set:pt(),deleteProperty:function(t,e){const n=w(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&ot(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return S(e)&&at.has(e)||it(t,0,e),n},ownKeys:function(t){return it(t,0,_(t)?"length":Q),Reflect.ownKeys(t)}},gt={get:lt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},mt=m({},vt,{get:ct,set:pt(!0)});m({},gt,{get:ht});const yt=t=>k(t)?Ht(t):t,bt=t=>k(t)?zt(t):t,wt=t=>t,_t=t=>Reflect.getPrototypeOf(t);function It(t,e,n=!1,r=!1){const i=Xt(t=t.__v_raw),o=Xt(e);e!==o&&!n&&it(i,0,e),!n&&it(i,0,o);const{has:s}=_t(i),a=r?wt:n?bt:yt;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void 0}function Tt(t,e=!1){const n=this.__v_raw,r=Xt(n),i=Xt(t);return t!==i&&!e&&it(r,0,t),!e&&it(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function Et(t,e=!1){return t=t.__v_raw,!e&&it(Xt(t),0,Q),Reflect.get(t,"size",t)}function At(t){t=Xt(t);const e=Xt(this);return _t(e).has.call(e,t)||(e.add(t),ot(e,"add",t,t)),this}function St(t,e){e=Xt(e);const n=Xt(this),{has:r,get:i}=_t(n);let o=r.call(n,t);o||(t=Xt(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?V(e,s)&&ot(n,"set",t,e):ot(n,"add",t,e),this}function kt(t){const e=Xt(this),{has:n,get:r}=_t(e);let i=n.call(e,t);i||(t=Xt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ot(e,"delete",t,void 0),o}function Ct(){const t=Xt(this),e=0!==t.size,n=t.clear();return e&&ot(t,"clear",void 0,void 0),n}function xt(t,e){return function(n,r){const i=this,o=i.__v_raw,s=Xt(o),a=e?wt:t?bt:yt;return!t&&it(s,0,Q),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function Nt(t,e,n){return function(...r){const i=this.__v_raw,o=Xt(i),s=I(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),l=n?wt:e?bt:yt;return!e&&it(o,0,u?Y:Q),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function Rt(t){return function(...e){return"delete"!==t&&this}}const Pt={get(t){return It(this,t)},get size(){return Et(this)},has:Tt,add:At,set:St,delete:kt,clear:Ct,forEach:xt(!1,!1)},Dt={get(t){return It(this,t,!1,!0)},get size(){return Et(this)},has:Tt,add:At,set:St,delete:kt,clear:Ct,forEach:xt(!1,!0)},Ot={get(t){return It(this,t,!0)},get size(){return Et(this,!0)},has(t){return Tt.call(this,t,!0)},add:Rt("add"),set:Rt("set"),delete:Rt("delete"),clear:Rt("clear"),forEach:xt(!0,!1)},Lt={get(t){return It(this,t,!0,!0)},get size(){return Et(this,!0)},has(t){return Tt.call(this,t,!0)},add:Rt("add"),set:Rt("set"),delete:Rt("delete"),clear:Rt("clear"),forEach:xt(!0,!0)};function Mt(t,e){const n=e?t?Lt:Dt:t?Ot:Pt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(w(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach((t=>{Pt[t]=Nt(t,!1,!1),Ot[t]=Nt(t,!0,!1),Dt[t]=Nt(t,!1,!0),Lt[t]=Nt(t,!0,!0)}));const Ft={get:Mt(!1,!1)},Ut={get:Mt(!1,!0)},jt={get:Mt(!0,!1)},qt=new WeakMap,Vt=new WeakMap,Bt=new WeakMap,Kt=new WeakMap;function Wt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>N(t).slice(8,-1))(t))}function Ht(t){return t&&t.__v_isReadonly?t:Gt(t,!1,vt,Ft,qt)}function zt(t){return Gt(t,!0,gt,jt,Bt)}function Gt(t,e,n,r,i){if(!k(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Wt(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function Qt(t){return Yt(t)?Qt(t.__v_raw):!(!t||!t.__v_isReactive)}function Yt(t){return!(!t||!t.__v_isReadonly)}function $t(t){return Qt(t)||Yt(t)}function Xt(t){return t&&Xt(t.__v_raw)||t}const Jt=t=>k(t)?Ht(t):t;function Zt(t){return Boolean(t&&!0===t.__v_isRef)}function te(t){return ne(t)}class ee{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Jt(t)}get value(){return it(Xt(this),0,"value"),this._value}set value(t){V(Xt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Jt(t),ot(Xt(this),"set","value",t))}}function ne(t,e=!1){return Zt(t)?t:new ee(t,e)}function re(t){return Zt(t)?t.value:t}const ie={get:(t,e,n)=>re(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Zt(i)&&!Zt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function oe(t){return Qt(t)?t:new Proxy(t,ie)}function se(t){const e=_(t)?new Array(t.length):{};for(const n in t)e[n]=ue(t,n);return e}class ae{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function ue(t,e){return Zt(t[e])?t[e]:new ae(t,e)}class ce{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=$(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ot(Xt(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const t=Xt(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),it(t,0,"value"),t._value}set value(t){this._setter(t)}}function le(t,e,n,r){let i;try{i=r?t(...r):t()}catch(t){fe(t,e,n)}return i}function he(t,e,n,r){if(E(t)){const i=le(t,e,n,r);return i&&C(i)&&i.catch((t=>{fe(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(he(t[o],e,n,r));return i}function fe(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void le(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let de=!1,pe=!1;const ve=[];let ge=0;const me=[];let ye=null,be=0;const we=[];let _e=null,Ie=0;const Te=Promise.resolve();let Ee=null,Ae=null;function Se(t){const e=Ee||Te;return t?e.then(this?t.bind(this):t):e}function ke(t){if(!(ve.length&&ve.includes(t,de&&t.allowRecurse?ge+1:ge)||t===Ae)){const e=function(t){let e=ge+1,n=ve.length;const r=Pe(t);for(;e<n;){const t=e+n>>>1;Pe(ve[t])<r?e=t+1:n=t}return e}(t);e>-1?ve.splice(e,0,t):ve.push(t),Ce()}}function Ce(){de||pe||(pe=!0,Ee=Te.then(De))}function xe(t,e,n,r){_(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),Ce()}function Ne(t,e=null){if(me.length){for(Ae=e,ye=[...new Set(me)],me.length=0,be=0;be<ye.length;be++)ye[be]();ye=null,be=0,Ae=null,Ne(t,e)}}function Re(t){if(we.length){const t=[...new Set(we)];if(we.length=0,_e)return void _e.push(...t);for(_e=t,_e.sort(((t,e)=>Pe(t)-Pe(e))),Ie=0;Ie<_e.length;Ie++)_e[Ie]();_e=null,Ie=0}}const Pe=t=>null==t.id?1/0:t.id;function De(t){pe=!1,de=!0,Ne(t),ve.sort(((t,e)=>Pe(t)-Pe(e)));try{for(ge=0;ge<ve.length;ge++){const t=ve[ge];t&&le(t,null,14)}}finally{ge=0,ve.length=0,Re(),de=!1,Ee=null,(ve.length||we.length)&&De(t)}}function Oe(t,e,...n){const r=t.vnode.props||l;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=r[t]||l;o?i=n.map((t=>t.trim())):e&&(i=n.map(W))}let a,u=r[a=q(e)]||r[a=q(M(e))];!u&&o&&(u=r[a=q(U(e))]),u&&he(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else(t.emitted={})[a]=!0;he(c,t,6,i)}}function Le(t,e,n=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const r=t.emits;let i={},o=!1;if(!E(t)){const r=t=>{const n=Le(t,e,!0);n&&(o=!0,m(i,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return r||o?(_(r)?r.forEach((t=>i[t]=null)):m(i,r),t.__emits=i):t.__emits=null}function Me(t,e){return!(!t||!v(e))&&(e=e.slice(2).replace(/Once$/,""),w(t,e[0].toLowerCase()+e.slice(1))||w(t,U(e))||w(t,e))}let Fe=0;const Ue=t=>Fe+=t;function je(t,e,n={},r,i){let o=t[e];Fe++,Xn();const s=o&&qe(o(n)),a=Zn(Hn,{key:n.key||`_${e}`},s||(r?r():[]),s&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),Fe--,a}function qe(t){return t.some((t=>!tr(t)||t.type!==Gn&&!(t.type===Hn&&!qe(t.children))))?t:null}let Ve=null,Be=null;function Ke(t){const e=Ve;return Ve=t,Be=t&&t.type.__scopeId||null,e}function We(t,e=Ve){if(!e)return t;const n=(...n)=>{Fe||Xn(!0);const r=Ke(e),i=t(...n);return Ke(r),Fe||Jn(),i};return n._c=!0,n}function He(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:d,ctx:p}=t;let v;const m=Ke(t);try{let t;if(4&n.shapeFlag){const e=i||r;v=cr(l.call(e,e,h,o,d,f,p)),t=u}else{const n=e;0,v=cr(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:Ge(u)}let m=v;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=m;e.length&&(1&n||6&n)&&(s&&e.some(g)&&(t=Qe(t,s)),m=sr(m,t))}n.dirs&&(m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),v=m}catch(e){Yn.length=0,fe(e,t,1),v=or(Gn)}return Ke(m),v}function ze(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(!tr(r))return;if(r.type!==Gn||"v-if"===r.children){if(e)return;e=r}}return e}const Ge=t=>{let e;for(const n in t)("class"===n||"style"===n||v(n))&&((e||(e={}))[n]=t[n]);return e},Qe=(t,e)=>{const n={};for(const r in t)g(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Ye(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Me(n,o))return!0}return!1}function $e(t){if(E(t)&&(t=t()),_(t)){t=ze(t)}return cr(t)}function Xe(t,e,n,r=!1){const i={},o={};K(o,nr,1),t.propsDefaults=Object.create(null),Je(t,e,i,o),n?t.props=r?i:Gt(i,!1,mt,Ut,Vt):t.type.props?t.props=i:t.props=o,t.attrs=o}function Je(t,e,n,r){const[i,o]=t.propsOptions;if(e)for(const o in e){const s=e[o];if(D(o))continue;let a;i&&w(i,a=M(o))?n[a]=s:Me(t.emitsOptions,o)||(r[o]=s)}if(o){const e=Xt(n);for(let r=0;r<o.length;r++){const s=o[r];n[s]=Ze(i,e,s,e[s],t)}}}function Ze(t,e,n,r,i){const o=t[n];if(null!=o){const t=w(o,"default");if(t&&void 0===r){const t=o.default;if(o.type!==Function&&E(t)){const{propsDefaults:o}=i;n in o?r=o[n]:(xr(i),r=o[n]=t(e),xr(null))}else r=t}o[0]&&(w(e,n)||t?!o[1]||""!==r&&r!==U(n)||(r=!0):r=!1)}return r}function tn(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const r=t.props,i={},o=[];let s=!1;if(!E(t)){const r=t=>{s=!0;const[n,r]=tn(t,e,!0);m(i,n),r&&o.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!r&&!s)return t.__props=h;if(_(r))for(let t=0;t<r.length;t++){const e=M(r[t]);en(e)&&(i[e]=l)}else if(r)for(const t in r){const e=M(t);if(en(e)){const n=r[t],s=i[e]=_(n)||E(n)?{type:n}:n;if(s){const t=on(Boolean,s.type),n=on(String,s.type);s[0]=t>-1,s[1]=n<0||t<n,(t>-1||w(s,"default"))&&o.push(e)}}}return t.__props=[i,o]}function en(t){return"$"!==t[0]}function nn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function rn(t,e){return nn(t)===nn(e)}function on(t,e){return _(e)?e.findIndex((e=>rn(e,t))):E(e)&&rn(e,t)?0:-1}function sn(t,e,n=Cr,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;nt(),xr(n);const i=he(e,n,t,r);return xr(null),rt(),i});return r?i.unshift(o):i.push(o),o}}const an=t=>(e,n=Cr)=>!Rr&&sn(t,e,n),un=an("bm"),cn=an("m"),ln=an("bu"),hn=an("u"),fn=an("bum"),dn=an("um"),pn=an("rtg"),vn=an("rtc"),gn={};function mn(t,e,n){return yn(t,e,n)}function yn(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=l,a=Cr){let u,c,h=!1;if(Zt(t)?(u=()=>t.value,h=!!t._shallow):Qt(t)?(u=()=>t,r=!0):u=_(t)?()=>t.map((t=>Zt(t)?t.value:Qt(t)?wn(t):E(t)?le(t,a,2,[a&&a.proxy]):void 0)):E(t)?e?()=>le(t,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return c&&c(),he(t,a,3,[d])}:f,e&&r){const t=u;u=()=>wn(t())}let d=t=>{c=m.options.onStop=()=>{le(t,a,4)}},p=_(t)?[]:gn;const v=()=>{if(m.active)if(e){const t=m();(r||h||V(t,p))&&(c&&c(),he(e,a,3,[t,p===gn?void 0:p,d]),p=t)}else m()};let g;v.allowRecurse=!!e,g="sync"===i?v:"post"===i?()=>Mn(v,a&&a.suspense):()=>{!a||a.isMounted?function(t){xe(t,ye,me,be)}(v):v()};const m=$(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:g});return Or(m,a),e?n?v():p=m():"post"===i?Mn(m,a&&a.suspense):m(),()=>{X(m),a&&y(a.effects,m)}}function bn(t,e,n){const r=this.proxy;return yn(A(t)?()=>r[t]:t.bind(r),e.bind(r),n,this)}function wn(t,e=new Set){if(!k(t)||e.has(t))return t;if(e.add(t),Zt(t))wn(t.value,e);else if(_(t))for(let n=0;n<t.length;n++)wn(t[n],e);else if(T(t)||I(t))t.forEach((t=>{wn(t,e)}));else for(const n in t)wn(t[n],e);return t}const _n=t=>t.type.__isKeepAlive;function In(t,e,n=Cr){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(sn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)_n(t.parent.vnode)&&Tn(r,e,n,t),t=t.parent}}function Tn(t,e,n,r){const i=sn(e,t,r,!0);dn((()=>{y(r[e],i)}),n)}const En=t=>"_"===t[0]||"$stable"===t,An=t=>_(t)?t.map(cr):[cr(t)],Sn=(t,e,n)=>We((t=>An(e(t))),n),kn=(t,e)=>{const n=t._ctx;for(const r in t){if(En(r))continue;const i=t[r];if(E(i))e[r]=Sn(0,i,n);else if(null!=i){const t=An(i);e[r]=()=>t}}},Cn=(t,e)=>{const n=An(e);t.slots.default=()=>n};function xn(t,e){if(null===Ve)return t;const n=Ve.proxy,r=t.dirs||(t.dirs=[]);for(let t=0;t<e.length;t++){let[i,o,s,a=l]=e[t];E(i)&&(i={mounted:i,updated:i}),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function Nn(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);const u=a.dir[r];u&&he(u,n,8,[t.el,a,t,e])}}function Rn(){return{app:null,config:{isNativeTag:d,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:d,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Pn=0;function Dn(t,e){return function(n,r=null){null==r||k(r)||(r=null);const i=Rn(),o=new Set;let s=!1;const a=i.app={_uid:Pn++,_component:n,_props:r,_container:null,_context:i,version:jr,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&E(t.install)?(o.add(t),t.install(a,...e)):E(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||(i.mixins.push(t),(t.props||t.emits)&&(i.deopt=!0)),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u,c){if(!s){const l=or(n,r);return l.appContext=i,u&&e?e(l,o):t(l,o,c),s=!0,a._container=o,o.__vue_app__=a,l.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}function On(t){return E(t)?{setup:t,name:t.name}:t}const Ln={scheduler:ke,allowRecurse:!0},Mn=function(t,e){e&&e.pendingBranch?_(t)?e.effects.push(...t):e.effects.push(t):xe(t,_e,we,Ie)},Fn=(t,e,n,r)=>{if(_(t))return void t.forEach(((t,i)=>Fn(t,e&&(_(e)?e[i]:e),n,r)));let i;if(r){if(r.type.__asyncLoader)return;i=4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el}else i=null;const{i:o,r:s}=t,a=e&&e.r,u=o.refs===l?o.refs={}:o.refs,c=o.setupState;if(null!=a&&a!==s&&(A(a)?(u[a]=null,w(c,a)&&(c[a]=null)):Zt(a)&&(a.value=null)),A(s)){const t=()=>{u[s]=i,w(c,s)&&(c[s]=i)};i?(t.id=-1,Mn(t,n)):t()}else if(Zt(s)){const t=()=>{s.value=i};i?(t.id=-1,Mn(t,n)):t()}else E(s)&&le(s,o,12,[i,u])};function Un(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:d,parentNode:p,nextSibling:v,setScopeId:g=f,cloneNode:y,insertStaticContent:b}=t,_=(t,e,n,r=null,i=null,o=null,s=!1,a=null,u=!1)=>{t&&!er(t,e)&&(r=st(t),J(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=e;switch(c){case zn:I(t,e,n,r);break;case Gn:T(t,e,n,r);break;case Qn:null==t&&E(e,n,r,s);break;case Hn:F(t,e,n,r,i,o,s,a,u);break;default:1&h?k(t,e,n,r,i,o,s,a,u):6&h?j(t,e,n,r,i,o,s,a,u):(64&h||128&h)&&c.process(t,e,n,r,i,o,s,a,u,ut)}null!=l&&i&&Fn(l,t&&t.ref,o,e)},I=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},T=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},E=(t,e,n,r)=>{[t.el,t.anchor]=b(t.children,e,n,r)},A=({el:t,anchor:e},r,i)=>{let o;for(;t&&t!==e;)o=v(t),n(t,r,i),t=o;n(e,r,i)},S=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=v(t),r(t),t=n;r(e)},k=(t,e,n,r,i,o,s,a,u)=>{s=s||"svg"===e.type,null==t?x(e,n,r,i,o,s,a,u):P(t,e,i,o,s,a,u)},x=(t,e,r,o,a,u,c,l)=>{let h,f;const{type:p,props:v,shapeFlag:g,transition:m,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==y&&-1===b)h=t.el=y(t.el);else{if(h=t.el=s(t.type,u,v&&v.is,v),8&g?d(h,t.children):16&g&&R(t.children,h,null,o,a,u&&"foreignObject"!==p,c,l||!!t.dynamicChildren),w&&Nn(t,null,o,"created"),v){for(const e in v)D(e)||i(h,e,null,v[e],u,t.children,o,a,it);(f=v.onVnodeBeforeMount)&&jn(f,o,t)}N(h,t,t.scopeId,c,o)}w&&Nn(t,null,o,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&m&&!m.persisted;_&&m.beforeEnter(h),n(h,e,r),((f=v&&v.onVnodeMounted)||_||w)&&Mn((()=>{f&&jn(f,o,t),_&&m.enter(h),w&&Nn(t,null,o,"mounted")}),a)},N=(t,e,n,r,i)=>{if(n&&g(t,n),r)for(let e=0;e<r.length;e++)g(t,r[e]);if(i){if(e===i.subTree){const e=i.vnode;N(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},R=(t,e,n,r,i,o,s,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=s?lr(t[c]):cr(t[c]);_(null,u,e,n,r,i,o,s,a)}},P=(t,e,n,r,s,a,u)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:f,dirs:p}=e;h|=16&t.patchFlag;const v=t.props||l,g=e.props||l;let m;if((m=g.onVnodeBeforeUpdate)&&jn(m,n,e,t),p&&Nn(e,t,n,"beforeUpdate"),h>0){if(16&h)L(c,e,v,g,n,r,s);else if(2&h&&v.class!==g.class&&i(c,"class",null,g.class,s),4&h&&i(c,"style",v.style,g.style,s),8&h){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const u=a[e],l=v[u],h=g[u];(h!==l||o&&o(c,u))&&i(c,u,l,h,s,t.children,n,r,it)}}1&h&&t.children!==e.children&&d(c,e.children)}else u||null!=f||L(c,e,v,g,n,r,s);const y=s&&"foreignObject"!==e.type;f?O(t.dynamicChildren,f,c,n,r,y,a):u||z(t,e,c,null,n,r,y,a,!1),((m=g.onVnodeUpdated)||p)&&Mn((()=>{m&&jn(m,n,e,t),p&&Nn(e,t,n,"updated")}),r)},O=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],l=u.type===Hn||!er(u,c)||6&u.shapeFlag||64&u.shapeFlag?p(u.el):n;_(u,c,l,null,r,i,o,s,!0)}},L=(t,e,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(D(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(t,c))&&i(t,c,h,l,u,e.children,s,a,it)}if(n!==l)for(const o in n)D(o)||o in r||i(t,o,n[o],null,u,e.children,s,a,it)}},F=(t,e,r,i,o,s,u,c,l)=>{const h=e.el=t?t.el:a(""),f=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:v}=e;d>0&&(l=!0),v&&(c=c?c.concat(v):v),null==t?(n(h,r,i),n(f,r,i),R(e.children,r,f,o,s,u,c,l)):d>0&&64&d&&p&&t.dynamicChildren?(O(t.dynamicChildren,p,r,o,s,u,c),(null!=e.key||o&&e===o.subTree)&&qn(t,e,!0)):z(t,e,r,f,o,s,u,c,l)},j=(t,e,n,r,i,o,s,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,u):q(e,n,r,i,o,s,u):V(t,e,u)},q=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Sr,o={uid:kr++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tn(r,i),emitsOptions:Le(r,i),emit:null,emitted:null,propsDefaults:l,ctx:l,data:l,props:l,attrs:l,slots:l,refs:l,setupState:l,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Oe.bind(null,o),o}(t,r,i);if(_n(t)&&(a.ctx.renderer=ut),function(t,e=!1){Rr=e;const{props:n,children:r}=t.vnode,i=Nr(t);Xe(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,K(e,"_",n)):kn(e,t.slots={})}else t.slots={},e&&Cn(t,e);K(t.slots,nr,1)})(t,r);const o=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Er);const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=oe(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;Cr=t,nt();const i=le(r,t,0,[t.props,n]);if(rt(),Cr=null,C(i)){if(e)return i.then((e=>{Pr(t,e)})).catch((e=>{fe(e,t,0)}));t.asyncDep=i}else Pr(t,i)}else Dr(t)}(t,e):void 0;Rr=!1}(a),a.asyncDep){if(i&&i.registerDep(a,W),!t.el){const t=a.subTree=or(Gn);T(null,t,e,n)}}else W(a,t,e,n,i,o,s)},V=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||Ye(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Ye(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Me(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void H(r,e,n);r.next=e,function(t){const e=ve.indexOf(t);e>ge&&ve.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},W=(t,e,n,r,i,o,s)=>{t.update=$((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,l=n;n?(n.el=c.el,H(t,n,s)):n=c,r&&B(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&jn(e,u,n,c);const h=He(t),f=t.subTree;t.subTree=h,_(f,h,p(f.el),st(f),t,i,o),n.el=h.el,null===l&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,h.el),a&&Mn(a,i),(e=n.props&&n.props.onVnodeUpdated)&&Mn((()=>{jn(e,u,n,c)}),i)}else{let s;const{el:a,props:u}=e,{bm:c,m:l,parent:h}=t;c&&B(c),(s=u&&u.onVnodeBeforeMount)&&jn(s,h,e);const f=t.subTree=He(t);if(a&&lt?lt(e.el,f,t,i,null):(_(null,f,n,r,t,i,o),e.el=f.el),l&&Mn(l,i),s=u&&u.onVnodeMounted){const t=e;Mn((()=>{jn(s,h,t)}),i)}const{a:d}=t;d&&256&e.shapeFlag&&Mn(d,i),t.isMounted=!0,e=n=r=null}}),Ln)},H=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Xt(i),[u]=t.propsOptions;if(!(r||s>0)||16&s){let r;Je(t,e,i,o);for(const o in a)e&&(w(e,o)||(r=U(o))!==o&&w(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Ze(u,e||l,o,void 0,t)):delete i[o]);if(o!==a)for(const t in o)e&&w(e,t)||delete o[t]}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){const s=n[r],c=e[s];if(u)if(w(o,s))o[s]=c;else{const e=M(s);i[e]=Ze(u,a,e,c,t)}else o[s]=c}}ot(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=l;if(32&r.shapeFlag){const t=e._;t?n&&1===t?o=!1:(m(i,e),n||1!==t||delete i._):(o=!e.$stable,kn(e,i)),s=e}else e&&(Cn(t,e),s={default:1});if(o)for(const t in i)En(t)||t in s||delete i[t]})(t,e.children,n),nt(),Ne(void 0,t.update),rt()},z=(t,e,n,r,i,o,s,a,u=!1)=>{const c=t&&t.children,l=t?t.shapeFlag:0,h=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void Q(c,h,n,r,i,o,s,a,u);if(256&f)return void G(c,h,n,r,i,o,s,a,u)}8&p?(16&l&&it(c,i,o),h!==c&&d(n,h)):16&l?16&p?Q(c,h,n,r,i,o,s,a,u):it(c,i,o,!0):(8&l&&d(n,""),16&p&&R(h,n,r,i,o,s,a,u))},G=(t,e,n,r,i,o,s,a,u)=>{e=e||h;const c=(t=t||h).length,l=e.length,f=Math.min(c,l);let d;for(d=0;d<f;d++){const r=e[d]=u?lr(e[d]):cr(e[d]);_(t[d],r,n,null,i,o,s,a,u)}c>l?it(t,i,o,!0,!1,f):R(e,n,r,i,o,s,a,u,f)},Q=(t,e,n,r,i,o,s,a,u)=>{let c=0;const l=e.length;let f=t.length-1,d=l-1;for(;c<=f&&c<=d;){const r=t[c],l=e[c]=u?lr(e[c]):cr(e[c]);if(!er(r,l))break;_(r,l,n,null,i,o,s,a,u),c++}for(;c<=f&&c<=d;){const r=t[f],c=e[d]=u?lr(e[d]):cr(e[d]);if(!er(r,c))break;_(r,c,n,null,i,o,s,a,u),f--,d--}if(c>f){if(c<=d){const t=d+1,h=t<l?e[t].el:r;for(;c<=d;)_(null,e[c]=u?lr(e[c]):cr(e[c]),n,h,i,o,s,a,u),c++}}else if(c>d)for(;c<=f;)J(t[c],i,o,!0),c++;else{const p=c,v=c,g=new Map;for(c=v;c<=d;c++){const t=e[c]=u?lr(e[c]):cr(e[c]);null!=t.key&&g.set(t.key,c)}let m,y=0;const b=d-v+1;let w=!1,I=0;const T=new Array(b);for(c=0;c<b;c++)T[c]=0;for(c=p;c<=f;c++){const r=t[c];if(y>=b){J(r,i,o,!0);continue}let l;if(null!=r.key)l=g.get(r.key);else for(m=v;m<=d;m++)if(0===T[m-v]&&er(r,e[m])){l=m;break}void 0===l?J(r,i,o,!0):(T[l-v]=c+1,l>=I?I=l:w=!0,_(r,e[l],n,null,i,o,s,a,u),y++)}const E=w?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(T):h;for(m=E.length-1,c=b-1;c>=0;c--){const t=v+c,h=e[t],f=t+1<l?e[t+1].el:r;0===T[c]?_(null,h,n,f,i,o,s,a,u):w&&(m<0||c!==E[m]?Y(h,n,f,2):m--)}}},Y=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void Y(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,ut);if(a===Hn){n(s,e,r);for(let t=0;t<c.length;t++)Y(c[t],e,r,i);return void n(t.anchor,e,r)}if(a===Qn)return void A(t,e,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(s),n(s,e,r),Mn((()=>u.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else n(s,e,r)},J=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&Fn(a,null,n,null),256&l)return void e.ctx.deactivate(t);const d=1&l&&f;let p;if((p=s&&s.onVnodeBeforeUnmount)&&jn(p,e,t),6&l)et(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);d&&Nn(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,ut,r):c&&(o!==Hn||h>0&&64&h)?it(c,e,n,!1,!0):(o===Hn&&(128&h||256&h)||!i&&16&l)&&it(u,e,n),r&&Z(t)}((p=s&&s.onVnodeUnmounted)||d)&&Mn((()=>{p&&jn(p,e,t),d&&Nn(t,null,e,"unmounted")}),n)},Z=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===Hn)return void tt(n,i);if(e===Qn)return void S(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},tt=(t,e)=>{let n;for(;t!==e;)n=v(t),r(t),t=n;r(e)},et=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=t;if(r&&B(r),i)for(let t=0;t<i.length;t++)X(i[t]);o&&(X(o),J(s,t,e,n)),a&&Mn(a,e),Mn((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},it=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)J(t[s],e,n,r,i)},st=t=>6&t.shapeFlag?st(t.component.subTree):128&t.shapeFlag?t.suspense.next():v(t.anchor||t.el),at=(t,e,n)=>{null==t?e._vnode&&J(e._vnode,null,null,!0):_(e._vnode||null,t,e,null,null,null,n),Re(),e._vnode=t},ut={p:_,um:J,m:Y,r:Z,mt:q,mc:R,pc:z,pbc:O,n:st,o:t};let ct,lt;e&&([ct,lt]=e(ut));return{render:at,hydrate:ct,createApp:Dn(at,ct)}}(t)}function jn(t,e,n,r=null){he(t,e,7,[n,r])}function qn(t,e,n=!1){const r=t.children,i=e.children;if(_(r)&&_(i))for(let t=0;t<r.length;t++){const e=r[t];let o=i[t];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=i[t]=lr(i[t]),o.el=e.el),n||qn(e,o))}}function Vn(t,e){return Kn("components",t,!0,e)||t}const Bn=Symbol();function Kn(t,e,n=!0,r=!1){const i=Ve||Cr;if(i){const n=i.type;if("components"===t){const t=Lr(n);if(t&&(t===e||t===M(e)||t===j(M(e))))return n}const o=Wn(i[t]||n[t],e)||Wn(i.appContext[t],e);return!o&&r?n:o}}function Wn(t,e){return t&&(t[e]||t[M(e)]||t[j(M(e))])}const Hn=Symbol(void 0),zn=Symbol(void 0),Gn=Symbol(void 0),Qn=Symbol(void 0),Yn=[];let $n=null;function Xn(t=!1){Yn.push($n=t?null:[])}function Jn(){Yn.pop(),$n=Yn[Yn.length-1]||null}function Zn(t,e,n,r,i){const o=or(t,e,n,r,i,!0);return o.dynamicChildren=$n||h,Jn(),$n&&$n.push(o),o}function tr(t){return!!t&&!0===t.__v_isVNode}function er(t,e){return t.type===e.type&&t.key===e.key}const nr="__vInternal",rr=({key:t})=>null!=t?t:null,ir=({ref:t})=>null!=t?A(t)||Zt(t)||E(t)?{i:Ve,r:t}:t:null,or=function(t,e=null,n=null,i=0,o=null,s=!1){t&&t!==Bn||(t=Gn);if(tr(t)){const r=sr(t,e,!0);return n&&hr(r,n),r}u=t,E(u)&&"__vccOpts"in u&&(t=t.__vccOpts);var u;if(e){($t(e)||nr in e)&&(e=m({},e));let{class:t,style:n}=e;t&&!A(t)&&(e.class=a(t)),k(n)&&($t(n)&&!_(n)&&(n=m({},n)),e.style=r(n))}const c=A(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:k(t)?4:E(t)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rr(e),ref:e&&ir(e),scopeId:Be,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(hr(l,n),128&c){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:n}=t;let r,i;return 32&e?(r=$e(n.default),i=$e(n.fallback)):(r=$e(n),i=cr(null)),{content:r,fallback:i}}(l);l.ssContent=t,l.ssFallback=e}!s&&$n&&(i>0||6&c)&&32!==i&&$n.push(l);return l};function sr(t,e,n=!1){const{props:i,ref:o,patchFlag:s,children:u}=t,c=e?function(...t){const e=m({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=a([e.class,i.class]));else if("style"===t)e.style=r([e.style,i.style]);else if(v(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,i[t]):r)}else""!==t&&(e[t]=i[t])}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&rr(c),ref:e&&e.ref?n&&o?_(o)?o.concat(ir(e)):[o,ir(e)]:ir(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Hn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&sr(t.ssContent),ssFallback:t.ssFallback&&sr(t.ssFallback),el:t.el,anchor:t.anchor}}function ar(t=" ",e=0){return or(zn,null,t,e)}function ur(t,e){const n=or(Qn,null,t);return n.staticCount=e,n}function cr(t){return null==t||"boolean"==typeof t?or(Gn):_(t)?or(Hn,null,t):"object"==typeof t?null===t.el?t:sr(t):or(zn,null,String(t))}function lr(t){return null===t.el?t:sr(t)}function hr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(_(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&Ue(1),hr(t,n()),n._c&&Ue(-1)))}{n=32;const r=e._;r||nr in e?3===r&&Ve&&(1024&Ve.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=Ve}}else E(e)?(e={default:e,_ctx:Ve},n=32):(e=String(e),64&r?(n=16,e=[ar(e)]):n=8);t.children=e,t.shapeFlag|=n}function fr(t,e){if(Cr){let n=Cr.provides;const r=Cr.parent&&Cr.parent.provides;r===n&&(n=Cr.provides=Object.create(r)),n[t]=e}else;}function dr(t,e,n=!1){const r=Cr||Ve;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&E(e)?e():e}}let pr=!0;function vr(t,e,n=[],r=[],i=[],o=!1){const{mixins:s,extends:a,data:u,computed:c,methods:h,watch:d,provide:p,inject:v,components:g,directives:y,beforeMount:b,mounted:w,beforeUpdate:I,updated:T,activated:A,deactivated:S,beforeDestroy:C,beforeUnmount:x,destroyed:N,unmounted:R,render:P,renderTracked:D,renderTriggered:O,errorCaptured:L,expose:M}=e,F=t.proxy,U=t.ctx,j=t.appContext.mixins;if(o&&P&&t.render===f&&(t.render=P),o||(pr=!1,gr("beforeCreate","bc",e,t,j),pr=!0,yr(t,j,n,r,i)),a&&vr(t,a,n,r,i,!0),s&&yr(t,s,n,r,i),v)if(_(v))for(let t=0;t<v.length;t++){const e=v[t];U[e]=dr(e)}else for(const t in v){const e=v[t];k(e)?U[t]=dr(e.from||t,e.default,!0):U[t]=dr(e)}if(h)for(const t in h){const e=h[t];E(e)&&(U[t]=e.bind(F))}if(o?u&&n.push(u):(n.length&&n.forEach((e=>br(t,e,F))),u&&br(t,u,F)),c)for(const t in c){const e=c[t],n=Mr({get:E(e)?e.bind(F,F):E(e.get)?e.get.bind(F,F):f,set:!E(e)&&E(e.set)?e.set.bind(F):f});Object.defineProperty(U,t,{enumerable:!0,configurable:!0,get:()=>n.value,set:t=>n.value=t})}var q;if(d&&r.push(d),!o&&r.length&&r.forEach((t=>{for(const e in t)wr(t[e],U,F,e)})),p&&i.push(p),!o&&i.length&&i.forEach((t=>{const e=E(t)?t.call(F):t;Reflect.ownKeys(e).forEach((t=>{fr(t,e[t])}))})),o&&(g&&m(t.components||(t.components=m({},t.type.components)),g),y&&m(t.directives||(t.directives=m({},t.type.directives)),y)),o||gr("created","c",e,t,j),b&&un(b.bind(F)),w&&cn(w.bind(F)),I&&ln(I.bind(F)),T&&hn(T.bind(F)),A&&In(A.bind(F),"a",q),S&&function(t,e){In(t,"da",e)}(S.bind(F)),L&&((t,e=Cr)=>{sn("ec",t,e)})(L.bind(F)),D&&vn(D.bind(F)),O&&pn(O.bind(F)),x&&fn(x.bind(F)),R&&dn(R.bind(F)),_(M)&&!o)if(M.length){const e=t.exposed||(t.exposed=oe({}));M.forEach((t=>{e[t]=ue(F,t)}))}else t.exposed||(t.exposed=l)}function gr(t,e,n,r,i){for(let n=0;n<i.length;n++)mr(t,e,i[n],r);mr(t,e,n,r)}function mr(t,e,n,r){const{extends:i,mixins:o}=n,s=n[t];if(i&&mr(t,e,i,r),o)for(let n=0;n<o.length;n++)mr(t,e,o[n],r);s&&he(s.bind(r.proxy),r,e)}function yr(t,e,n,r,i){for(let o=0;o<e.length;o++)vr(t,e[o],n,r,i,!0)}function br(t,e,n){pr=!1;const r=e.call(n,n);pr=!0,k(r)&&(t.data===l?t.data=Ht(r):m(t.data,r))}function wr(t,e,n,r){const i=r.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(n,r):()=>n[r];if(A(t)){const n=e[t];E(n)&&mn(i,n)}else if(E(t))mn(i,t.bind(n));else if(k(t))if(_(t))t.forEach((t=>wr(t,e,n,r)));else{const r=E(t.handler)?t.handler.bind(n):e[t.handler];E(r)&&mn(i,r,t)}}function _r(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=e;o&&_r(t,o,n),i&&i.forEach((e=>_r(t,e,n)));for(const i in e)r&&w(r,i)?t[i]=r[i](t[i],e[i],n.proxy,i):t[i]=e[i]}const Ir=t=>t?Nr(t)?t.exposed?t.exposed:t.proxy:Ir(t.parent):null,Tr=m(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ir(t.parent),$root:t=>Ir(t.root),$emit:t=>t.emit,$options:t=>function(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const o=t.appContext.mixins;if(!o.length&&!r&&!i)return e;const s={};return o.forEach((e=>_r(s,e,t))),_r(s,e,t),e.__merged=s}(t),$forceUpdate:t=>()=>ke(t.update),$nextTick:t=>Se.bind(t.proxy),$watch:t=>bn.bind(t)}),Er={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==l&&w(r,e))return s[e]=0,r[e];if(i!==l&&w(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&w(c,e))return s[e]=2,o[e];if(n!==l&&w(n,e))return s[e]=3,n[e];pr&&(s[e]=4)}}const h=Tr[e];let f,d;return h?("$attrs"===e&&it(t,0,e),h(t)):(f=a.__cssModules)&&(f=f[e])?f:n!==l&&w(n,e)?(s[e]=3,n[e]):(d=u.config.globalProperties,w(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==l&&w(i,e))i[e]=n;else if(r!==l&&w(r,e))r[e]=n;else if(w(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==l&&w(t,s)||e!==l&&w(e,s)||(a=o[0])&&w(a,s)||w(r,s)||w(Tr,s)||w(i.config.globalProperties,s)}},Ar=m({},Er,{get(t,e){if(e!==Symbol.unscopables)return Er.get(t,e,t)},has:(t,n)=>"_"!==n[0]&&!e(n)}),Sr=Rn();let kr=0;let Cr=null;const xr=t=>{Cr=t};function Nr(t){return 4&t.vnode.shapeFlag}let Rr=!1;function Pr(t,e,n){E(e)?t.render=e:k(e)&&(t.setupState=oe(e)),Dr(t)}function Dr(t,e){const n=t.type;t.render||(t.render=n.render||f,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Ar))),Cr=t,nt(),vr(t,n),rt(),Cr=null}function Or(t,e=Cr){e&&(e.effects||(e.effects=[])).push(t)}function Lr(t){return E(t)&&t.displayName||t.name}function Mr(t){const e=function(t){let e,n;return E(t)?(e=t,n=f):(e=t.get,n=t.set),new ce(e,n,E(t)||!t.set)}(t);return Or(e.effect),e}function Fr(t,e,n){const r=arguments.length;return 2===r?k(e)&&!_(e)?tr(e)?or(t,null,[e]):or(t,e):or(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&tr(n)&&(n=[n]),or(t,e,n))}function Ur(t,e){let n;if(_(t)||A(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(k(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}const jr="3.0.11",qr="http://www.w3.org/2000/svg",Vr="undefined"!=typeof document?document:null;let Br,Kr;const Wr={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Vr.createElementNS(qr,t):Vr.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>Vr.createTextNode(t),createComment:t=>Vr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=r?Kr||(Kr=Vr.createElementNS(qr,"svg")):Br||(Br=Vr.createElement("div"));i.innerHTML=t;const o=i.firstChild;let s=o,a=s;for(;s;)a=s,Wr.insert(s,e,n),s=i.firstChild;return[o,a]}};const Hr=/\s*!important$/;function zr(t,e,n){if(_(n))n.forEach((n=>zr(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=Qr[e];if(n)return n;let r=M(e);if("filter"!==r&&r in t)return Qr[e]=r;r=j(r);for(let n=0;n<Gr.length;n++){const i=Gr[n]+r;if(i in t)return Qr[e]=i}return e}(t,e);Hr.test(n)?t.setProperty(U(r),n.replace(Hr,""),"important"):t[r]=n}}const Gr=["Webkit","Moz","ms"],Qr={};const Yr="http://www.w3.org/1999/xlink";let $r=Date.now,Xr=!1;if("undefined"!=typeof window){$r()>document.createEvent("Event").timeStamp&&($r=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Xr=!!(t&&Number(t[1])<=53)}let Jr=0;const Zr=Promise.resolve(),ti=()=>{Jr=0};function ei(t,e,n,r){t.addEventListener(e,n,r)}function ni(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(ri.test(t)){let n;for(e={};n=t.match(ri);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[U(t.slice(2)),e]}(e);if(r){ei(t,n,o[e]=function(t,e){const n=t=>{const r=t.timeStamp||$r();(Xr||r>=n.attached-1)&&he(function(t,e){if(_(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>Jr||(Zr.then(ti),Jr=$r()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const ri=/(?:Once|Passive|Capture)$/;const ii=/^on[a-z]/;const oi=t=>{const e=t.props["onUpdate:modelValue"];return _(e)?t=>B(e,t):e};function si(t){t.target.composing=!0}function ai(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}(e,"input"))}const ui={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=oi(i);const o=r||"number"===t.type;ei(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n?r=r.trim():o&&(r=W(r)),t._assign(r)})),n&&ei(t,"change",(()=>{t.value=t.value.trim()})),e||(ei(t,"compositionstart",si),ei(t,"compositionend",ai),ei(t,"change",ai))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:n,number:r}},i){if(t._assign=oi(i),t.composing)return;if(document.activeElement===t){if(n&&t.value.trim()===e)return;if((r||"number"===t.type)&&W(t.value)===e)return}const o=null==e?"":e;t.value!==o&&(t.value=o)}},ci=["ctrl","shift","alt","meta"],li={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>ci.some((n=>t[`${n}Key`]&&!e.includes(n)))},hi=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=li[e[t]];if(r&&r(n,e))return}return t(n,...r)},fi={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):di(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),di(t,!0),r.enter(t)):r.leave(t,(()=>{di(t,!1)})):di(t,e))},beforeUnmount(t,{value:e}){di(t,e)}};function di(t,e){t.style.display=e?t._vod:"none"}const pi=m({patchProp:(t,e,r,i,o=!1,s,a,u,c)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,i,o);break;case"style":!function(t,e,n){const r=t.style;if(n)if(A(n)){if(e!==n){const e=r.display;r.cssText=n,"_vod"in t&&(r.display=e)}}else{for(const t in n)zr(r,t,n[t]);if(e&&!A(e))for(const t in e)null==n[t]&&zr(r,t,"")}else t.removeAttribute("style")}(t,r,i);break;default:v(e)?g(e)||ni(t,e,0,i,a):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&ii.test(e)&&E(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(ii.test(e)&&A(n))return!1;return e in t}(t,e,i,o)?function(t,e,n,r,i,o,s){if("innerHTML"===e||"textContent"===e)return r&&s(r,i,o),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName){if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r)return t[e]=0,void t.removeAttribute(e)}try{t[e]=n}catch(t){}}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}(t,e,i,s,a,u,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,r,i){if(i&&e.startsWith("xlink:"))null==r?t.removeAttributeNS(Yr,e.slice(6,e.length)):t.setAttributeNS(Yr,e,r);else{const i=n(e);null==r||i&&!1===r?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}(t,e,i,o))}},forcePatchProp:(t,e)=>"value"===e},Wr);let vi;
/*!
  * vue-router v4.0.8
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const gi="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,mi=t=>gi?Symbol(t):"_vr_"+t,yi=mi("rvlm"),bi=mi("rvd"),wi=mi("r"),_i=mi("rl"),Ii=mi("rvl"),Ti="undefined"!=typeof window;const Ei=Object.assign;function Ai(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}let Si=()=>{};const ki=/\/$/;function Ci(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("?"),u=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),o=e.slice(a+1,u>-1?u:e.length),i=t(o)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function xi(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ni(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ri(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!Pi(t[n],e[n]))return!1;return!0}function Pi(t,e){return Array.isArray(t)?Di(t,e):Array.isArray(e)?Di(e,t):t===e}function Di(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var Oi,Li,Mi,Fi;function Ui(t){if(!t)if(Ti){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(ki,"")}(Li=Oi||(Oi={})).pop="pop",Li.push="push",(Fi=Mi||(Mi={})).back="back",Fi.forward="forward",Fi.unknown="";const ji=/^[^#]+#/;function qi(t,e){return t.replace(ji,"#")+e}const Vi=()=>({left:window.pageXOffset,top:window.pageYOffset});function Bi(t){let e;if("el"in t){let n=t.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function Ki(t,e){return(history.state?history.state.position-e:-1)+t}const Wi=new Map;function Hi(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let e=i.includes(t.slice(o))?t.slice(o).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),xi(n,"")}return xi(n,t)+r+i}function zi(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Vi():null}}function Gi(t){const{history:e,location:n}=window;let r={value:Hi(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:location.protocol+"//"+location.host+t+r;try{e[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(t){console.error(t),n[s?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(t,n){const s=Ei({},i.value,e.state,{forward:t,scroll:Vi()});o(s.current,s,!0),o(t,Ei({},zi(r.value,t,null),{position:s.position+1},n),!1),r.value=t},replace:function(t,n){o(t,Ei({},e.state,zi(i.value.back,t,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=t}}}function Qi(t){return"string"==typeof t||"symbol"==typeof t}const Yi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$i=mi("nf");var Xi,Ji;function Zi(t,e){return Ei(new Error,{type:t,[$i]:!0},e)}function to(t,e){return t instanceof Error&&$i in t&&(null==e||!!(t.type&e))}(Ji=Xi||(Xi={}))[Ji.aborted=4]="aborted",Ji[Ji.cancelled=8]="cancelled",Ji[Ji.duplicated=16]="duplicated";const eo={sensitive:!1,strict:!1,start:!0,end:!0},no=/[.+*?^${}()[\]/\\]/g;function ro(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function io(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const t=ro(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const oo={type:0,value:""},so=/[a-zA-Z0-9_]/;function ao(t,e,n){const r=function(t,e){const n=Ei({},eo,e);let r=[],i=n.start?"^":"";const o=[];for(const e of t){const t=e.length?[]:[90];n.strict&&!e.length&&(i+="/");for(let r=0;r<e.length;r++){const s=e[r];let a=40+(n.sensitive?.25:0);if(0===s.type)r||(i+="/"),i+=s.value.replace(no,"\\$&"),a+=40;else if(1===s.type){const{value:t,repeatable:n,optional:u,regexp:c}=s;o.push({name:t,repeatable:n,optional:u});const l=c||"[^/]+?";if("[^/]+?"!==l){a+=10;try{new RegExp(`(${l})`)}catch(e){throw new Error(`Invalid custom RegExp for param "${t}" (${l}): `+e.message)}}let h=n?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;r||(h=u&&e.length<2?`(?:/${h})`:"/"+h),u&&(h+="?"),i+=h,a+=20,u&&(a+=-8),n&&(a+=-20),".*"===l&&(a+=-50)}t.push(a)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let t=1;t<e.length;t++){const r=e[t]||"",i=o[t-1];n[i.name]=r&&i.repeatable?r.split("/"):r}return n},stringify:function(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,u=o in e?e[o]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[oo]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;u<t.length;)if(a=t[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?n=2:so.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,l="";break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}(t.path),n),i=Ei(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function uo(t,e){const n=[],r=new Map;function i(t,n,r){let a=!r,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:co(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);u.aliasOf=r&&r.record;const c=fo(e,t),l=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(Ei({},u,{components:r?r.record.components:u.components,path:t,aliasOf:r?r.record:u}))}let h,f;for(const e of l){let{path:l}=e;if(n&&"/"!==l[0]){let t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=ao(e,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&t.name&&!lo(h)&&o(t.name)),"children"in u){let t=u.children;for(let e=0;e<t.length;e++)i(t[e],h,r&&r.children[e])}r=r||h,s(h)}return f?()=>{o(f)}:Si}function o(t){if(Qi(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function s(t){let e=0;for(;e<n.length&&io(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!lo(t)&&r.set(t.record.name,t)}return e=fo({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>i(t))),{addRoute:i,resolve:function(t,e){let i,o,s,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw Zi(1,{location:t});s=i.record.name,a=Ei(function(t,e){let n={};for(let r of e)r in t&&(n[r]=t[r]);return n}(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(a)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw Zi(1,{location:t,currentLocation:e});s=i.record.name,a=Ei({},e.params,t.params),o=i.stringify(a)}const u=[];let c=i;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:u,meta:ho(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function co(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let r in t.components)e[r]="boolean"==typeof n?n:n[r];return e}function lo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ho(t){return t.reduce(((t,e)=>Ei(t,e.meta)),{})}function fo(t,e){let n={};for(let r in t)n[r]=r in e?e[r]:t[r];return n}const po=/#/g,vo=/&/g,go=/\//g,mo=/=/g,yo=/\?/g,bo=/\+/g,wo=/%5B/g,_o=/%5D/g,Io=/%5E/g,To=/%60/g,Eo=/%7B/g,Ao=/%7C/g,So=/%7D/g,ko=/%20/g;function Co(t){return encodeURI(""+t).replace(Ao,"|").replace(wo,"[").replace(_o,"]")}function xo(t){return Co(t).replace(bo,"%2B").replace(ko,"+").replace(po,"%23").replace(vo,"%26").replace(To,"`").replace(Eo,"{").replace(So,"}").replace(Io,"^")}function No(t){return function(t){return Co(t).replace(po,"%23").replace(yo,"%3F")}(t).replace(go,"%2F")}function Ro(t){try{return decodeURIComponent(""+t)}catch(t){}return""+t}function Po(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let t=0;t<n.length;++t){const r=n[t].replace(bo," ");let i=r.indexOf("="),o=Ro(i<0?r:r.slice(0,i));if(Object.prototype.hasOwnProperty(o))continue;let s=i<0?null:Ro(r.slice(i+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function Do(t){let e="";for(let n in t){const r=t[n];if(n=xo(n).replace(mo,"%3D"),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map((t=>t&&xo(t))):[r&&xo(r)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Oo(t){const e={};for(let n in t){let r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function Lo(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function Mo(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=t=>{var u;!1===t?a(Zi(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(u=t)||u&&"object"==typeof u?a(Zi(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"==typeof t&&o.push(t),s())},c=t.call(r&&r.instances[i],e,n,u);let l=Promise.resolve(c);t.length<3&&(l=l.then(u)),l.catch((t=>a(t)))}))}function Fo(t,e,n,r){const i=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[e];o&&i.push(Mo(o,n,r,s,t))}else{let o=a();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const o=(a=i).__esModule||gi&&"Module"===a[Symbol.toStringTag]?i.default:i;var a;s.components[t]=o;const u=(o.__vccOpts||o)[e];return u&&Mo(u,n,r,s,t)()}))))}}var o;return i}function Uo(t){const e=dr(wi),n=dr(_i),r=Mr((()=>e.resolve(re(t.to)))),i=Mr((()=>{let{matched:t}=r.value,{length:e}=t;const i=t[e-1];let o=n.matched;if(!i||!o.length)return-1;let s=o.findIndex(Ni.bind(null,i));if(s>-1)return s;let a=qo(t[e-2]);return e>1&&qo(i)===a&&o[o.length-1].path!==a?o.findIndex(Ni.bind(null,t[e-2])):s})),o=Mr((()=>i.value>-1&&function(t,e){for(let n in e){let r=e[n],i=t[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}(n.params,r.value.params))),s=Mr((()=>i.value>-1&&i.value===n.matched.length-1&&Ri(n.params,r.value.params)));return{route:r,href:Mr((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[re(t.replace)?"replace":"push"](re(t.to)):Promise.resolve()}}}const jo=On({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e}){const n=Ht(Uo(t)),{options:r}=dr(wi),i=Mr((()=>({[Vo(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Vo(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:Fr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function qo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Vo=(t,e,n)=>null!=t?t:null!=e?e:n;function Bo(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Ko=On({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=dr(Ii),i=Mr((()=>t.route||r.value)),o=dr(bi,0),s=Mr((()=>i.value.matched[o]));fr(bi,o+1),fr(yi,s),fr(Ii,i);const a=te();return mn((()=>[a.value,s.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&Ni(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=i.value,o=s.value,u=o&&o.components[t.name],c=t.name;if(!u)return Bo(n.default,{Component:u,route:r});const l=o.props[t.name],h=l?!0===l?r.params:"function"==typeof l?l(r):l:null,f=Fr(u,Ei({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(o.instances[c]=null)},ref:a}));return Bo(n.default,{Component:f,route:r})||f}}});function Wo(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function Ho(){return dr(wi)}var zo=On({setup(){const{currentRoute:t}=Ho();return{layout:Mr((()=>`${t.value.meta.layout||"default"}-layout`))}}});zo.render=function(t,e,n,r,i,o){const s=Vn("router-view");return Xn(),Zn((a=t.layout,A(a)?Kn("components",a,!1)||a:a||Bn),null,{default:We((()=>[or(s)])),_:1});var a};var Go=On({setup(){const t={name:"",email:"123@123",title:"",title2:"Tag",status:"",role:"  "};return{users:te([...Array(1).keys()].map((()=>t)))}}}),Qo="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw8QDxASDw8VFRUQEBAQFRAVDxgSFRUPFRUWFhUVFRUYHSggGB0lGxUXITEhJSkrLi4uFx8zODMtNygtMCsBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEBAAMBAQEAAAAAAAAAAAAAAQIGBwUEA//EAD8QAAIBAgEGCAoJBQAAAAAAAAABAgMRBAUGBxIhMRM1QVFhc4GyFDM0UnF0hJGxsyIyQnKTocPw8RYjU8HR/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AOwgAARO5GyoCgAAAAABAKCWCYFAAAAAAAAJF3JcqAoAAAAAAQCgxsZIAAABi2VoiQBIyAAAAAAABEUjQGTd9r+O8xQRQAAAAAAYtlktgS5QCRQAAAAAAASLKRoCvnfYgggAAAAAAAAAAAAAAAAAAAAA8fKuc+Cw0nGrWWut9OKc5L72qvo9tgPYBr+Cz0yfVaXD6jexcJBwV/vPYu1mwJ3/AHyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABq2f8Al6WFoRhSdqldyipLfGmra0l07Ul6W+Q1fNPMl4qmq+IqShCd3CMba81yybd0k/Q7/H9dK1OXhGHk/quhJL7ym3L8pRN9yDWhPCYaVP6roU0rclopNdjTXYBqGWdHUNRywlSevFXVOo01LoUklqv037N58ujfLtSNXwOq3qyUuDUt8KkU3KG3cmk9nI10nSDkuT5Rq5cUqP1XjKk1blinJykuhpN9oHWgAAAAAAAAAAAAAAAAAAAIwKCWCYFAAAAAAAAJF3I2SpUjCLlNqMYpycm7JRW9tvcB4+duQVjsPqJpVIPXpye5Stti+hr/AE+Q51kzLmOyVOVGcNl7ujUTtfzqclz86umbridIGAhJqLqTt9qNP6PZrNP8j5cTn5k2rHVq0Kk15s6NOa9zkBruVs+sXiY8FSgqaqfRahedSV/sp8l+hX6TY8wM1p4a+IxEbVJR1YU+WEHvcuaT5uRenZ+WEz2yVR8ThZU7+Zh6cO7I+qOkTAt7Y1l08HH/AFIDbwfLk3KNHE01UoVFOL2XW9PmkntT6GfSBQS38BMCgAAAAAAAETuRsqAoAAERSNAVu+/+QRFAAAAAABjcskEucBFGh6VcfOMKFCLtGo51J9Oo4qKfRdt9iN9Ob6V1/ewvV1e9ED7M3MxcLUw1KrXc5SqwjUtGerGMZK6Stv2NXZ6f9AZP8yp+Mz2M3PIsJ6tQ+XE9EDVv6Ayf5lT8ZmFbR7gHFqPCRbWyXCa1nz2aszbAByjMavUw2U+AvdTlVoTS3OVPWakl6Y+6TOrRZyfIvHvtmK/VOsNAV877FcIIAAAAAAAwbuZSQSAJFAAAAAAAAAAAAAAAAAAHNtLHjcL1dXvROknNtLHjcL1dXvRA3jNzyLCerUPlxPRPOzc8iwnq1D5cT0QAAA5LkTj32zFfqnWjkuROPfbMV+qdaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzbSx43C9XV70TpJ4ucWbVDHcG6rnF072lBpNxdrxd0+ZAaVl/OHFYalk6nh6uovAMPVdop60mnG0rrdaG7pZ0vD1NaEJPfKMZW6Wkzl2kyjGniaEIK0aeCpwjHmjGdVL8kb/AJSyg8NgHWUVJ06FNqL3OTUYq/Rdgesc+q5yYtZZVFVP7XhEaHBaqtquybva97u97/ke7mRnBVx1Kq60YqVKajeCaTjJXWxt2ex8pplfj726HxiBhkTj32zFfqnWjwcNmnhqeMeLjr67lOag5LUVSd1KSVr8r2X5T3gAAAAAAAAAAAAAAAAAAAEi7+8jZYgUAAAAAAIBQTVCA5dpW8speqx+ZVNuzr4oq9RR71M1HSt5ZS9Vj8yqbdnXxRV6ij3qYHj6J/FYrrKXdkeHX4+9uh8YnuaJ/FYrrKXdkeHX4+9uh8YgdYAAAkWRsqAoAAAAAATeBQSwTAoAAGDlcyaCXOASKAAAAAAACIpGgMm+fsRCJFA5bpW8speqx+ZVNuzr4oq9RR71M1HSt5ZS9Vj8yqbdnXxRV6ij3qYHj6J/FYrrKXdkeHX4+9uh8YnuaJ/FYrrKXdkeHX4+9uh8YgdYbMLmUkEgCRQAAAAAAASLKRoCvp/aAAAAAAAAAAAAAAAAAAAAAcv0qwfhdF22PDJJ8jaqVLpdK1l70fBlHPbEV8NLDzp0lGUIwckpa1otNb5W+zzHXKtGE1acYyS22lFS29p+XgNH/DT/AA4/8A4/m7nTWwMakaUKcuElGT11J2aTWzVkuczyNi5YnKtCrJLWq4mE3GN7bGm7Xu7JJvsOu+A0f8NP8OP/AAzpYanF3jTjF7rqCTt6UgP1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFBHEICgAAAAAAYAkWRsqAoAAAAAATeBQRxCYFAAAAAACNgJPmKjC38mYAAACIoYC/P7gRIoAAAAAAMLmTQSAJFAAAAAAABEUjQF9IAAAAAAAI2YoyauUCJFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//Z";const Yo=or("h3",{class:"text-gray-700 text-3xl font-medium"}," ",-1),$o=or("div",{class:"mt-4"},[or("div",{class:"flex flex-wrap -mx-6"},[or("div",{class:"w-full px-6 sm:w-1/2 xl:w-1/3"},[or("div",{class:"flex items-center px-5 py-6 shadow-sm rounded-md bg-white"},[or("div",{class:"p-3 rounded-full bg-indigo-600 bg-opacity-75"},[or("svg",{class:"h-8 w-8 text-white",viewBox:"0 0 28 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[or("path",{fill:"currentColor"}),or("path",{fill:"currentColor"}),or("path",{fill:"currentColor"}),or("path",{fill:"currentColor"}),or("path",{fill:"currentColor"}),or("path",{fill:"currentColor"})])]),or("div",{class:"mx-5"},[or("h4",{class:"text-2xl font-semibold text-gray-700"},"4"),or("div",{class:"text-gray-500"}," ")])])]),or("div",{class:"w-full mt-6 px-6 sm:w-1/2 xl:w-1/3 sm:mt-0"},[or("div",{class:"flex items-center px-5 py-6 shadow-sm rounded-md bg-white"},[or("div",{class:"p-3 rounded-full bg-orange-600 bg-opacity-75"},[or("svg",{class:"h-8 w-8 text-white",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[or("path",{fill:"currentColor"}),or("path",{fill:"currentColor"}),or("path",{fill:"currentColor"})])]),or("div",{class:"mx-5"},[or("h4",{class:"text-2xl font-semibold text-gray-700"},"11"),or("div",{class:"text-gray-500"}," ")])])]),or("div",{class:"w-full mt-6 px-6 sm:w-1/2 xl:w-1/3 xl:mt-0"},[or("div",{class:"flex items-center px-5 py-6 shadow-sm rounded-md bg-white"},[or("div",{class:"p-3 rounded-full bg-pink-600 bg-opacity-75"},[or("svg",{class:"h-8 w-8 text-white",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[or("path",{fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linejoin":"round"}),or("path",{stroke:"currentColor","stroke-width":"2"})])]),or("div",{class:"mx-5"},[or("h4",{class:"text-2xl font-semibold text-gray-700"},"1"),or("div",{class:"text-gray-500"}," ")])])])])],-1),Xo=or("div",{class:"mt-8"},null,-1),Jo={class:"flex flex-col mt-8"},Zo={class:"-my-2 py-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},ts={class:"align-middle inline-block min-w-full shadow overflow-hidden sm:rounded-lg border-b border-gray-200"},es={class:"min-w-full"},ns=or("thead",null,[or("tr",null,[or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"}," --- "),or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50"})])],-1),rs={class:"bg-white"},is={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},os={class:"flex items-center"},ss=or("div",{class:"flex-shrink-0 h-10 w-10"},[or("img",{class:"h-10 w-10 rounded-full",src:Qo,alt:""})],-1),as={class:"ml-4"},us={class:"text-sm leading-5 font-medium text-gray-900"},cs={class:"text-sm leading-5 text-gray-500"},ls={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},hs={class:"text-sm leading-5 text-gray-900"},fs={class:"text-sm leading-5 text-gray-500"},ds={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},ps={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-green-800"},vs={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200 text-sm leading-5 text-gray-500"},gs=or("td",{class:"px-6 py-4 whitespace-nowrap text-right border-b border-gray-200 text-sm leading-5 font-medium"},[or("a",{href:"#",class:"text-indigo-600 hover:text-indigo-900"},"")],-1);Go.render=function(t,e,n,r,i,o){return Xn(),Zn("div",null,[Yo,$o,Xo,or("div",Jo,[or("div",Zo,[or("div",ts,[or("table",es,[ns,or("tbody",rs,[(Xn(!0),Zn(Hn,null,Ur(t.users,((t,e)=>(Xn(),Zn("tr",{key:e},[or("td",is,[or("div",os,[ss,or("div",as,[or("div",us,u(t.name),1),or("div",cs,u(t.email),1)])])]),or("td",ls,[or("div",hs,u(t.title),1),or("div",fs,u(t.title2),1)]),or("td",ds,[or("span",ps,u(t.status),1)]),or("td",vs,u(t.role),1),gs])))),128))])])])])])])};var ms=On({setup(){const t=te({username:"",email:"",password:"",confirm:""});return{user:t,register:()=>{const e=JSON.parse(JSON.stringify(t.value));console.log("Registered: ",e)}}}});const ys=or("h3",{class:"text-gray-700 text-3xl font-semibold"}," ",-1),bs=or("div",{class:"mt-4"},[or("h4",{class:"text-gray-600"},"ID"),or("div",{class:"mt-4"},[or("div",{class:"max-w-sm w-full bg-white shadow-md rounded-md overflow-hidden border"},[or("form",null,[or("div",{class:"flex justify-between items-center px-5 py-3 text-gray-700 border-b"},[or("h3",{class:"text-sm"},"BEACON"),or("button",null,[or("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[or("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])]),or("div",{class:"px-5 py-6 bg-gray-200 text-gray-700 border-b"},[or("label",{class:"text-xs"},"B-ID"),or("div",{class:"mt-2 relative rounded-md shadow-sm"},[or("span",{class:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-600"},[or("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[or("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})])]),or("input",{type:"text",class:"w-full px-12 py-2 appearance-none rounded-md focus:border-indigo-600"})])]),or("div",{class:"flex justify-between items-center px-5 py-3"},[or("button",{class:"px-3 py-1 text-gray-700 text-sm rounded-md bg-gray-200 hover:bg-gray-300 focus:outline-none"},"  "),or("button",{class:"px-3 py-1 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-500 focus:outline-none"},"  ")])])])])],-1),ws={class:"mt-8"},_s=or("h4",{class:"text-gray-600"}," ",-1),Is={class:"mt-4"},Ts={class:"p-6 bg-white rounded-md shadow-md"},Es=or("h2",{class:"text-lg text-gray-700 font-semibold capitalize"},"  ",-1),As={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-4"},Ss=or("label",{class:"text-gray-700",for:"username"},"B - ID",-1),ks=or("label",{class:"text-gray-700",for:"emailAddress"},"Email",-1),Cs=or("label",{class:"text-gray-700",for:"password"},"Password",-1),xs=or("label",{class:"text-gray-700",for:"passwordConfirmation"},"Password Success",-1),Ns=or("div",{class:"flex justify-end mt-4"},[or("button",{class:"px-4 py-2 bg-gray-800 text-gray-200 rounded-md hover:bg-gray-700 focus:outline-none focus:bg-gray-700"},"  ")],-1);ms.render=function(t,e,n,r,i,o){return Xn(),Zn("div",null,[ys,bs,or("div",ws,[_s,or("div",Is,[or("div",Ts,[Es,or("form",{onSubmit:e[5]||(e[5]=hi(((...e)=>t.register&&t.register(...e)),["prevent"]))},[or("div",As,[or("div",null,[Ss,xn(or("input",{class:"w-full mt-2 rounded-md focus:border-indigo-600",type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.user.username=e)},null,512),[[ui,t.user.username]])]),or("div",null,[ks,xn(or("input",{class:"w-full mt-2 rounded-md focus:border-indigo-600",type:"email","onUpdate:modelValue":e[2]||(e[2]=e=>t.user.email=e)},null,512),[[ui,t.user.email]])]),or("div",null,[Cs,xn(or("input",{class:"w-full mt-2 rounded-md focus:border-indigo-600",type:"password","onUpdate:modelValue":e[3]||(e[3]=e=>t.user.password=e)},null,512),[[ui,t.user.password]])]),or("div",null,[xs,xn(or("input",{class:"w-full mt-2 rounded-md focus:border-indigo-600",type:"password","onUpdate:modelValue":e[4]||(e[4]=e=>t.user.confirm=e)},null,512),[[ui,t.user.confirm]])])]),Ns],32)])])])])};var Rs=On({setup(){const{simpleTableData:t,paginatedTableData:e,wideTableData:n}={simpleTableData:te([{city:"",totalOrders:"36 , 26"},{city:"--",totalOrders:"--"},{city:"--",totalOrders:"--"},{city:"--",totalOrders:"--"}]),paginatedTableData:te([{picture:"/src/admin.jpeg",name:"",role:"",created:"",status:"",statusColor:"green"}]),wideTableData:te([...Array(1).keys()].map((()=>({name:"",email:"sss@naver.com",title:"",title2:"Tag",status:"Check",role:"<- "}))))};return{simpleTableData:t,paginatedTableData:e,wideTableData:n}}});const Ps=or("h3",{class:"text-gray-700 text-3xl font-medium"},"Tables",-1),Ds={class:"mt-4"},Os=or("h4",{class:"text-gray-600"},"DB -> () ",-1),Ls={class:"mt-6"},Ms={class:"bg-white shadow rounded-md overflow-hidden my-6"},Fs={class:"text-left w-full border-collapse"},Us=or("thead",{class:"border-b"},[or("tr",null,[or("th",{class:"py-3 px-5 bg-indigo-800 font-medium uppercase text-sm text-gray-100"},"  "),or("th",{class:"py-3 px-5 bg-indigo-800 font-medium uppercase text-sm text-gray-100"}," ( , -) ")])],-1),js={class:"py-4 px-6 border-b text-gray-700 text-lg"},qs={class:"py-4 px-6 border-b text-gray-500"},Vs={class:"mt-8"},Bs=or("h4",{class:"text-gray-600"},"DB -  ",-1),Ks={class:"mt-6"},Ws=or("h2",{class:"text-xl font-semibold text-gray-700 leading-tight"},"",-1),Hs=or("div",{class:"mt-3 flex flex-col sm:flex-row"},[or("div",{class:"flex"},[or("div",{class:"relative"},[or("select",{class:"appearance-none h-full rounded-l border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"},[or("option",null,"5"),or("option",null,"10"),or("option",null,"20")]),or("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[or("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"})])]),or("div",{class:"relative"},[or("select",{class:"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500"},[or("option",null,"All"),or("option",null,""),or("option",null,"")]),or("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[or("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"})])])]),or("div",{class:"block relative mt-2 sm:mt-0"},[or("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[or("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500"},[or("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})])]),or("input",{placeholder:"Search",class:"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"})])],-1),zs={class:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},Gs={class:"inline-block min-w-full shadow rounded-lg overflow-hidden"},Qs={class:"min-w-full leading-normal"},Ys=or("thead",null,[or("tr",null,[or("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," User "),or("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Email "),or("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Password "),or("th",{class:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Status ")])],-1),$s={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},Xs={class:"flex items-center"},Js={class:"flex-shrink-0 w-10 h-10"},Zs={class:"ml-3"},ta={class:"text-gray-900 whitespace-nowrap"},ea={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},na={class:"text-gray-900 whitespace-nowrap"},ra={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},ia={class:"text-gray-900 whitespace-nowrap"},oa={class:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},sa={class:"relative"},aa=ur('<div class="px-5 py-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between"><span class="text-xs xs:text-sm text-gray-900">1 / 4</span><div class="inline-flex mt-2 xs:mt-0"><button class="text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-l"> Prev </button><button class="text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-r"> Next </button></div></div>',1),ua={class:"mt-8"},ca=or("h4",{class:"text-gray-600"},"DB -  ",-1),la={class:"flex flex-col mt-6"},ha={class:"-my-2 py-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},fa={class:"align-middle inline-block min-w-full shadow overflow-hidden sm:rounded-lg border-b border-gray-200"},da={class:"min-w-full"},pa=or("thead",null,[or("tr",null,[or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"  "),or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"}," --- "),or("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-100"})])],-1),va={class:"bg-white"},ga={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},ma={class:"flex items-center"},ya=or("div",{class:"flex-shrink-0 h-10 w-10"},[or("img",{class:"h-10 w-10 rounded-full",src:Qo,alt:""})],-1),ba={class:"ml-4"},wa={class:"text-sm leading-5 font-medium text-gray-900"},_a={class:"text-sm leading-5 text-gray-500"},Ia={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},Ta={class:"text-sm leading-5 text-gray-900"},Ea={class:"text-sm leading-5 text-gray-500"},Aa={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},Sa={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},ka={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200 text-sm leading-5 text-gray-500"},Ca=or("td",{class:"px-6 py-4 whitespace-nowrap text-right border-b border-gray-200 text-sm leading-5 font-medium"},[or("a",{href:"#",class:"text-indigo-600 hover:text-indigo-900"},"Edit")],-1);Rs.render=function(t,e,n,r,i,o){return Xn(),Zn("div",null,[Ps,or("div",Ds,[Os,or("div",Ls,[or("div",Ms,[or("table",Fs,[Us,or("tbody",null,[(Xn(!0),Zn(Hn,null,Ur(t.simpleTableData,((t,e)=>(Xn(),Zn("tr",{key:e,class:"hover:bg-gray-200"},[or("td",js,u(t.city),1),or("td",qs,u(t.totalOrders),1)])))),128))])])])])]),or("div",Vs,[Bs,or("div",Ks,[Ws,Hs,or("div",zs,[or("div",Gs,[or("table",Qs,[Ys,or("tbody",null,[(Xn(!0),Zn(Hn,null,Ur(t.paginatedTableData,((t,e)=>(Xn(),Zn("tr",{key:e},[or("td",$s,[or("div",Xs,[or("div",Js,[or("img",{class:"w-full h-full rounded-full",src:t.picture,alt:""},null,8,["src"])]),or("div",Zs,[or("p",ta,u(t.name),1)])])]),or("td",ea,[or("p",na,u(t.role),1)]),or("td",ra,[or("p",ia,u(t.created),1)]),or("td",oa,[or("span",{class:`relative inline-block px-3 py-1 font-semibold text-${t.statusColor}-900 leading-tight`},[or("span",{"aria-hidden":"",class:`absolute inset-0 bg-${t.statusColor}-200 opacity-50 rounded-full`},null,2),or("span",sa,u(t.status),1)],2)])])))),128))])]),aa])])])]),or("div",ua,[ca,or("div",la,[or("div",ha,[or("div",fa,[or("table",da,[pa,or("tbody",va,[(Xn(!0),Zn(Hn,null,Ur(t.wideTableData,((t,e)=>(Xn(),Zn("tr",{key:e},[or("td",ga,[or("div",ma,[ya,or("div",ba,[or("div",wa,u(t.name),1),or("div",_a,u(t.email),1)])])]),or("td",Ia,[or("div",Ta,u(t.title),1),or("div",Ea,u(t.title2),1)]),or("td",Aa,[or("span",Sa,u(t.status),1)]),or("td",ka,u(t.role),1),Ca])))),128))])])])])])])])};var xa=On({setup:()=>({colors:te(["gray","red","orange","yellow","green","teal","blue","indigo","purple","pink"])})});const Na=or("h3",{class:"text-gray-700 text-3xl font-medium"},"UI ",-1),Ra=or("div",{class:"mt-4"},[or("h4",{class:"text-gray-600"},"Alerts"),or("div",{class:"mt-4"},[or("div",{class:"rounded-md bg-white py-4 px-4 overflow-x-auto whitespace-nowrap"},[or("div",{class:"inline-flex max-w-sm w-full bg-white shadow-md rounded-lg overflow-hidden ml-3"},[or("div",{class:"flex justify-center items-center w-12 bg-green-500"},[or("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[or("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"})])]),or("div",{class:"-mx-3 py-2 px-4"},[or("div",{class:"mx-3"},[or("span",{class:"text-green-500 font-semibold"},"Success"),or("p",{class:"text-gray-600 text-sm"}," Your account was registered! ")])])]),or("div",{class:"inline-flex max-w-sm w-full bg-white shadow-md rounded-lg overflow-hidden ml-3"},[or("div",{class:"flex justify-center items-center w-12 bg-blue-500"},[or("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[or("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})])]),or("div",{class:"-mx-3 py-2 px-4"},[or("div",{class:"mx-3"},[or("span",{class:"text-blue-500 font-semibold"},"Info"),or("p",{class:"text-gray-600 text-sm"}," Channel archived by the owner. ")])])]),or("div",{class:"inline-flex max-w-sm w-full bg-white shadow-md rounded-lg overflow-hidden ml-3"},[or("div",{class:"flex justify-center items-center w-12 bg-yellow-500"},[or("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[or("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})])]),or("div",{class:"-mx-3 py-2 px-4"},[or("div",{class:"mx-3"},[or("span",{class:"text-yellow-500 font-semibold"},"Warning"),or("p",{class:"text-gray-600 text-sm"},"Image size is too large.")])])]),or("div",{class:"inline-flex max-w-sm w-full bg-white shadow-md rounded-lg overflow-hidden ml-3"},[or("div",{class:"flex justify-center items-center w-12 bg-red-500"},[or("svg",{class:"h-6 w-6 fill-current text-white",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[or("path",{d:"M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"})])]),or("div",{class:"-mx-3 py-2 px-4"},[or("div",{class:"mx-3"},[or("span",{class:"text-red-500 font-semibold"},"Error"),or("p",{class:"text-gray-600 text-sm"},"Your email is already used!")])])])])])],-1),Pa={class:"mt-8"},Da=or("h4",{class:"text-gray-600"},"Radio Buttons",-1),Oa={class:"mt-4"},La={class:"flex rounded-md bg-white py-4 px-4 overflow-x-auto"},Ma=or("span",{class:"ml-2 text-gray-700"},"label",-1),Fa={class:"mt-8"},Ua=or("h4",{class:"text-gray-600"},"Checkboxes",-1),ja={class:"mt-4"},qa={class:"flex rounded-md bg-white py-4 px-4 overflow-x-auto"},Va=or("span",{class:"ml-2 text-gray-700"},"label",-1),Ba={class:"mt-8"},Ka=or("h4",{class:"text-gray-600"},"Buttons",-1),Wa={class:"mt-4"},Ha={class:"flex rounded-md bg-white py-4 px-4 overflow-x-auto"},za=ur('<div class="mt-8"><h4 class="text-gray-600">Paginations</h4><div class="mt-4"><div class="flex rounded-md bg-white py-4 px-4 overflow-x-auto"><div class="flex rounded mr-4"><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 ml-0 rounded-l hover:bg-indigo-500 hover:text-white"><span>Prev</span></a><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 hover:bg-indigo-500 hover:text-white"><span>1</span></a><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 hover:bg-indigo-500 hover:text-white"><span>2</span></a><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 border-r-0 hover:bg-indigo-500 hover:text-white"><span>3</span></a><a href="#" class="py-2 px-3 leading-tight bg-white border border-gray-200 text-blue-700 rounded-r hover:bg-indigo-500 hover:text-white"><span>Next</span></a></div></div></div></div>',1);xa.render=function(t,e,n,r,i,o){return Xn(),Zn("div",null,[Na,Ra,or("div",Pa,[Da,or("div",Oa,[or("div",La,[(Xn(!0),Zn(Hn,null,Ur(t.colors,((t,e)=>(Xn(),Zn("label",{class:`inline-flex items-center ${e&&"ml-3"}`,key:e},[or("input",{type:"radio",class:`form-radio h-5 w-5 text-${t}-600`,name:"radio"},null,2),Ma],2)))),128))])])]),or("div",Fa,[Ua,or("div",ja,[or("div",qa,[(Xn(!0),Zn(Hn,null,Ur(t.colors,((t,e)=>(Xn(),Zn("label",{class:`inline-flex items-center ${e&&"ml-3"}`,key:e},[or("input",{type:"checkbox",class:`form-checkbox h-5 w-5 text-${t}-600`,checked:""},null,2),Va],2)))),128))])])]),or("div",Ba,[Ka,or("div",Wa,[or("div",Ha,[(Xn(!0),Zn(Hn,null,Ur(t.colors,((t,e)=>(Xn(),Zn("button",{class:`px-6 py-3 bg-${t}-600 rounded-md text-white font-medium tracking-wide hover:bg-${t}-500 ${e&&"ml-3"}`,key:e}," Button ",2)))),128))])])]),za])};var Ga=On({setup(){const t=Ho();return{login:function(){t.push("/dashboard")},SignUp:function(){t.push("/SignUp")},email:te("a@naver.com"),password:te("12345")}}});const Qa={class:"flex justify-center items-center h-screen bg-gray-200 px-6"},Ya={class:"p-6 max-w-sm w-full bg-white shadow-md rounded-md"},$a=or("div",{class:"flex justify-center items-center"},[or("span",{class:"text-gray-600 font-semibold text-2xl"},"")],-1),Xa={class:"block"},Ja=or("span",{class:"text-gray-700 text-sm"},"ID",-1),Za={class:"block mt-3"},tu=or("span",{class:"text-gray-700 text-sm"},"Password",-1),eu={class:"flex justify-between items-center mt-4"},nu=or("div",null,[or("label",{class:"inline-flex items-center"},[or("input",{type:"checkbox",class:"form-checkbox text-indigo-600"}),or("span",{class:"mx-2 text-gray-600 text-sm"},"save")])],-1),ru=ar("SignUp"),iu=or("div",{class:"mt-6"},[or("button",{type:"submit",class:"py-2 px-4 text-center bg-indigo-600 rounded-md w-full text-white text-sm hover:bg-indigo-500"}," Login ")],-1);Ga.render=function(t,e,n,r,i,o){const s=Vn("router-link");return Xn(),Zn("div",Qa,[or("div",Ya,[$a,or("form",{class:"mt-4",onSubmit:e[3]||(e[3]=hi(((...e)=>t.login&&t.login(...e)),["prevent"]))},[or("label",Xa,[Ja,xn(or("input",{type:"email",class:"mt-1 block w-full rounded-md focus:border-indigo-600","onUpdate:modelValue":e[1]||(e[1]=e=>t.email=e)},null,512),[[ui,t.email]])]),or("label",Za,[tu,xn(or("input",{type:"password",class:"mt-1 block w-full rounded-md focus:border-indigo-600","onUpdate:modelValue":e[2]||(e[2]=e=>t.password=e)},null,512),[[ui,t.password]])]),or("div",eu,[nu,or("div",null,[or("p",null,[or(s,{to:"/SignUp"},{default:We((()=>[ru])),_:1})])])]),iu],32)])])};var ou=On({setup(){const t=Ho();return{login:function(){t.push("/")},Back:function(){t.push("/")},email:te(""),password:te("")}}});const su={class:"flex justify-center items-center h-screen bg-gray-200 px-6"},au={class:"p-6 max-w-sm w-full bg-white shadow-md rounded-md"},uu=or("div",{class:"flex justify-center items-center"},[or("span",{class:"text-gray-600 font-semibold text-2xl"},"")],-1),cu={class:"block"},lu=or("span",{class:"text-gray-700 text-sm"},"ID",-1),hu={class:"block mt-3"},fu=or("span",{class:"text-gray-700 text-sm"},"Password",-1),du=or("div",{class:"flex justify-between items-center mt-4"},[or("div",null,[or("a",{class:"block text-sm fontme text-indigo-700 hover:underline",href:"http://localhost:3000/"},"")])],-1),pu=or("div",{class:"mt-6"},[or("button",{type:"submit",class:"py-2 px-4 text-center bg-indigo-600 rounded-md w-full text-white text-sm hover:bg-indigo-500"},"  ")],-1);ou.render=function(t,e,n,r,i,o){return Xn(),Zn("div",su,[or("div",au,[uu,or("form",{class:"mt-4",onSubmit:e[3]||(e[3]=hi(((...e)=>t.login&&t.login(...e)),["prevent"]))},[or("label",cu,[lu,xn(or("input",{type:"email",class:"mt-1 block w-full rounded-md focus:border-indigo-600","onUpdate:modelValue":e[1]||(e[1]=e=>t.email=e)},null,512),[[ui,t.email]])]),or("label",hu,[fu,xn(or("input",{type:"password",class:"mt-1 block w-full rounded-md focus:border-indigo-600","onUpdate:modelValue":e[2]||(e[2]=e=>t.password=e)},null,512),[[ui,t.password]])]),du,pu],32)])])};var vu=On({setup:()=>({open:te(!1)})});const gu=or("h3",{class:"text-gray-700 text-3xl font-medium"},"",-1),mu=or("div",{class:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50"},null,-1),yu={class:"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto"},bu=or("div",{class:"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50"},[or("svg",{class:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[or("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),or("span",{class:"text-sm"},"(Esc)")],-1),wu={class:"modal-content py-4 text-left px-6"},_u={class:"flex justify-between items-center pb-3"},Iu=or("p",{class:"text-2xl font-bold"},"?",-1),Tu=or("svg",{class:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[or("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),Eu=or("p",null,"",-1),Au={class:"flex justify-end pt-2"};vu.render=function(t,e,n,r,i,o){return Xn(),Zn("div",null,[gu,or("button",{onClick:e[1]||(e[1]=e=>t.open=!0),class:"mt-3 px-6 py-3 bg-indigo-600 rounded-md text-white font-medium tracking-wide hover:bg-indigo-500"},"   "),or("div",{class:`modal ${!t.open&&"opacity-0 pointer-events-none"} z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center`},[mu,or("div",yu,[bu,or("div",wu,[or("div",_u,[Iu,or("div",{class:"modal-close cursor-pointer z-50",onClick:e[2]||(e[2]=e=>t.open=!1)},[Tu])]),Eu,or("div",Au,[or("button",{onClick:e[3]||(e[3]=e=>t.open=!1),class:"px-6 py-3 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2"},"  "),or("button",{onClick:e[4]||(e[4]=e=>t.open=!1),class:"px-6 py-3 bg-indigo-600 rounded-md text-white font-medium tracking-wide hover:bg-indigo-500"},"  ")])])])],2)])};class Su{constructor(t=null,e={}){if(this.apiKey=t,this.options=e,"undefined"==typeof window)throw new Error("google-maps is supported only in browser environment")}load(){return void 0!==this.api?Promise.resolve(this.api):void 0!==this.loader?this.loader:(window[Su.CALLBACK_NAME]=()=>{if(this.api=window.google,void 0===this.resolve)throw new Error("Should not happen");this.resolve(this.api)},window.gm_authFailure=()=>{if(void 0===this.reject)throw new Error("Should not happen");this.reject(new Error("google-maps: authentication error"))},this.loader=new Promise(((t,e)=>{this.resolve=t,this.reject=e;const n=document.createElement("script");n.src=this.createUrl(),n.async=!0,n.onerror=t=>e(t),document.head.appendChild(n)})))}createUrl(){const t=[`callback=${Su.CALLBACK_NAME}`];this.apiKey&&t.push(`key=${this.apiKey}`);for(let e in this.options)if(this.options.hasOwnProperty(e)){let n=this.options[e];"version"===e&&(e="v"),"libraries"===e&&(n=n.join(",")),t.push(`${e}=${n}`)}return`https://maps.googleapis.com/maps/api/js?${t.join("&")}`}}Su.CALLBACK_NAME="_dk_google_maps_loader_cb";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ku=function(t,e){return(ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Cu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ku(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var xu=function(){return(xu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Nu(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Ru(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Pu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Du(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Ou(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lu=!1,Mu="${JSCORE_VERSION}",Fu=function(t,e){if(!t)throw Uu(e)},Uu=function(t){return new Error("Firebase Database ("+Mu+") INTERNAL ASSERT FAILED: "+t)},ju=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},qu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;u||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ju(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Vu=function(t){try{return qu.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bu(t){return Ku(void 0,t)}function Ku(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Ku(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wu=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=xu({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qu.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),qu.encodeString(JSON.stringify(o),!1),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Gu(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zu())}function Qu(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function Yu(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function $u(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xu(){return!0===Lu}function Ju(){return"indexedDB"in self&&null!=indexedDB}function Zu(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function tc(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ec=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,nc.prototype.create),o}return Cu(e,t),e}(Error),nc=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?rc(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new ec(i,a,r);return u},t}();function rc(t,e){return t.replace(ic,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var ic=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){return JSON.parse(t)}function sc(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=oc(Vu(o[0])||""),n=oc(Vu(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function uc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function cc(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function lc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hc(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fc=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function dc(t,e){var n=new pc(t,e);return n.subscribe.bind(n)}var pc=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=vc),void 0===r.error&&(r.error=vc),void 0===r.complete&&(r.complete=vc);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function vc(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gc=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function mc(t,e){return t+" failed: "+e+" argument "}function yc(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(mc(t,e)+"must be a valid function.")}function bc(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(mc(t,e)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wc=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function _c(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){return t&&t._delegate?t._delegate:t}var Tc=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Ec=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Wu;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=xu({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}try{for(var r=Pu(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Du(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Nu(this,void 0,void 0,(function(){var t;return Ru(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ou(Ou([],Du(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Du(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Pu(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=Du(l.value,2),f=h[0],d=h[1];a===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,a),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Pu(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ac,Sc=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ec(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function kc(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cc,xc,Nc=[];(xc=Cc||(Cc={}))[xc.DEBUG=0]="DEBUG",xc[xc.VERBOSE=1]="VERBOSE",xc[xc.INFO=2]="INFO",xc[xc.WARN=3]="WARN",xc[xc.ERROR=4]="ERROR",xc[xc.SILENT=5]="SILENT";var Rc,Pc={debug:Cc.DEBUG,verbose:Cc.VERBOSE,info:Cc.INFO,warn:Cc.WARN,error:Cc.ERROR,silent:Cc.SILENT},Dc=Cc.INFO,Oc=((Ac={})[Cc.DEBUG]="log",Ac[Cc.VERBOSE]="log",Ac[Cc.INFO]="info",Ac[Cc.WARN]="warn",Ac[Cc.ERROR]="error",Ac),Lc=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Oc[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,kc(["["+i+"]  "+t.name+":"],n))}},Mc=function(){function t(t){this.name=t,this._logLevel=Dc,this._logHandler=Lc,this._userLogHandler=null,Nc.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Cc))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Pc[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,kc([this,Cc.DEBUG],t)),this._logHandler.apply(this,kc([this,Cc.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,kc([this,Cc.VERBOSE],t)),this._logHandler.apply(this,kc([this,Cc.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,kc([this,Cc.INFO],t)),this._logHandler.apply(this,kc([this,Cc.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,kc([this,Cc.WARN],t)),this._logHandler.apply(this,kc([this,Cc.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,kc([this,Cc.ERROR],t)),this._logHandler.apply(this,kc([this,Cc.ERROR],t))},t}();function Fc(t){Nc.forEach((function(e){e.setLogLevel(t)}))}var Uc,jc=((Rc={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Rc["bad-app-name"]="Illegal App name: '{$appName}",Rc["duplicate-app"]="Firebase App named '{$appName}' already exists",Rc["app-deleted"]="Firebase App named '{$appName}' already deleted",Rc["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Rc["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Rc),qc=new nc("app","Firebase",jc),Vc="@firebase/app",Bc=((Uc={})[Vc]="fire-core",Uc["@firebase/analytics"]="fire-analytics",Uc["@firebase/app-check"]="fire-app-check",Uc["@firebase/auth"]="fire-auth",Uc["@firebase/database"]="fire-rtdb",Uc["@firebase/functions"]="fire-fn",Uc["@firebase/installations"]="fire-iid",Uc["@firebase/messaging"]="fire-fcm",Uc["@firebase/performance"]="fire-perf",Uc["@firebase/remote-config"]="fire-rc",Uc["@firebase/storage"]="fire-gcs",Uc["@firebase/firestore"]="fire-fst",Uc["fire-js"]="fire-js",Uc["firebase-wrapper"]="fire-js-all",Uc),Kc=new Mc("@firebase/app"),Wc=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Bu(t),this.container=new Sc(e.name),this._addComponent(new Tc("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Kc.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw qc.create("app-deleted",{appName:this.name_})},t}();Wc.prototype.name&&Wc.prototype.options||Wc.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hc(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw qc.create("bad-app-name",{appName:String(s)});if(uc(e,s))throw qc.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Bc[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Kc.warn(u.join(" "))}o(new Tc(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:Fc,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw qc.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Pc[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Cc[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Nc;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!uc(e,t=t||"[DEFAULT]"))throw qc.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return Kc.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw qc.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Ku(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zc=function t(){var e=Hc(Wc);return e.INTERNAL=xu(xu({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Ku(e,t)},createSubscribe:dc,ErrorFactory:nc,deepExtend:Ku}),e}(),Gc=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Kc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qc=self.firebase.SDK_VERSION;Qc&&Qc.indexOf("LITE")>=0&&Kc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Yc=zc.initializeApp;zc.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Qu()&&Kc.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Yc.apply(void 0,t)};var $c,Xc,Jc=zc;($c=Jc).INTERNAL.registerComponent(new Tc("platform-logger",(function(t){return new Gc(t)}),"PRIVATE")),$c.registerVersion(Vc,"0.6.22",Xc),$c.registerVersion("fire-js",""),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function _(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function T(t,e,n){this.code=S+t,this.message=e||k[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new T(e.substring(S.length),t.message,t.serverResponse):null}_(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var A,S="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},C={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in C)if(C[e].id===t)return{firebaseEndpoint:(t=C[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function D(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function O(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}A=x("__EID__")?"__EID__":void 0,_(R,Error),R.prototype.name="CustomError",_(P,R),P.prototype.name="AssertionError",O.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new O((function(){return new j}),(function(t){t.reset()}));function U(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=q(t,e)}function z(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function G(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){$=ut;break t}}$=""}function ct(t){return ot($,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===wt&&e||"",this.b=bt}function mt(t){return t instanceof gt&&t.constructor===gt&&t.b===bt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.sa=!0,gt.prototype.ra=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function _t(){if(void 0===yt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(t){s.console&&s.console.error(t.message)}yt=t}else yt=t}return yt}function It(t,e){this.a=e===kt?t:""}function Tt(t){return t instanceof It&&t.constructor===It?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=mt(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=_t();return new It(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(At,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?mt(t):encodeURIComponent(String(t))})))}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function Ct(t,e){this.a=e===Lt?t:""}function xt(t){return t instanceof Ct&&t.constructor===Ct?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Rt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){if(t instanceof Ct)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t))t=new Ct(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Rt);t=e&&Nt.test(e[1])?new Ct(t,Lt):null}return t}function Ot(t){return t instanceof Ct?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Ct(t,Lt))}var Lt={},Mt=new Ct("about:invalid#zClosurez",Lt);function Ft(t,e,n){this.a=n===Ut?t:""}Ft.prototype.sa=!0,Ft.prototype.ra=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function jt(t,e,n,r){return t=t instanceof Ct?t:Ot(t),e=e||s,n=n instanceof gt?mt(n):n||"",e.open(xt(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=l;var Kt,Wt,Ht=ct("Opera"),zt=ct("Trident")||ct("MSIE"),Gt=ct("Edge"),Qt=Gt||zt,Yt=ct("Gecko")&&!(ot($.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),$t=ot($.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Wt=$,Yt?/rv:([^\);]+)(\)|;)/.exec(Wt):Gt?/Edge\/([\d\.]+)/.exec(Wt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):$t?/WebKit\/(\S+)/.exec(Wt):Ht?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),zt){var te=Xt();if(null!=te&&te>parseFloat(Jt)){Kt=String(te);break t}}Kt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=X(String(Kt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&zt){var ie=Xt();ee=ie||(parseInt(Kt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var se=!zt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}V(s?Y(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ge||(le(),ge=!0),me.add(t,e)}var ge=!1,me=new M;function ye(){for(var t;t=U();){try{t.a.call(t.b)}catch(t){pe(t)}L(F,t)}ge=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){De(n,_e,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}De(n,Ie,t)}))}catch(t){De(this,Ie,t)}}var we=0,_e=2,Ie=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new O((function(){return new Te}),(function(t){t.reset()}));function Ae(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof be)return t;var e=new be(l);return De(e,_e,t),e}function ke(t){return new be((function(e,n){n(t)}))}function Ce(t,e,n){Oe(t,e,n,null)||ve(w(e,t))}function xe(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ce(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ne(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Ne(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,Ie,e)))}t.c=null}else De(t,Ie,e)}function Re(t,e){t.b||t.a!=_e&&t.a!=Ie||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ae(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Re(t,i),i.a}function De(t,e,n){t.a==we&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Oe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ie||n instanceof qe||function(t,e){t.g=!0,ve((function(){t.g&&je.call(null,e)}))}(t,n)))}function Oe(t,e,n,r){if(t instanceof be)return Re(t,Ae(e||l,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(t){je.call(null,t)}L(Ee,e)}function Ue(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Pe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Ae(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new qe(t);ve((function(){Ne(this,e)}),this)}},t.$c=function(t){this.a=we,De(this,_e,t)},t.ad=function(t){this.a=we,De(this,Ie,t)},t.gc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var je=pe;function qe(t){R.call(this,t)}function Ve(){this.xa=this.xa,this.pa=this.pa}_(qe,R),qe.prototype.name="cancel";function Be(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(t)}Ve.prototype.xa=!1,Ve.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ke=Object.freeze||function(t){return t},We=!zt||9<=Number(oe),He=zt&&!re("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(t){}return t}();function Ge(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ge.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Qe,Ge);var Ye=Ke({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Qe.prototype.g=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Xe,this.va=this.Pa=!1}function Ze(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&z(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=nn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new Je(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function sn(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=mn(n),t&&t[$e]?bn(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=vn(t);if(a||(t[rn]=a=new tn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=pn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=mn(n),t&&t[$e]?wn(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=mn(n),t&&t[$e]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=nn(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[$e])en(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function hn(t){return t in on?on[t]:on[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&ln(t),n.call(r,e)}function pn(t,e){if(t.va)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new Qe(e,this))}function vn(t){return(t=t[rn])instanceof tn?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function yn(){Ve.call(this),this.v=new tn(this),this.ac=this,this.gb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function _n(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&en(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Tn(t){var e=null;return new be((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function En(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(yn,Ve),yn.prototype[$e]=!0,yn.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){cn(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Ge(t,n);else if(t instanceof Ge)t.target=t.target||n;else{var i=t;pt(t=new Ge(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=_n(s,r,!0,t)&&i}if(i=_n(s=t.b=n,r,!0,t)&&i,i=_n(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=_n(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Sn.prototype).W=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},t.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Nn?(this.i=void 0!==e?e:t.i,Rn(this,t.c),this.l=t.l,this.a=t.a,Pn(this,t.g),this.f=t.f,Dn(this,Jn(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,Rn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.f=Un(n[5]||"",!0),Dn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new zn(null,this.i))}function Rn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Dn(t,e,n){e instanceof zn?(t.b=e,function(t,e){e&&!t.f&&(Gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Wn)),t.b=new zn(e,t.i))}function On(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Mn(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Fn(t,e,n,r){var i=new Nn(null,void 0);return t&&Rn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?Kn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Hn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.c;n?Rn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Pn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Dn(e,Jn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Bn=/[#\?:]/g,Kn=/[#\?]/g,Wn=/[#\?@]/g,Hn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Gn(t),e=Zn(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function $n(t,e){return Gn(t),e=Zn(t,e),Cn(t.a.b,e)}function Xn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),Y(n)),t.b+=n.length)}function Jn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return nr(new er,t,e),e.join("")}function er(){}function nr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),nr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),or(r,n),n.push(":"),nr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":or(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=zn.prototype).add=function(t,e){Gn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Gn(this),this.a.forEach((function(n,r){V(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Gn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Gn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=Q(e,this.a.get(Zn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Gn(this),this.c=null,$n(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function sr(){var t=Sr();return zt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ar(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||s.window;var n="about:blank";t&&(n=xt(Dt(t)||Mt)),e.location.href=n}function cr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<cr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function lr(t){return!!((t=(t||Sr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||s.window;try{t.close()}catch(t){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Sr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Tr(Sr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ct?n:Dt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Ct?e:Ot(e),s.href=xt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=jt("",r,n,s),t=xt(e),s&&(Qt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">',t=new Ft(t=(r=_t())?r.createHTML(t):t,null,Ut),r=s.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=jt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},un(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function gr(t){return t=t||Sr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function yr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function br(){return Jc.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Jc.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function wr(){var t=br();return"ReactNative"===t||"Node"===t}var _r="Firefox",Ir="Chrome";function Tr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?_r:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ir:"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Tr(i=Sr()):"Worker"===r&&(r=Tr(i=Sr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Sr(){return s.navigator&&s.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=s.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!s.indexedDB}catch(t){return yr()&&!!s.indexedDB}return!1}function xr(){return(Nr()||"chrome-extension:"===Rr()||gr())&&!wr()&&Cr()&&!yr()}function Nr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return s.location&&s.location.protocol||null}function Pr(t){return!lr(t=t||Sr())&&Tr(t)!=_r}function Dr(t){return void 0===t?null:tr(t)}function Or(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=Tr(t=t||Sr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Sr(),e=br(),this.b=lr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Br(){return!(!kr("fireauth.oauthhelper",s)&&!kr("fireauth.iframe",s))}jr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Nr()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Wr={};function Hr(t){Wr[t]||(Wr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var zr={};Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==zr.abcd}catch(Wt){Kr=!1}function Gr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Gr(t,n,e[n])}function Yr(t){var e={};return Qr(e,t),e}function $r(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Gr(e,n,$r(t[n]));return e}function Xr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",t[ei]),Gr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(t){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Xr.call(this,t),Gr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[li],i=t[hi];if(t=Jr(t[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[di]=n||null,e[vi]=n||null,e[fi]=r):(e[di]=r||null,e[vi]=r||null,e[fi]=n||null),e[pi]=t||null,Gr(this,mi,i),Gr(this,gi,$r(e))}_(ri,Xr),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",hi="requestType",fi="email",di="fromEmail",pi="multiFactorInfo",vi="previousEmail",gi="data",mi="operation";function yi(t){var e=Ln(t=Mn(t),bi)||null,n=Ln(t,wi)||null,r=Ln(t,Ti)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new T("argument-error",bi+", "+wi+"and "+Ti+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,_i)||null,languageCode:Ln(t,Ii)||null,tenantId:Ln(t,Ei)||null})}var bi="apiKey",wi="oobCode",_i="continueUrl",Ii="languageCode",Ti="mode",Ei="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Si(t){try{return new yi(t)}catch(t){return null}}function ki(t){var e=t[Pi];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Li];var r=n[Di];if(n=n[Oi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Oi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Ni])&&"boolean"!=typeof e)throw new T("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",xi="dynamicLinkDomain",Ni="handleCodeInApp",Ri="iOS",Pi="url",Di="installApp",Oi="minimumVersion",Li="packageName",Mi="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function qi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vi(t){try{return new qi(t)}catch(t){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=ji(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(t){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Wi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Wi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Wi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Ki},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function zi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function Gi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=to,e["github.com"]=Zi,e["twitter.com"]=eo;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Qi])return new $i(t)}catch(t){}return null}var Qi="idToken",Yi="providerId";function $i(t){var e=t[Yi];if(!e&&t[Qi]){var n=Vi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Gr(this,"providerId",e),Gr(this,"isNewUser",n)}function Xi(t){$i.call(this,t),Gr(this,"profile",$r((t=Lr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function to(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",t.screenName||null)}function no(t){var e=Mn(t),n=Ln(e,"link"),r=Ln(Mn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Mn(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}_(Xi,$i),_(Ji,Xi),_(Zi,Xi),_(to,Xi),_(eo,Xi);var io="enroll",oo="signin";function so(){}function ao(t,e){return t.then((function(t){if(t[$s]){var n=Vi(t[$s]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new T("user-mismatch"):t}))}function uo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Gr(this,"providerId",t),Gr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(t){}return null}function ho(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Gr(this,"idToken",e.idToken),e.accessToken&&Gr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Gr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Gr(this,"accessToken",e.oauthToken),Gr(this,"secret",e.oauthTokenSecret)}Gr(this,"providerId",t),Gr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ho(t.providerId,e,t.signInMethod)}catch(t){}}return null}function vo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(zi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function mo(t){vo.call(this,t,Wi),this.a=[]}function yo(){mo.call(this,"facebook.com")}function bo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){mo.call(this,"github.com")}function _o(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Io(){mo.call(this,"google.com"),this.Ca("profile")}function To(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function Eo(){vo.call(this,"twitter.com",Ki)}function Ao(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ho("twitter.com",n,"twitter.com")}function So(t,e,n){this.a=t,this.f=e,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new So(t.email,t.password,t.signInMethod):null}function Co(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=No(e)))throw new T("argument-error","Invalid email link!");return new So(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=Si(t=no(t)))&&t.operation===si?t:null}function Ro(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Oo(t){try{this.a=t||Jc.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ro({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return bo(n);case"github.com":return _o(n);case"twitter.com":return Ao(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new uo(e,s):new ho(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Fo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},ro.prototype.w=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},uo.prototype.ka=function(t){return ya(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,ba(t,n)},uo.prototype.c=function(t,e){return ao(wa(t,co(this)),e)},uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ho.prototype.ka=function(t){return ya(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ba(t,n)},ho.prototype.c=function(t,e){return ao(wa(t,fo(this)),e)},ho.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=ft(t),this},_(go,vo),_(mo,vo),mo.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},mo.prototype.Qb=function(){return Y(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new ho(this.providerId,n,this.providerId)},_(yo,mo),Gr(yo,"PROVIDER_ID","facebook.com"),Gr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(wo,mo),Gr(wo,"PROVIDER_ID","github.com"),Gr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),_(Io,mo),Gr(Io,"PROVIDER_ID","google.com"),Gr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),_(Eo,vo),Gr(Eo,"PROVIDER_ID","twitter.com"),Gr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),So.prototype.ka=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?eu(t,Ca,{email:this.a,oobCode:this.f}):eu(t,$a,{email:this.a,password:this.f})},So.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?eu(t,xa,{idToken:e,email:this.a,oobCode:this.f}):eu(t,Ba,{idToken:e,email:this.a,password:this.f})},So.prototype.c=function(t,e){return ao(this.ka(t),e)},So.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Co,{PROVIDER_ID:"password"}),Qr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.fb(Do(this))},Ro.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,eu(t,Ja,n)},Ro.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",ao(t=eu(t,Za,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Oo.prototype.fb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==io?i.Ha().then((function(t){return function(t,e){return eu(t,Wa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==oo?i.Ha().then((function(e){return function(t,e){return eu(t,Ha,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return eu(t,qa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Oo,{PROVIDER_ID:"phone"}),Qr(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Bo=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=Mn(t);t=r.a,"chrome-extension"==(r=r.c)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Wo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Gr(this,"email",t.Jb),t.ea&&Gr(this,"phoneNumber",t.ea),t.credential&&Gr(this,"credential",t.credential),t.Zb&&Gr(this,"tenantId",t.Zb)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function zo(){}function Go(t){return t.c||(t.c=t.b())}function Qo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}_(Ko,T),_(Wo,T),Wo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Wo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,_(Qo,zo),Qo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Vo=new Qo,_($o,zo),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),rs=new es("WARNING",900),is=new es("CONFIG",700),os=new es("FINE",500);function ss(t){return t.c?t.c:t.a?ss(t.a):(D("Root logger has no level set."),null)}ts.prototype.log=function(t,e,n){if(t.value>=ss(this).value)for(d(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var as={},us=null;function cs(t){var e;if(us||(us=new ts(""),as[""]=us,us.c=is),!(e=as[t])){e=new ts(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=cs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,as[t]=e}return e}function ls(t,e){t&&t.log(os,e,void 0)}function hs(t){this.f=t}function fs(t){yn.call(this),this.u=t,this.h=void 0,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=cs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(hs,zo),hs.prototype.a=function(){return new fs(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),_(fs,yn);var ds=0;function ps(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function vs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,gs(t)}function gs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ms(t){yn.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,gs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,vs(this)),this.readyState=ds},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,gs(this)),this.a&&(this.readyState=3,gs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ps(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?vs(this):gs(this),3==this.readyState&&ps(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,vs(this))},t.sc=function(t){this.a&&(this.response=t,vs(this))},t.Ua=function(t){var e=this.i;e&&e.log(rs,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&vs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(rs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),_(ms,yn);var ys="";ms.prototype.b=cs("goog.net.XhrIo");var bs=/^https?$/i,ws=["POST","PUT"];function _s(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.C=t.D?Go(t.D):Go(Vo),t.a.onreadystatechange=b(t.Vb,t);try{ls(t.b,Ns(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return ls(t.b,Ns(t,"Error opening Xhr: "+e.message)),void Ts(t,e)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)V(t,e,void 0);else for(var n=An(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Is,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!H(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ks(t),0<t.g&&(t.u=function(t){return zt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ls(t.b,Ns(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=In(t.Ma,t.g,t)),ls(t.b,Ns(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ls(t.b,Ns(t,"Send error: "+e.message)),Ts(t,e)}}function Is(t){return"content-type"==t.toLowerCase()}function Ts(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Es(t),Ss(t)}function Es(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function As(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Cs(t)&&2==xs(t))ls(t.b,Ns(t,"Local request error detected and ignored"));else if(t.i&&4==Cs(t))In(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Cs(t)){ls(t.b,Ns(t,"Request complete")),t.c=!1;try{var e,n=xs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(xn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!bs.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Cs(t)?t.a.statusText:""}catch(e){ls(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+xs(t)+"]",Es(t)}}finally{Ss(t)}}}function Ss(t,e){if(t.a){ks(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ks(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Cs(t){return t.a?t.a.readyState:0}function xs(t){try{return 2<Cs(t)?t.a.status:-1}catch(t){return-1}}function Ns(t,e){return e+" ["+t.R+" "+t.l+" "+xs(t)+"]"}function Rs(t){var e=Bs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,Ms(t)}function Ds(t){if(t.a){if(!t.v)throw new Fs(t);t.v=!1}}function Os(t,e,n,r){t.g.push([e,n,r]),t.a&&Ms(t)}function Ls(t){return W(t.g,(function(t){return d(t[1])}))}function Ms(t){if(t.h&&t.a&&Ls(t)){var e=t.h,n=qs[e];n&&(s.clearTimeout(n.a),delete qs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ls(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Rs?(Os(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new js(e),qs[e.a]=e,t.h=e.a)}function Fs(){R.call(this)}function Us(){R.call(this)}function js(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=ms.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ls(this.b,Ns(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ls(this.b,Ns(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ss(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ss(this,!0)),ms.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?As(this):this.Jc())},t.Jc=function(){As(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ls(this.b,"Can not get response: "+t.message),null}},Rs.prototype.cancel=function(t){if(this.a)this.c instanceof Rs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Us(this),Ds(this),Ps(this,!1,t))}},Rs.prototype.m=function(t,e){this.i=!1,Ps(this,t,e)},Rs.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Os(this,r,(function(t){t instanceof Us?o.cancel():i(t)})),o.then(t,e,n)},Rs.prototype.$goog_Thenable=!0,_(Fs,R),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",_(Us,R),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",js.prototype.c=function(){throw delete qs[this.a],this.b};var qs={};function Vs(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Rs(o);return e=window.setTimeout((function(){Ks(i,!0);var t=new zs(Hs,"Timeout reached for loading script "+r);Ds(a),Ps(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ks(i,!1,e),Ds(a),Ps(a,!0,null))},i.onerror=function(){Ks(i,!0,e);var t=new zs(Ws,"Error while loading script "+r);Ds(a),Ps(a,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Bs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ks(t,!0,this.Ma)}}function Ks(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ws=0,Hs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Gs(t){this.f=t}function Qs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xs,this.g=ft(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=ft(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=s.XMLHttpRequest||n&&Jc.INTERNAL.node&&Jc.INTERNAL.node.XMLHttpRequest)&&!yr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new hs(self):wr()?this.f=new Gs(n):this.f=new $o,this.b=null}_(zs,R),_(Gs,zo),Gs.prototype.a=function(){return new this.f},Gs.prototype.b=function(){return{}};var Ys,$s="idToken",Xs=new jr(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new jr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Mn(t),e=Mn(e.url),t.f=t.a+t.f,Rn(t,e.c),t.a=e.a,Pn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,a){(function(){var t=Sr();return!((t=Tr(t)!=Ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&oe&&!(9<oe))})()||yr()?t=b(t.u,t):(Ys||(Ys=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Os(t,null,e,void 0)}(Vs(Et(sa,{onload:aa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Qs.prototype.T=function(){return this.b},Qs.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ms(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}bn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ls(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),wn(a,"ready",(function(){u&&clearTimeout(u),Be(this)})),wn(a,"timeout",(function(){u&&clearTimeout(u),Be(this),e&&e(null)})),_s(a,t,n,r,i)};var sa=new gt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t,e,n,r,i,o,s){var a=Mn(e+n);On(a,"key",t.c),s&&On(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&On(a,c,i[c]);return new be((function(e,n){oa(t,a.toString(),(function(t){t?t.error?n(ru(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:tr(Or(i)),t.a,t.v.get())}))}function ca(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new T("invalid-email")}function la(t){"email"in t&&ca(t)}function ha(t){if(!t[$s]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function fa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Qs.prototype.s=function(t,e,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qs.prototype.zb=function(){return eu(this,Ka,{})},Qs.prototype.Bb=function(t,e){return eu(this,Va,{idToken:t,email:e})},Qs.prototype.Cb=function(t,e){return eu(this,Ba,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function pa(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function va(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&($n(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=nu(t.errorMessage)),e)throw e;ha(t)}function ya(t,e){return e.returnIdpCredential=!0,eu(t,za,e)}function ba(t,e){return e.returnIdpCredential=!0,eu(t,Qa,e)}function wa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,eu(t,Ga,e)}function _a(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Qs.prototype).Db=function(t,e){var n={idToken:t},r=[];return lt(da,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),eu(this,Va,n)},t.vb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),eu(this,Ma,t)},t.wb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),eu(this,Da,t)},t.ub=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),eu(this,Oa,t)},t.Eb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),eu(this,La,t)},t.fb=function(t){return eu(this,Xa,t)},t.nb=function(t,e){return eu(this,ja,{oobCode:t,newPassword:e})},t.Ra=function(t){return eu(this,Ta,{oobCode:t})},t.jb=function(t){return eu(this,Ia,{oobCode:t})};var Ia={endpoint:"setAccountInfo",A:_a,Z:"email",B:!0},Ta={endpoint:"resetPassword",A:_a,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Ea={endpoint:"signupNewUser",A:function(t){if(ca(t),!t.password)throw new T("weak-password")},G:ha,V:!0,B:!0},Aa={endpoint:"createAuthUri",B:!0},Sa={endpoint:"deleteAccount",N:["idToken"]},ka={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ca={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ca,G:ha,V:!0,B:!0},xa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ca,G:ha,V:!0},Na={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:pa,G:ha,B:!0,Na:!0},Ra={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:pa,G:ha,B:!0,Na:!0},Pa={endpoint:"getAccountInfo"},Da={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ca(t)},Z:"email",B:!0},Oa={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ca(t)},Z:"email",B:!0},Fa={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ua={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},ja={endpoint:"resetPassword",A:_a,Z:"email",B:!0},qa={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Va={endpoint:"setAccountInfo",N:["idToken"],A:la,V:!0},Ba={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(la(t),!t.password)throw new T("weak-password")},G:ha,V:!0},Ka={endpoint:"signupNewUser",G:ha,V:!0,B:!0},Wa={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ha={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},za={endpoint:"verifyAssertion",A:va,Ya:ga,G:ma,V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:va,Ya:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw nu(t.errorMessage);ha(t)},V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:function(t){if(va(t),!t.idToken)throw new T("internal-error")},Ya:ga,G:ma,V:!0},Ya={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ha,V:!0,B:!0},$a={endpoint:"verifyPassword",A:function(t){if(ca(t),!t.password)throw new T("wrong-password")},G:ha,V:!0,B:!0},Xa={endpoint:"verifyPhoneNumber",A:fa,G:ha,B:!0},Ja={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");fa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);ha(t)}},Za={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fa,G:ha,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[$s]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function eu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return ke(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Se(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ua(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function nu(t){return ru({error:{errors:[{message:t}],code:400,message:t}})}function ru(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Dr(t)),new T("internal-error",e)}function iu(t){this.b=t,this.a=null,this.rb=function(t){return(uu||(uu=new be((function(t,e){function n(){Ur(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:su.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Se(Vs(r=Et(ou,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw uu=null,t})))).then((function(){return new be((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),au.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ou=new gt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new jr(3e4,6e4),au=new jr(5e3,15e3),uu=null;function cu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Fn((t=Mn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,On(this.a,"apiKey",this.h),On(this.a,"appName",this.i),this.b=null,this.c=[]}function lu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function hu(t){try{return Jc.app(t).auth().Ga()}catch(t){return[]}}function fu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function du(t){var e=ar();return function(t){return eu(t,Fa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Mn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:dr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ko(ar())}))}function pu(t){return t.m||(t.m=vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=hu(t.b),i=new cu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()}t.v=new iu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.m}function vu(t){return t.l||(t.C=t.c?Ar(t.c,hu(t.b)):null,t.l=new Qs(t.g,x(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new lu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.yb(l).toString()}function mu(t){if(this.a=t||Jc.INTERNAL.reactNative&&Jc.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=b(this.c,this)}cu.prototype.toString=function(){return this.f?On(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?On(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},lu.prototype.yb=function(t){return this.h=t,this},lu.prototype.toString=function(){if(this.v){var t=Mn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(On(t,"apiKey",this.s),On(t,"appName",this.c),On(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Jc.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,On(t,"providerId",this.a.providerId),e=Or((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ht(e)||On(t,"customParameters",Dr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&On(t,"scopes",n.join(","))),this.l?On(t,"redirectUrl",this.l):Yn(t.b,"redirectUrl"),this.g?On(t,"eventId",this.g):Yn(t.b,"eventId"),this.i?On(t,"v",this.i):Yn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(t,s)&&On(t,s,this.b[s]);return this.h?On(t,"tid",this.h):Yn(t.b,"tid"),this.f?On(t,"eid",this.f):Yn(t.b,"eid"),(s=hu(this.c)).length&&On(t,"fw",s.join(",")),t.toString()},(t=fu.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return pu(t).then((function(){return function(t,e){return t.rb.then((function(){return new be((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){Tn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Tn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Sr();return!Pr(t)&&!Fr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new T("popup-blocked"));if(s&&!Pr())return this.ma().o((function(e){hr(t),i(e)})),r(),Se();this.a||(this.a=du(vu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){(Fo(n),s)||ur(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=du(vu(this)));var i=this;return this.a.then((function(){Fo(e),ur(gu(i.s,i.g,i.b,t,e,ar(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return pu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){G(this.h,(function(e){return e==t}))},(t=mu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Dr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bu,wu=[];function _u(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Iu(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function Eu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Au(t,c),e})).o((function(e){throw Au(t,c),e}))}function Au(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),G(t.a,(function(t){return t==e}))}}function Su(){if(!Nu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;yr()&&self?(this.v=function(){var t=yr()?self:null;if(V(wu,(function(n){n.b==t&&(e=n)})),!e){var e=new yu(t);wu.push(e)}return e}(),_u(this.v,"keyChanged",(function(e,n){return Lu(t).then((function(e){return 0<e.length&&V(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),_u(this.v,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new Iu(e)),Eu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function ku(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return ku(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Cu(t){return t.i||(t.i=ku(t)),t.i}function xu(t,e){var n=0;return new be((function r(i,o){Cu(t).then(e).then(i).o((function(e){if(!(3<++n))return Cu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Nu(){try{return!!s.indexedDB}catch(t){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Du(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ou(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Eu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Lu(t){return Cu(t).then((function(t){var e=Ru(Pu(t,!1));return e.getAll?Du(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=cr(t.c,n),t.c=n}return r}))}function Mu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Nu()){var t=Mr(),r="__sak"+t;return bu||(bu=new Su),(n=bu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){V(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function ju(){if(!function(){var t="Node"==br();if(!(t=qu()||t&&Jc.INTERNAL.node&&Jc.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=qu()||Jc.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=s.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Vu(){this.type="nullStorage"}function Bu(){if(!function(){var t="Node"==br();if(!(t=Ku()||t&&Jc.INTERNAL.node&&Jc.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ku()||Jc.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var t=s.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Wu(){var t={};t.Browser=Gu,t.Node=Qu,t.ReactNative=Yu,t.Worker=$u,this.a=t[br()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];V(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),xe(i).then((function(r){var i=[];V(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),V(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Iu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Su.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Du((e=Ru(Pu(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Ru(Pu(o,!0)),i)return i.value=e,Du(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Du(o.add(s))}))})).then((function(){return n.c[t]=e,Ou(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Du(Ru(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Du(Ru(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Ou(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Lu(t).then((function(e){0<e.length&&V(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Mu(t),e()}(this),this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t})),0==this.a.length&&Mu(this)},(t=Fu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&sn(s.window,"storage",t)},t.ia=function(t){s.window&&cn(s.window,"storage",t)},(t=Vu.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Hu,zu,Gu={F:ju,bb:Bu},Qu={F:ju,bb:Bu},Yu={F:mu,bb:Vu},$u={F:ju,bb:Vu},Xu={rd:"local",NONE:"none",td:"session"};function Ju(){var t=!(Fr(Sr())||!mr()),e=Pr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Hu||(Hu=new Wu),t=Hu;try{this.g=!sr()&&Br()||!s.indexedDB?new t.a.F:new Fu(yr()?new Uu:new t.a.F)}catch(t){this.g=new Uu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Uu}this.v=new Uu,this.f=b(this.Yb,this),this.b={}}function Zu(){return zu||(zu=new Ju),zu}function tc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ec(t,e){return"firebase:"+t.name+(e?":"+e:"")}function nc(t,e,n){return n=ec(e,n),"local"==e.F&&(t.b[n]=null),tc(t,e.F).U(n)}function rc(t){t.c&&(clearInterval(t.c),t.c=null)}function ic(t){this.a=t,this.b=Zu()}(t=Ju.prototype).get=function(t,e){return tc(this,t.F).get(ec(t,e))},t.set=function(t,e,n){var r=ec(t,n),i=this,o=tc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ec(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(tc(this,"local").ca(this.f),this.h||(sr()||!Br())&&s.indexedDB||!this.l||function(t){rc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ec(t,e),this.a[t]&&(G(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(tc(this,"local").ia(this.f),rc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?tc(this,"local").ia(this.f):rc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},zt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&V(this.a[t],(function(t){t()}))};var oc,sc={name:"authEvent",F:"local"};function ac(){this.a=Zu()}function uc(t,e){this.b=cc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===oc&&(oc=s.Int32Array?new Int32Array(gc):gc),this.reset()}_(uc,(function(){this.b=-1}));for(var cc=64,lc=cc-1,hc=[],fc=0;fc<lc;fc++)hc[fc]=0;var dc=Q(128,hc);function pc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|oc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function vc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(pc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(pc(t),i=0)}}t.c=i,t.g+=n}uc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Y(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mc(){uc.call(this,8,yc)}_(mc,uc);var yc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ac,this.g=new ic(this.h),this.f=null,this.b=[],this.a=this.c=null}function wc(t){return new T("invalid-cordova-configuration",t)}function _c(t){var e=new mc;vc(e,t),t=[];var n=8*e.g;56>e.c?vc(e,dc,56-e.c):vc(e,dc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(pc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ic(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ec(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Ln(o=Mn(i),"firebaseError")||null))?E(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ic(t,i)}))}var n=new Uo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Tn(500).then((function(){return Ec(t).then((function(){r||Ic(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Bo||(Bo=new qo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ec(t){var e=null;return function(t){return t.b.get(sc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,nc((n=t.g).b,sc,n.a)})).then((function(){return e}))}function Ac(t){this.a=t,this.b=Zu()}(t=bc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?vr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",s))throw wc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",s))throw wc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",s))throw wc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",s))throw wc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Se()},t.Mb=function(){return ke(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return ke(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Se().then((function(){return Fo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new T("no-auth-event"),null,i),u=kr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",s),l={};if(Sr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Sr().toLowerCase().match(/android/))return ke(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=_c(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(sc,a.w(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Sr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Tn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){qr()&&c()},o.addEventListener("resume",c,!1),Sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Ec(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){G(this.b,(function(e){return e==t}))};var Sc={name:"pendingRedirect",F:"session"};function kc(t){return nc(t.b,Sc,t.a)}function Cc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Kc,this.C=new Qc,this.g=new Ac(Vc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,A,this.J)}function xc(t,e,n,r,i){var o=Jc.SDK_VERSION||null;return gr()?new bc(t,e,n,o,r,i):new fu(t,e,n,o,r,i)}function Nc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Rc(t){t.a.Xb()&&Nc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)})),t.a.Tb()||Wc(t.b)}function Pc(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Sc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kc(t.g).then((function(){Nc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)}))})):Rc(t)})).o((function(){Rc(t)}))}function Dc(t,e){G(t.h,(function(t){return t==e}))}Cc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Cc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Wc(this.b),e};var Oc=new jr(2e3,1e4),Lc=new jr(3e4,6e4);function Mc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Fc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Sc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Fc(e))throw new T("operation-not-supported-in-this-environment");return o=e,kc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new be((function(){})):kc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function jc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Oc.get())}Cc.prototype.qa=function(){return this.b.qa()};var qc={};function Vc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Bc(t,e,n,r){var i=Vc(e,n,r);return qc[i]||(qc[i]=new Cc(t,e,n,r)),qc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(t){t.g||(t.g=!0,Gc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&Gc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Gc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Qc(){}function Yc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function $c(t,e){this.a=e,Gr(this,"verificationId",t)}function Xc(t,e,n,r){return new Oo(t).fb(e,n).then((function(t){return new $c(t,r)}))}function Zc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function tl(t,e,n){var r=e&&e[nl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;V(e[el]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Gc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Gc(t,a,e,null)})).o((function(e){Gc(t,a,null,e)}))}(this,t,e):ke(new T("invalid-auth-event")):(Gc(this,!1,null,null),Se())}else ke(new T("invalid-auth-event"))},Kc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(Lc.get()).then((function(){t.b||(t.g=!0,Gc(t,!0,null,e))}))}(t))}))},Qc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):ke(new T("invalid-auth-event"))}else ke(new T("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var el="mfaInfo",nl="mfaPendingCredential";function rl(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new tl(t,e,n),Gr(this,"resolver",this.b)}function il(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rl(e,t.serverResponse,n,t.message)}catch(t){}return null}function ol(){}function sl(t){Gr(this,"factorId",t.fa),this.a=t}function al(t){if(sl.call(this,t),this.a.fa!=Oo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(t,e){for(var n in Ge.call(this,t),e)this[n]=e[n]}function cl(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&V(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ll(this,n)}function ll(t,e){t.b=e,Gr(t,"enrolledFactors",e)}function hl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return qr()||!t?Se():new be((function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fl(t,!0)})).o((function(e){t.i(e)&&fl(t,!1)}))}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function pl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vl(t,e){t.b=Vi(e[$s]||""),t.a=e.refreshToken,pl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function gl(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ru(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,pl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function ml(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function yl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Jc.SDK_VERSION?Ar(Jc.SDK_VERSION):null;this.a=new Qs(this.l,x(A),r),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new dl(this.a),kl(this,e[$s]),vl(this.b,e),Gr(this,"refreshToken",this.b.a),Nl(this,n||{}),yn.call(this),this.R=!1,this.s&&xr()&&(this.i=Bc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new hl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){na(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Il(i,t.f)},this.ba=null,this.O=new cl(this,n),Gr(this,"multiFactor",this.O)}function wl(t,e){t.ja&&cn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&sn(e,"languageCodeChanged",t.Oa)}function _l(t,e){t.X&&cn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&sn(e,"emulatorConfigChanged",t.Aa)}function Il(t,e){t.$=e,ia(t.a,Jc.SDK_VERSION?Ar(Jc.SDK_VERSION,t.$):null)}function Tl(t,e){t.ba&&cn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&sn(e,"frameworkChanged",t.Ba)}function El(t){try{return Jc.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Al(t){t.D||t.u.b||(t.u.start(),cn(t,"tokenChanged",t.aa),sn(t,"tokenChanged",t.aa))}function Sl(t){cn(t,"tokenChanged",t.aa),t.u.stop()}function kl(t,e){t.za=e,Gr(t,"_lat",e)}function Cl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return xe(e).then((function(){return t}))}function xl(t){t.i&&!t.R&&(t.R=!0,Pc(t.i,t))}function Nl(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ml(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Rl(){}function Pl(t){return Se().then((function(){if(t.D)throw new T("app-deleted")}))}function Dl(t){return K(t.providerData,(function(t){return t.providerId}))}function Ol(t,e){e&&(Ll(t,e.providerId),t.providerData.push(e))}function Ll(t,e){G(t.providerData,(function(t){return t.providerId==e}))}function Ml(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Gr(t,e,n)}function Fl(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Gr(t,"metadata",function(t){return new ml(t.a,t.b)}(e.metadata)):Gr(t,"metadata",new ml),V(e.providerData,(function(e){Ol(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Gr(t,"refreshToken",t.b.a),ll(t.O,e.O.b))}function Ul(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return eu(t.a,Pa,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Ml(t,"isAnonymous",!1),e}))}))}function jl(t,e){e[$s]&&t.za!=e[$s]&&(vl(t.b,e),t.dispatchEvent(new ul("tokenChanged")),kl(t,e[$s]),Ml(t,"refreshToken",t.b.a))}function ql(t,e){return Ul(t).then((function(){if(H(Dl(t),e))return Cl(t).then((function(){throw new T("provider-already-linked")}))}))}function Vl(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Gi(e),operationType:n})}function Bl(t,e){return jl(t,e),t.reload().then((function(){return t}))}function Kl(t,e,n,r,i){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=zi(n.providerId),s=Mr(t.uid+":::"),a=null;(!Pr()||mr())&&t.s&&n.isOAuthProvider&&(a=gu(t.s,t.l,t.m,e,n,null,s,Jc.SDK_VERSION||null,null,null,t.tenantId));var u=fr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return Mc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=jc(t.i,t,e,u,s)}))})).then((function(t){return u&&hr(u),t?Yr(t):null})).o((function(t){throw u&&hr(u),t})),zl(t,r,i)}function Wl(t,e,n,r,i){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=null,s=Mr(t.uid+":::");return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Cl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yl,t.w(),e.a)),e})).then((function(){return Uc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return $l(t.ha);throw o})).then((function(){if(o)throw o})),zl(t,r,i)}function Hl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function zl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ul("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){z(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),El(t),b(t.jc,t))),n||e}))}function Gl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[$s]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(e,n,t);return t.providerData&&V(t.providerData,(function(t){t&&Ol(i,Yr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Ql(t){this.a=t,this.b=Zu()}tl.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[el],delete n[nl],pt(n,t),e.g(n)}))},_(rl,T),ol.prototype.sb=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Do(t.a)}),eu(e,Na,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),eu(e,Ra,n)}))}(this,t,e)},_(sl,ol),_(al,sl),_(ul,Ge),(t=cl.prototype).yc=function(t){ll(this,function(t){var e=[];return V(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new ro(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return jl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return eu(r,tu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return ll(e,r),jl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(bl,yn),bl.prototype.wa=function(t){this.ya=t,ea(this.a,t)},bl.prototype.la=function(){return this.ya},bl.prototype.Ga=function(){return Y(this.$)},bl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Gr(bl.prototype,"providerId","firebase"),(t=bl.prototype).reload=function(){var t=this;return zl(this,Pl(this).then((function(){return Ul(t).then((function(){return Cl(t)})).then(Rl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return zl(this,Pl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(kl(e,t.accessToken),e.dispatchEvent(new ul("tokenChanged"))),Ml(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Nl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new yl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Ml(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return zl(this,t.c(this.a,this.uid).then((function(t){return jl(e,t),n=Vl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return zl(this,ql(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vl(e,t,"link"),Bl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return zl(this,ql(this,"phone").then((function(){return Xc(El(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return zl(this,Se().then((function(){return Xc(El(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return zl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.ed=function(t){var e=this;return zl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return jl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return zl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pl(this);var e=this;return zl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return jl(e,t),Ml(e,"displayName",t.displayName||null),Ml(e,"photoURL",t.photoUrl||null),V(e.providerData,(function(t){"password"===t.providerId&&(Gr(t,"displayName",e.displayName),Gr(t,"photoURL",e.photoURL))})),Cl(e)})).then(Rl))},t.cd=function(t){var e=this;return zl(this,Ul(this).then((function(n){return H(Dl(e),t)?function(t,e,n){return eu(t,ka,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return V(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),V(Dl(e),(function(t){n[t]||Ll(e,t)})),n[Oo.PROVIDER_ID]||Gr(e,"phoneNumber",null),Cl(e)})):Cl(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return zl(this,this.I().then((function(e){return eu(t.a,Sa,{idToken:e})})).then((function(){t.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");wl(t,null),_l(t,null),Tl(t,null),t.J=[],t.D=!0,Sl(t),Gr(t,"refreshToken",null),t.i&&Dc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Kl(this,"linkViaPopup",t,(function(){return ql(e,t.providerId).then((function(){return Cl(e)}))}),!1)},t.Nc=function(t){return Kl(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Fc=function(t){var e=this;return Wl(this,"linkViaRedirect",t,(function(){return ql(e,t.providerId)}),!1)},t.Oc=function(t){return Wl(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zl(this,this.I().then((function(n){return ba(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vl(i,t,"link"),Bl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zl(this,Se().then((function(){return ao(wa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vl(i,t,"reauthenticate"),jl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return zl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Fi(new ki(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return zl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Fi(new ki(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return zl(this,t=ao(Se(t),n.uid).then((function(t){return e=Vl(n,t,"reauthenticate"),jl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),V(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.w()),t};var Yl={name:"redirectUser",F:"session"};function $l(t){return nc(t.b,Yl,t.a)}function Xl(t){this.a=t,this.b=Zu(),this.c=null,this.f=function(t){var e=th("local"),n=th("session"),r=th("none");return function(t,e,n){var r=ec(e,n),i=tc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Lr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zl,t.a).then((function(t){return t?th(t):e}))}))}))})).then((function(e){return t.c=e,Jl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(th("local"),this.a,b(this.g,this))}function Jl(t,e){var n,r=[];for(n in Xu)Xu[n]!==e&&r.push(nc(t.b,th(Xu[n]),t.a));return r.push(nc(t.b,Zl,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ce(t[a],w(o,a),s);else e(i)}))}(r)}Xl.prototype.g=function(){var t=this,e=th("local");ih(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Jl(t,"local").then((function(){t.c=e}))}))}))};var Zl={name:"persistence",F:"session"};function th(t){return{name:"authUser",F:t}}function eh(t,e){return ih(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nh(t){return ih(t,(function(){return nc(t.b,t.c,t.a)}))}function rh(t,e,n){return ih(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Gl(t||{})}))}))}function ih(t,e){return t.f=t.f.then(e,e),t.f}function oh(t){if(this.l=!1,Gr(this,"settings",new Yc),Gr(this,"app",t),!ph(this).options||!ph(this).options.apiKey)throw new T("invalid-api-key");t=Jc.SDK_VERSION?Ar(Jc.SDK_VERSION):null,this.a=new Qs(ph(this).options&&ph(this).options.apiKey,x(A),t),this.R=[],this.s=[],this.O=[],this.hb=Jc.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=Jc.INTERNAL.createSubscribe(b(this.Ac,this)),fh(this,null),this.i=new Xl(ph(this).options.apiKey+":"+ph(this).name),this.D=new Ql(ph(this).options.apiKey+":"+ph(this).name),this.$=yh(this,function(t){var e=ph(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Gl(t||{})}))}(t.D,ph(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),$l(t.D)}));return yh(t,e)}(t).then((function(){return rh(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return eh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nh(t.i)}))):null})).then((function(e){fh(t,e||null)}));return yh(t,n)}(this)),this.h=yh(this,function(t){return t.$.then((function(){return lh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(th("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=ph(t).options.authDomain,n=ph(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Bc(e,n,ph(t).name,t.P),Pc(t.b,t),vh(t)&&xl(vh(t)),t.m){xl(t.m);var r=t.m;r.wa(t.la()),wl(r,t),Il(r=t.m,t.J),Tl(r,t),na((r=t.m).a,t.P),_l(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Mn(this.P.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function sh(t){Ge.call(this,"languageCodeChanged"),this.h=t}function ah(t){Ge.call(this,"emulatorConfigChanged"),this.c=t}function uh(t){Ge.call(this,"frameworkChanged"),this.f=t}function ch(t){return t.Oa||ke(new T("auth-domain-config-required"))}function lh(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=ch(t).then((function(){return t.b.qa()})).then((function(t){return t?Yr(t):null}));return yh(t,e)}function hh(t,e){var n={};return n.apiKey=ph(t).options.apiKey,n.authDomain=ph(t).options.authDomain,n.appName=ph(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new bl(t,e);return n&&(i.ha=n),r&&Il(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return vh(t)&&e.uid==vh(t).uid?(Fl(vh(t),e),t.da(e)):(fh(t,e),xl(e),t.da(e))})).then((function(){mh(t)}))}function fh(t,e){vh(t)&&(function(t,e){G(t.S,(function(t){return t==e}))}(vh(t),t.Ba),cn(vh(t),"tokenChanged",t.ya),cn(vh(t),"userDeleted",t.za),cn(vh(t),"userInvalidated",t.Aa),Sl(vh(t))),e&&(e.S.push(t.Ba),sn(e,"tokenChanged",t.ya),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.u&&Al(e)),Gr(t,"currentUser",e),e&&(e.wa(t.la()),wl(e,t),Il(e,t.J),Tl(e,t),na(e.a,t.P),_l(e,t))}function dh(t,e){var n=null,r=null;return yh(t,e.then((function(e){return n=Mo(e),r=Gi(e),hh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Yr({user:vh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function ph(t){return t.app}function vh(t){return t.currentUser}function gh(t){return vh(t)&&vh(t)._lat||null}function mh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](gh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](gh(t))}}function yh(t,e){return t.R.push(e),e.oa((function(){z(t.R,e)})),e}function bh(){}function wh(){this.a={},this.b=1e12}Xl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Xu)if(Xu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Nu()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),ih(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Jl(n,t)})).then((function(){if(n.c=th(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},_(oh,yn),_(sh,Ge),_(ah,Ge),_(uh,Ge),(t=oh.prototype).xb=function(t){return yh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new sh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&vr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,na(this.a,this.P),this.dispatchEvent(new ah(this.P))}},t.Gc=function(t){this.J.push(t),ia(this.a,Jc.SDK_VERSION?Ar(Jc.SDK_VERSION,this.J):null),this.dispatchEvent(new uh(this.J))},t.Ga=function(){return Y(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ph(this).options.apiKey,authDomain:ph(this).options.authDomain,appName:ph(this).name,currentUser:vh(this)&&vh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return dh(i,ya(i.a,o))}))},t.Xc=function(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=this,n=zi(t.providerId),r=Mr(),i=null;(!Pr()||mr())&&ph(this).options.authDomain&&t.isOAuthProvider&&(i=gu(ph(this).options.authDomain,ph(this).options.apiKey,ph(this).name,"signInViaPopup",t,null,r,Jc.SDK_VERSION||null,null,null,this.T(),this.P));var o=fr(i,n&&n.ua,n&&n.ta);return yh(this,n=ch(this).then((function(n){return Mc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=jc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&hr(o),t?Yr(t):null})).o((function(t){throw o&&hr(o),t})))},t.Yc=function(t){if(!xr())return ke(new T("operation-not-supported-in-this-environment"));var e=this;return yh(this,ch(this).then((function(){return function(t){return ih(t,(function(){return t.b.set(Zl,t.c.F,t.a)}))}(e.i)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return lh(this).then((function(e){return t.b&&Hc(t.b.b),e})).o((function(e){throw t.b&&Hc(t.b.b),e}))},t.dd=function(t){if(!t)return ke(new T("null-user"));if(this.S!=t.tenantId)return ke(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=ph(this).options.apiKey,n.authDomain=ph(this).options.authDomain,n.appName=ph(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[$s]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Il(e,r),Fl(e,t),e}(t,n,e.D,e.Ga());return yh(this,this.h.then((function(){if(ph(e).options.apiKey!=t.l)return r.reload()})).then((function(){return vh(e)&&t.uid==vh(e).uid?(Fl(vh(e),t),e.da(t)):(fh(e,r),xl(r),e.da(r))})).then((function(){mh(e)})))},t.Ab=function(){var t=this;return yh(this,this.h.then((function(){return t.b&&Hc(t.b.b),vh(t)?(fh(t,null),nh(t.i).then((function(){mh(t)}))):Se()})))},t.Zc=function(){var t=this;return rh(this.i,ph(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=vh(t)&&e){n=vh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Fl(vh(t),e),vh(t).I();(vh(t)||e)&&(fh(t,e),e&&(xl(e),e.ha=t.D),t.b&&Pc(t.b,t),mh(t))}}))},t.da=function(t){return eh(this.i,t)},t.mc=function(){mh(this),this.da(vh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return dh(e,Se(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(vh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),yh(t,t.h.then((function(){!t.l&&H(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(gh(t)))})))}(this,(function(){t.next(vh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(vh(r)):"function"==typeof t.next&&t.next(vh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return yh(this,this.h.then((function(){return vh(e)?vh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return dh(e,eu(e.a,Ya,{token:t}))})).then((function(t){var n=t.user;return Ml(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return dh(n,eu(n.a,$a,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return dh(n,eu(n.a,Ea,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return dh(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=vh(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return dh(t,t.a.zb()).then((function(e){var n=e.user;return Ml(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return vh(this)&&vh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vh(this)&&Al(vh(this))},t.Pc=function(t){var e=this;V(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&vh(this)&&Sl(vh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),yh(this,this.h.then((function(){e.l||H(e.s,t)&&t(gh(e))})))},t.removeAuthTokenListener=function(t){G(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(th("local"),t.a,this.ja),this.b&&(Dc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return yh(this,function(t,e){return eu(t,Aa,{identifier:e,continueUri:Nr()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!No(t)},t.wb=function(t,e){var n=this;return yh(this,Se().then((function(){var t=new ki(e);if(!t.c)throw new T("argument-error",Ni+" must be true when sending sign in link to email");return Fi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return yh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return yh(this,this.a.Ra(t).then((function(t){return new ii(t)})))},t.jb=function(t){return yh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return yh(this,Se().then((function(){return void 0===e||ht(e)?{}:Fi(new ki(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return yh(this,Xc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return yh(this,Se().then((function(){var r=e||ar(),i=xo(t,r);if(!(r=No(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},bh.prototype.render=function(){},bh.prototype.reset=function(){},bh.prototype.getResponse=function(){},bh.prototype.execute=function(){};var _h=null;function Ih(t,e){return(e=Th(e))&&t.a[e]||null}function Th(t){return(t=void 0===t?1e12:t)?t.toString():null}function Eh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function Ah(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sh(){}function kh(){}wh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Eh(t,e),this.b++},wh.prototype.reset=function(t){var e=Ih(this,t);t=Th(t),e&&t&&(e.delete(),delete this.a[t])},wh.prototype.getResponse=function(t){return(t=Ih(this,t))?t.getResponse():null},wh.prototype.execute=function(t){(t=Ih(this,t))&&t.execute()},Eh.prototype.getResponse=function(){return Ah(this),this.b},Eh.prototype.execute=function(){Ah(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Eh.prototype.delete=function(){Ah(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Gr(Sh,"FACTOR_ID","phone"),kh.prototype.g=function(){return _h||(_h=new wh),Se(_h)},kh.prototype.c=function(){};var Ch=null;function xh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nh=new gt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rh=new jr(3e4,6e4);xh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Rh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},Se(Vs(Et(Nh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},xh.prototype.c=function(){this.b--};var Ph=null;function Dh(t,e,n,r,i,o,a){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Ch||(Ch=new kh),a=Ch):(Ph||(Ph=new xh),a=Ph),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Mh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Fh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(t){if(Uh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Lh];this.a[Lh]=function(){if(Uh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,s);"function"==typeof t&&t()}}}var Oh="callback",Lh="expired-callback",Mh="sitekey",Fh="size";function Uh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function jh(t,e){return t.h.push(e),e.oa((function(){z(t.h,e)})),e}function qh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vh(t,e,n){var r=!1;try{this.b=n||Jc.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Jc.SDK_VERSION?Ar(Jc.SDK_VERSION,o):null,Dh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,x(A),r)}function Bh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Kh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Kh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Dh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=jh(this,Se().then((function(){if(Nr()&&!yr())return vr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,eu(t.s,Ua,{})})).then((function(e){t.a[Mh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){qh(this);var t=this;return jh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Vt(s.name),'"'),s.type){o.push(' type="',Vt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){qh(this);var t=this;return jh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){G(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){qh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){qh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Vh,Dh);var Kh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Hh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function zh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Gh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Yh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function $h(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xh(t){return p(t)&&"string"==typeof t.uid}function Jh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Zh(t,e){for(var n in e){var r=e[n].name;t[r]=nf(r,t[n],e[n].j)}}function tf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Bh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function ef(t,e,n,r){t[e]=nf(e,n,r)}function nf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Bh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Zh(oh.prototype,{jb:{name:"applyActionCode",j:[Wh("code")]},Ra:{name:"checkActionCode",j:[Wh("code")]},nb:{name:"confirmPasswordReset",j:[Wh("code"),Wh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wh("email"),Wh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Wh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Wh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Jh(zh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Jh(zh(),Gh(),"nextOrObserver"),Gh("opt_error",!0),Gh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Wh("email"),Jh(zh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Wh("email"),zh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Wh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Yh()]},Tc:{name:"signInWithCustomToken",j:[Wh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Wh("email"),Wh("password")]},Vc:{name:"signInWithEmailLink",j:[Wh("email"),Wh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Jh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bl)}},Qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Wh("url"),zh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Wh("code")]}}),tf(oh.prototype,{lc:{name:"languageCode",kb:Jh(Wh(),Qh(),"languageCode")},ti:{name:"tenantId",kb:Jh(Wh(),Qh(),"tenantId")}}),oh.Persistence=Xu,oh.Persistence.LOCAL="local",oh.Persistence.SESSION="session",oh.Persistence.NONE="none",Zh(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yh()]},qb:{name:"linkWithCredential",j:[Yh()]},Dc:{name:"linkWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yh()]},tb:{name:"reauthenticateWithCredential",j:[Yh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Jh(zh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},cd:{name:"unlink",j:[Wh("provider")]},Bb:{name:"updateEmail",j:[Wh("email")]},Cb:{name:"updatePassword",j:[Wh("password")]},ed:{name:"updatePhoneNumber",j:[Yh("phone")]},Db:{name:"updateProfile",j:[zh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Wh("email"),Jh(zh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]}}),Zh(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Hh("appVerificationDisabledForTesting")}}),Zh($c.prototype,{confirm:{name:"confirm",j:[Wh("verificationCode")]}}),ef(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,ko,Po,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Jh(Wh(),zh(),"json")]),ef(Co,"credential",(function(t,e){return new So(t,e)}),[Wh("email"),Wh("password")]),Zh(So.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(yo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),ef(yo,"credential",bo,[Jh(Wh(),zh(),"token")]),ef(Co,"credentialWithLink",xo,[Wh("email"),Wh("emailLink")]),Zh(wo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),ef(wo,"credential",_o,[Jh(Wh(),zh(),"token")]),Zh(Io.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),ef(Io,"credential",To,[Jh(Wh(),Jh(zh(),Qh()),"idToken"),Jh(Wh(),Qh(),"accessToken",!0)]),Zh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),ef(Eo,"credential",Ao,[Jh(Wh(),zh(),"token"),Wh("secret",!0)]),Zh(mo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},credential:{name:"credential",j:[Jh(Wh(),Jh(zh(),Qh()),"optionsOrIdToken"),Jh(Wh(),Qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),Zh(ho.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(uo.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Oo,"credential",Lo,[Wh("verificationId"),Wh("verificationCode")]),Zh(Oo.prototype,{fb:{name:"verifyPhoneNumber",j:[Jh(Wh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?$h(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?$h(t.session,oo)&&Xh(t.multiFactorHint):t.session&&t.multiFactorUid?$h(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Zh(Ro.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(T.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(Wo.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(Ko.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(rl.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),Zh(tl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Zh(cl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Wh("displayName",!0)]},bd:{name:"unenroll",j:[Jh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xh},Wh(),"multiFactorInfoIdentifier")]}}),Zh(Vh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ef(yi,"parseLink",Si,[Wh("link")]),ef(Sh,"assertion",(function(t){return new al(t)}),[Yh("phone")]),function(){if(void 0===Jc||!Jc.INTERNAL||!Jc.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:oh,AuthCredential:so,Error:T};ef(t,"EmailAuthProvider",Co,[]),ef(t,"FacebookAuthProvider",yo,[]),ef(t,"GithubAuthProvider",wo,[]),ef(t,"GoogleAuthProvider",Io,[]),ef(t,"TwitterAuthProvider",Eo,[]),ef(t,"OAuthProvider",mo,[Wh("providerId")]),ef(t,"SAMLAuthProvider",go,[Wh("providerId")]),ef(t,"PhoneAuthProvider",Oo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof oh)}}]),ef(t,"RecaptchaVerifier",Vh,[Jh(Wh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),zh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Jc.app.App)}}]),ef(t,"ActionCodeURL",yi,[]),ef(t,"PhoneMultiFactorGenerator",Sh,[]),Jc.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new oh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Jc.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Jc.registerVersion("@firebase/auth","0.16.6"),Jc.INTERNAL.extendNamespace({User:bl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Zc="";function tl(t){Zc=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var el,nl=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),sc(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:oc(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),rl=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return uc(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),il=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nl(e)}}catch(t){}return new rl},ol=il("localStorage"),sl=il("sessionStorage"),al=new Mc("@firebase/database"),ul=(el=1,function(){return el++}),cl=function(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Fu(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new fc;n.update(e);var r=n.digest();return qu.encodeByteArray(r)},ll=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=ll.apply(null,i):n+="object"==typeof i?sc(i):i,n+=" "}return n},hl=null,fl=!0,dl=function(t,e){Fu(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(al.logLevel=Cc.VERBOSE,hl=al.log.bind(al),e&&sl.set("logging_enabled",!0)):"function"==typeof t?hl=t:(hl=null,sl.remove("logging_enabled"))},pl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===fl&&(fl=!1,null===hl&&!0===sl.get("logging_enabled")&&dl(!0)),hl){var n=ll.apply(null,t);hl(n)}},vl=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];pl.apply(void 0,Ou([t],Du(e)))}},gl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+ll.apply(void 0,Ou([],Du(t)));al.error(n)},ml=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+ll.apply(void 0,Ou([],Du(t)));throw al.error(n),new Error(n)},yl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+ll.apply(void 0,Ou([],Du(t)));al.warn(n)},bl=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wl="[MIN_NAME]",_l="[MAX_NAME]",Il=function(t,e){if(t===e)return 0;if(t===wl||e===_l)return-1;if(e===wl||t===_l)return 1;var n=Nl(t),r=Nl(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},Tl=function(t,e){return t===e?0:t<e?-1:1},El=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+sc(e))},Al=function(t){if("object"!=typeof t||null===t)return sc(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=sc(e[i]),r+=":",r+=Al(t[e[i]]);return r+="}"},Sl=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Cl=function(t){Fu(!bl(t),"Invalid JSON number");var e,n,r,i,o,s=1023;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),s))+s,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var xl=new RegExp("^-?(0*)\\d{1,10}$"),Nl=function(t){if(xl.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Rl=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw yl("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Pl=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Dl=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){yl('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),Ol=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(pl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yl(t)},t}(),Ll=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),Ml=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ol.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ol.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function Ul(t,e,n){var r;if(Fu("string"==typeof e,"typeof type must == string"),Fu("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return kl(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jl=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),uc(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Bu(this.counters_)},t}(),ql={},Vl={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){var e=t.toString();return ql[e]||(ql[e]=new jl),ql[e]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Kl=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Rl((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),Wl=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vl(t),this.stats_=Bl(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),Ul(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Kl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Hl((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Du(t,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Du(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&Ml.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=sc(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n,r=(n=ju(e),qu.encodeByteArray(n,!0)),i=Sl(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var e=sc(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Hl=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=ul(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){pl("frame writing exception"),t.stack&&pl(t.stack),pl(t)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||pl("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){pl("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),zl=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!=typeof MozWebSocket?zl=MozWebSocket:"undefined"!=typeof WebSocket&&(zl=WebSocket);var Gl=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vl(this.connId),this.stats_=Bl(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Ml.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),Ul(t,"websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ol.set("previous_websocket_failure",!0);try{if(Xu());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new zl(this.connURL,[],r)}}catch(t){this.log_("Error instantiating WebSocket.");var i=t.message||t.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==zl&&!t.forceDisallow_},t.previouslyFailed=function(){return ol.isInMemoryStorage||!0===ol.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){ol.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=oc(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Fu(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=sc(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=Sl(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ql=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Wl,Gl]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Gl&&Gl.isAvailable(),o=i&&!Gl.previouslyFailed();if(e.webSocketOnly&&(i||yl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Gl];else{var s=this.transports_=[];try{for(var a=Pu(t.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var c=u.value;c&&c.isAvailable()&&s.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Yl=function(){function t(t,e,n,r,i,o,s,a,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vl("c:"+this.id+":"),this.transportManager_=new Ql(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pl((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=El("t",t),n=El("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=El("t",t),n=El("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=El("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?gl("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gl("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&yl("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pl((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pl((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ol.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),$l=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Xl=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Fu(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Ou([],Du(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Fu(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Jl=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Gu()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Cu(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Fu("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Xl),Zl=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(){return new Zl("")}function eh(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function nh(t){return t.pieces_.length-t.pieceNum_}function rh(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new Zl(t.pieces_,e)}function ih(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function oh(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function sh(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Zl(e,0)}function ah(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Zl)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Zl(n,0)}function uh(t){return t.pieceNum_>=t.pieces_.length}function ch(t,e){var n=eh(t),r=eh(e);if(null===n)return e;if(n===r)return ch(rh(t),rh(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lh(t,e){for(var n=oh(t,0),r=oh(e,0),i=0;i<n.length&&i<r.length;i++){var o=Il(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function hh(t,e){if(nh(t)!==nh(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fh(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(nh(t)>nh(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var dh=function(t,e){this.errorPrefix_=e,this.parts_=oh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=wc(this.parts_[n]);ph(this)};function ph(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vh(t))}function vh(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh,mh,yh=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Cu(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Fu("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Xl),bh=function(t){function e(n,r,i,o,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=s,l.authTokenProvider_=a,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=vl("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Xu())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return yh.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Jl.getInstance().on("online",l.onOnline_,l),l}return Cu(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(sc(i)),Fu(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new Wu,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Fu(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fu(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&uc(t,"w")){var n=cc(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();yl("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=ac(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t,e=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(t=ac(n).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(t){var r=t.s,i=t.d||"error";e.authToken_===n&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Fu(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+sc(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):gl("Unrecognized action received from server: "+sc(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Fu(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Nu(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,h,f,d,p,v=this;return Ru(this,(function(g){switch(g.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this.lastSessionId,s=!1,a=null,u=function(){a?a.close():(s=!0,r())},c=function(t){Fu(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(t)},this.realtime_={close:u,sendRequest:c},l=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)])];case 2:return h=Du.apply(void 0,[g.sent(),2]),f=h[0],d=h[1],s?pl("getToken() completed but was canceled"):(pl("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new Yl(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){yl(t+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),o)),[3,4];case 3:return p=g.sent(),this.log_("Failed to get token: "+p),s||(this.repoInfo_.nodeAdmin&&yl(p),u()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){pl("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){pl("Resuming connection for reason: "+t),delete this.interruptReasons_[t],lc(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return Al(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Zl(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){pl("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){pl("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Pu(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,Pu(s.values())),u=a.next();!u.done;u=a.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+Zc.replace(/\./g,"-")]=1,Gu()?t["framework.cordova"]=1:$u()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Jl.getInstance().currentlyOnline();return lc(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}($l),wh=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),_h=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new wh(wl,t),r=new wh(wl,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return wh.MIN},t}(),Ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return gh},set:function(t){gh=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return Il(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Uu("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return wh.MIN},e.prototype.maxPost=function(){return new wh(_l,gh)},e.prototype.makePost=function(t,e){return Fu("string"==typeof t,"KeyIndex indexValue must always be a string."),new wh(t,gh)},e.prototype.toString=function(){return".key"},e}(_h),Th=new Ih,Eh=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ah=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:kh.EMPTY_NODE,this.right=null!=o?o:kh.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return kh.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return kh.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Sh=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ah(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),kh=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ah.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ah.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Eh(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Eh(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Eh(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Eh(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Sh,t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ch(t,e){return Il(t.name,e.name)}function xh(t,e){return Il(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nh,Rh,Ph,Dh=function(t){return"number"==typeof t?"number:"+Cl(t):"string:"+t},Oh=function(t){if(t.isLeafNode()){var e=t.val();Fu("string"==typeof e||"number"==typeof e||"object"==typeof e&&uc(e,".sv"),"Priority must be a string or number.")}else Fu(t===mh||t.isEmpty(),"priority of unexpected type.");Fu(t===mh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Lh=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Fu(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Oh(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Nh},set:function(t){Nh=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return uh(e)?this:".priority"===eh(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=eh(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Fu(".priority"!==r||1===nh(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(rh(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Dh(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Cl(this.value_):this.value_,this.lazyHash_=cl(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Fu(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return Fu(i>=0,"Unknown leaf type: "+n),Fu(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Mh,Fh,Uh=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?Il(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return wh.MIN},e.prototype.maxPost=function(){return new wh(_l,new Lh("[PRIORITY-POST]",Ph))},e.prototype.makePost=function(t,e){var n=Rh(t);return new wh(e,new Lh("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(_h)),jh=Math.log(2),qh=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/jh,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Vh=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ah(s,o.node,Ah.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Ah(s,o.node,Ah.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Ah(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Ah.BLACK):(a(h,Ah.BLACK),a(h,Ah.RED))}return o}(new qh(t.length));return new kh(r||e,o)},Bh={},Kh=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Fu(Bh&&Uh,"ChildrenNode.ts has not been loaded"),Mh=Mh||new t({".priority":Bh},{".priority":Uh})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=cc(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof kh?e:null},t.prototype.hasIndex=function(t){return uc(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Fu(e!==Th,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(wh.Wrap),a=s.getNext();a;)o=o||e.isDefinedOn(a.node),i.push(a),a=s.getNext();r=o?Vh(i,e.getCompare()):Bh;var u=e.toString(),c=xu({},this.indexSet_);c[u]=e;var l=xu({},this.indexes_);return l[u]=r,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(hc(this.indexes_,(function(t,i){var o=cc(r.indexSet_,i);if(Fu(o,"Missing index implementation for "+i),t===Bh){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(wh.Wrap),u=a.getNext();u;)u.name!==e.name&&s.push(u),u=a.getNext();return s.push(e),Vh(s,o.getCompare())}return Bh}var c=n.get(e.name),l=t;return c&&(l=l.remove(new wh(e.name,c))),l.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(hc(this.indexes_,(function(t){if(t===Bh)return t;var r=n.get(e.name);return r?t.remove(new wh(e.name,r)):t})),this.indexSet_)},t}(),Wh=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Oh(this.priorityNode_),this.children_.isEmpty()&&Fu(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Fh||(Fh=new t(new kh(xh),null,Kh.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Fh},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Fh:e},t.prototype.getChild=function(t){var e=eh(t);return null===e?this:this.getImmediateChild(e).getChild(rh(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Fu(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new wh(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Fh:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=eh(t);if(null===n)return e;Fu(".priority"!==eh(t)||1===nh(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(rh(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Uh,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Dh(this.getPriority().val())+":"),this.forEachChild(Uh,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":cl(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new wh(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new wh(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new wh(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,wh.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,wh.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Hh?-1:0},t.prototype.withIndex=function(e){if(e===Th||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Th||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Uh),r=e.getIterator(Uh),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Th?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Hh=new(function(t){function e(){return t.call(this,new kh(xh),Wh.EMPTY_NODE,Kh.Default)||this}return Cu(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Wh.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Wh));Object.defineProperties(wh,{MIN:{value:new wh(wl,Wh.EMPTY_NODE)},MAX:{value:new wh(_l,Hh)}}),Ih.__EMPTY_NODE=Wh.EMPTY_NODE,Lh.__childrenNodeConstructor=Wh,mh=Hh,function(t){Ph=t}(Hh);function zh(t,e){if(void 0===e&&(e=null),null===t)return Wh.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Fu(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Lh(t,zh(e));if(t instanceof Array){var n=Wh.EMPTY_NODE;return kl(t,(function(e,r){if(uc(t,e)&&"."!==e.substring(0,1)){var i=zh(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(zh(e))}var r=[],i=!1;if(kl(t,(function(t,e){if("."!==t.substring(0,1)){var n=zh(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new wh(t,n)))}})),0===r.length)return Wh.EMPTY_NODE;var o=Vh(r,Ch,(function(t){return t.name}),xh);if(i){var s=Vh(r,Uh.getCompare());return new Wh(o,zh(e),new Kh({".priority":s},{".priority":Uh}))}return new Wh(o,zh(e),Kh.Default)}!function(t){Rh=t}(zh);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Gh,Qh,Yh=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Fu(!uh(e)&&".priority"!==eh(e),"Can't create PathIndex with empty path or .priority key"),n}return Cu(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?Il(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=zh(t),r=Wh.EMPTY_NODE.updateChild(this.indexPath_,n);return new wh(e,r)},e.prototype.maxPost=function(){var t=Wh.EMPTY_NODE.updateChild(this.indexPath_,Hh);return new wh(_l,t)},e.prototype.toString=function(){return oh(this.indexPath_,0).join("/")},e}(_h),$h=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Il(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return wh.MIN},e.prototype.maxPost=function(){return wh.MAX},e.prototype.makePost=function(t,e){var n=zh(t);return new wh(e,n)},e.prototype.toString=function(){return".value"},e}(_h)),Xh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jh=(Gh=0,Qh=[],function(t){var e,n=t===Gh;Gh=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=Xh.charAt(t%64),t=Math.floor(t/64);Fu(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===Qh[e];e--)Qh[e]=0;Qh[e]++}else for(e=0;e<12;e++)Qh[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=Xh.charAt(Qh[e]);return Fu(20===i.length,"nextPushId: Length should be 20."),i}),Zh=function(t){if("2147483647"===t)return"-";var e=Nl(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return _l;var o=n[i],s=Xh.charAt(Xh.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},tf=function(t){if("-2147483648"===t)return wl;var e=Nl(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Xh.charAt(Xh.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ef(t){return{type:"value",snapshotNode:t}}function nf(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function rf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function of(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var sf=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){Fu(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(rf(e,s)):Fu(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(nf(e,n)):o.trackChildChange(of(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Uh,(function(t,r){e.hasChild(t)||n.trackChildChange(rf(t,r))})),e.isLeafNode()||e.forEachChild(Uh,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(of(e,r,i))}else n.trackChildChange(nf(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Wh.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),af=function(){function t(e){this.indexedFilter_=new sf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new wh(e,n))||(n=Wh.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Wh.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Wh.EMPTY_NODE);var i=this;return e.forEachChild(Uh,(function(t,e){i.matches(new wh(t,e))||(r=r.updateImmediateChild(t,Wh.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),uf=function(){function t(t){this.rangedFilter_=new af(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new wh(e,n))||(n=Wh.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Wh.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Wh.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Wh.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){s=i.getNext();!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Wh.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;Fu(a.numChildren()===this.limit_,"");var u=new wh(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var h=a.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:o(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(of(e,n,h)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(rf(e,h));var p=a.updateImmediateChild(e,Wh.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(nf(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(rf(c.name,c.node)),i.trackChildChange(nf(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,Wh.EMPTY_NODE)):t},t}(),cf=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Uh}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Fu(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Fu(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wl},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Fu(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Fu(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_l},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Fu(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Uh},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function hf(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ff(t,e){var n=t.copy();return n.index_=e,n}function df(t){var e,n={};return t.isDefault()||(t.index_===Uh?e="$priority":t.index_===$h?e="$value":t.index_===Th?e="$key":(Fu(t.index_ instanceof Yh,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=sc(e),t.startSet_&&(n.startAt=sc(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+sc(t.indexStartName_))),t.endSet_&&(n.endAt=sc(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+sc(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function pf(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Uh&&(e.i=t.index_.toString()),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vf=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=vl("p:rest:"),o.listens_={},o}return Cu(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Fu(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var a=e.getListenId_(t,r),u={};this.listens_[a]=u;var c=df(t._queryParams);this.restRequest_(s+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),cc(o.listens_,a)===u)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=df(t._queryParams),r=t._path.toString(),i=new Wu;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=Du(i,2),s=o[0],a=o[1];s&&s.accessToken&&(e.auth=s.accessToken),a&&a.token&&(e.ac=a.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=oc(c.responseText)}catch(t){yl("Failed to parse JSON response for "+u+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&yl("Got unsuccessful REST response for "+u+" Status: "+c.status),n(c.status);n=null}},c.open("GET",u,!0),c.send()}))},e}($l),gf=function(){function t(){this.rootNode_=Wh.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mf(){return{value:null,children:new Map}}function yf(t,e,n){if(uh(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=eh(e);t.children.has(r)||t.children.set(r,mf()),yf(t.children.get(r),e=rh(e),n)}}function bf(t,e){if(uh(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Uh,(function(e,n){yf(t,new Zl(e),n)})),bf(t,e)}if(t.children.size>0){var r=eh(e);if(e=rh(e),t.children.has(r))bf(t.children.get(r),e)&&t.children.delete(r);return 0===t.children.size}return!0}function wf(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,(function(t,r){wf(r,new Zl(e.toString()+"/"+t),n)}))}var _f,If,Tf=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=xu({},t);return this.last_&&kl(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Ef=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Tf(t);var n=1e4+2e4*Math.random();Pl(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;kl(e,(function(e,i){i>0&&uc(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Pl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(If=_f||(_f={}))[If.OVERWRITE=0]="OVERWRITE",If[If.MERGE=1]="MERGE",If[If.ACK_USER_WRITE=2]="ACK_USER_WRITE",If[If.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Sf,kf=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=_f.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(uh(this.path)){if(null!=this.affectedTree.value)return Fu(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Zl(e));return new t(th(),n,this.revert)}return Fu(eh(this.path)===e,"operationForChild called for unrelated child."),new t(rh(this.path),this.affectedTree,this.revert)},t}(),Cf=function(){function t(t,e){this.source=t,this.path=e,this.type=_f.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return uh(this.path)?new t(this.source,th()):new t(this.source,rh(this.path))},t}(),xf=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=_f.OVERWRITE}return t.prototype.operationForChild=function(e){return uh(this.path)?new t(this.source,th(),this.snap.getImmediateChild(e)):new t(this.source,rh(this.path),this.snap)},t}(),Nf=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=_f.MERGE}return t.prototype.operationForChild=function(e){if(uh(this.path)){var n=this.children.subtree(new Zl(e));return n.isEmpty()?null:n.value?new xf(this.source,th(),n.value):new t(this.source,th(),n)}return Fu(eh(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,rh(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Rf=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(uh(t))return this.isFullyInitialized()&&!this.filtered_;var e=eh(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Pf=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e,n,r,i,o){var s=r.filter((function(t){return t.type===n}));s.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Uu("Should only compare child_ events.");var r=new wh(e.childName,e.snapshotNode),i=new wh(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,n)})),s.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,o);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Of(t,e){return{eventCache:t,serverCache:e}}function Lf(t,e,n,r){return Of(new Rf(e,n,r),t.serverCache)}function Mf(t,e,n,r){return Of(t.eventCache,new Rf(e,n,r))}function Ff(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Uf(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jf=function(){function t(t,e){void 0===e&&(Sf||(Sf=new kh(Tl)),e=Sf),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return kl(e,(function(t,e){n=n.set(new Zl(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:th(),value:this.value};if(uh(t))return null;var n=eh(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(rh(t),e);return null!=i?{path:ah(new Zl(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(uh(e))return this;var n=eh(e),r=this.children.get(n);return null!==r?r.subtree(rh(e)):new t(null)},t.prototype.set=function(e,n){if(uh(e))return new t(n,this.children);var r=eh(e),i=(this.children.get(r)||new t(null)).set(rh(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(uh(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=eh(e),r=this.children.get(n);if(r){var i=r.remove(rh(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(uh(t))return this.value;var e=eh(t),n=this.children.get(e);return n?n.get(rh(t)):null},t.prototype.setTree=function(e,n){if(uh(e))return n;var r=eh(e),i=(this.children.get(r)||new t(null)).setTree(rh(e),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(th(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ah(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,th(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(uh(t))return null;var i=eh(t),o=this.children.get(i);return o?o.findOnPath_(rh(t),ah(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,th(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(uh(e))return this;this.value&&r(n,this.value);var i=eh(e),o=this.children.get(i);return o?o.foreachOnPath_(rh(e),ah(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(th(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(ah(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),qf=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new jf(null))},t}();function Vf(t,e,n){if(uh(e))return new qf(new jf(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=ch(i,e);return o=o.updateChild(s,n),new qf(t.writeTree_.set(i,o))}var a=new jf(n),u=t.writeTree_.setTree(e,a);return new qf(u)}function Bf(t,e,n){var r=t;return kl(n,(function(t,n){r=Vf(r,ah(e,t),n)})),r}function Kf(t,e){if(uh(e))return qf.empty();var n=t.writeTree_.setTree(e,new jf(null));return new qf(n)}function Wf(t,e){return null!=Hf(t,e)}function Hf(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(ch(n.path,e)):null}function zf(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Uh,(function(t,n){e.push(new wh(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new wh(t,n.value))})),e}function Gf(t,e){if(uh(e))return t;var n=Hf(t,e);return new qf(null!=n?new jf(n):t.writeTree_.subtree(e))}function Qf(t){return t.writeTree_.isEmpty()}function Yf(t,e){return $f(th(),t.writeTree_,e)}function $f(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?(Fu(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=$f(ah(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(ah(t,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t,e){return ld(e,t)}function Jf(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Fu(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,s=t.allWrites.length-1;i&&s>=0;){var a=t.allWrites[s];a.visible&&(s>=n&&Zf(a,r.path)?i=!1:fh(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return function(t){t.visibleWrites=ed(t.allWrites,td,th()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=Kf(t.visibleWrites,r.path):kl(r.children,(function(e){t.visibleWrites=Kf(t.visibleWrites,ah(r.path,e))}));return!0}return!1}function Zf(t,e){if(t.snap)return fh(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&fh(ah(t.path,n),e))return!0;return!1}function td(t){return t.visible}function ed(t,e,n){for(var r=qf.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)fh(n,s)?r=Vf(r,a=ch(n,s),o.snap):fh(s,n)&&(a=ch(s,n),r=Vf(r,th(),o.snap.getChild(a)));else{if(!o.children)throw Uu("WriteRecord should have .snap or .children");if(fh(n,s))r=Bf(r,a=ch(n,s),o.children);else if(fh(s,n))if(uh(a=ch(s,n)))r=Bf(r,th(),o.children);else{var u=cc(o.children,eh(a));if(u){var c=u.getChild(rh(a));r=Vf(r,th(),c)}}}}}return r}function nd(t,e,n,r,i){if(r||i){var o=Gf(t.visibleWrites,e);if(!i&&Qf(o))return n;if(i||null!=n||Wf(o,th())){return Yf(ed(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(fh(t.path,e)||fh(e,t.path))}),e),n||Wh.EMPTY_NODE)}return null}var s=Hf(t.visibleWrites,e);if(null!=s)return s;var a=Gf(t.visibleWrites,e);return Qf(a)?n:null!=n||Wf(a,th())?Yf(a,n||Wh.EMPTY_NODE):null}function rd(t,e,n,r){return nd(t.writeTree,t.treePath,e,n,r)}function id(t,e){return function(t,e,n){var r=Wh.EMPTY_NODE,i=Hf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Uh,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Gf(t.visibleWrites,e);return n.forEachChild(Uh,(function(t,e){var n=Yf(Gf(o,new Zl(t)),e);r=r.updateImmediateChild(t,n)})),zf(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return zf(Gf(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function od(t,e,n,r){return function(t,e,n,r,i){Fu(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=ah(e,n);if(Wf(t.visibleWrites,o))return null;var s=Gf(t.visibleWrites,o);return Qf(s)?i.getChild(n):Yf(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function sd(t,e){return function(t,e){return Hf(t.visibleWrites,e)}(t.writeTree,ah(t.treePath,e))}function ad(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,u=Gf(t.visibleWrites,e),c=Hf(u,th());if(null!=c)a=c;else{if(null==n)return[];a=Yf(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,r,i,o)}function ud(t,e,n){return function(t,e,n,r){var i=ah(e,n),o=Hf(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Yf(Gf(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function cd(t,e){return ld(ah(t.treePath,e),t.writeTree)}function ld(t,e){return{treePath:t,writeTree:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hd=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Fu("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Fu(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,of(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,rf(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,nf(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Uu("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,of(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),fd=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),dd=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Rf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ud(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Uf(this.viewCache_),i=ad(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t,e,n,r,i){var o,s,a=new hd;if(n.type===_f.OVERWRITE){var u=n;u.source.fromUser?o=md(t,e,u.path,u.snap,r,i,a):(Fu(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.serverCache.isFiltered()&&!uh(u.path),o=gd(t,e,u.path,u.snap,r,i,s,a))}else if(n.type===_f.MERGE){var c=n;c.source.fromUser?o=function(t,e,n,r,i,o,s){var a=e;return r.foreach((function(r,u){var c=ah(n,r);yd(e,eh(c))&&(a=md(t,a,c,u,i,o,s))})),r.foreach((function(r,u){var c=ah(n,r);yd(e,eh(c))||(a=md(t,a,c,u,i,o,s))})),a}(t,e,c.path,c.children,r,i,a):(Fu(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered(),o=wd(t,e,c.path,c.children,r,i,s,a))}else if(n.type===_f.ACK_USER_WRITE){var l=n;o=l.revert?function(t,e,n,r,i,o){var s;if(null!=sd(r,n))return e;var a=new dd(r,e,i),u=e.eventCache.getNode(),c=void 0;if(uh(n)||".priority"===eh(n)){var l=void 0;if(e.serverCache.isFullyInitialized())l=rd(r,Uf(e));else{var h=e.serverCache.getNode();Fu(h instanceof Wh,"serverChildren would be complete if leaf node"),l=id(r,h)}l=l,c=t.filter.updateFullNode(u,l,o)}else{var f=eh(n),d=ud(r,f,e.serverCache);null==d&&e.serverCache.isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?t.filter.updateChild(u,f,d,rh(n),a,o):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(u,f,Wh.EMPTY_NODE,rh(n),a,o):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=rd(r,Uf(e))).isLeafNode()&&(c=t.filter.updateFullNode(c,s,o))}return s=e.serverCache.isFullyInitialized()||null!=sd(r,th()),Lf(e,c,s,t.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,l.path,r,i,a):function(t,e,n,r,i,o,s){if(null!=sd(i,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(uh(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return gd(t,e,n,u.getNode().getChild(n),i,o,a,s);if(uh(n)){var c=new jf(null);return u.getNode().forEachChild(Th,(function(t,e){c=c.set(new Zl(t),e)})),wd(t,e,n,c,i,o,a,s)}return e}var l=new jf(null);return r.foreach((function(t,e){var r=ah(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))})),wd(t,e,n,l,i,o,a,s)}(t,e,l.path,l.affectedTree,r,i,a)}else{if(n.type!==_f.LISTEN_COMPLETE)throw Uu("Unknown operation type: "+n.type);o=function(t,e,n,r,i){var o=e.serverCache,s=Mf(e,o.getNode(),o.isFullyInitialized()||uh(n),o.isFiltered());return vd(t,s,n,r,fd,i)}(t,e,n.path,r,a)}var h=a.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ff(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ef(Ff(e)))}}(e,o,h),{viewCache:o,changes:h}}function vd(t,e,n,r,i,o){var s=e.eventCache;if(null!=sd(r,n))return e;var a=void 0,u=void 0;if(uh(n))if(Fu(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var c=Uf(e),l=id(r,c instanceof Wh?c:Wh.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{var h=rd(r,Uf(e));a=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{var f=eh(n);if(".priority"===f){Fu(1===nh(n),"Can't have a priority with additional path components");var d=s.getNode(),p=od(r,n,d,u=e.serverCache.getNode());a=null!=p?t.filter.updatePriority(d,p):s.getNode()}else{var v=rh(n),g=void 0;if(s.isCompleteForChild(f)){u=e.serverCache.getNode();var m=od(r,n,s.getNode(),u);g=null!=m?s.getNode().getImmediateChild(f).updateChild(v,m):s.getNode().getImmediateChild(f)}else g=ud(r,f,e.serverCache);a=null!=g?t.filter.updateChild(s.getNode(),f,g,v,i,o):s.getNode()}}return Lf(e,a,s.isFullyInitialized()||uh(n),t.filter.filtersNodes())}function gd(t,e,n,r,i,o,s,a){var u,c=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(uh(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=eh(n);if(!c.isCompleteForPath(n)&&nh(n)>1)return e;var d=rh(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,fd,null)}var v=Mf(e,u,c.isFullyInitialized()||uh(n),l.filtersNodes());return vd(t,v,n,i,new dd(i,v,o),a)}function md(t,e,n,r,i,o,s){var a,u,c=e.eventCache,l=new dd(i,e,o);if(uh(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Lf(e,u,!0,t.filter.filtersNodes());else{var h=eh(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Lf(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=rh(n),d=c.getNode().getImmediateChild(h),p=void 0;if(uh(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===ih(f)&&v.getChild(sh(f)).isEmpty()?v:v.updateChild(f,r):Wh.EMPTY_NODE}if(d.equals(p))a=e;else a=Lf(e,t.filter.updateChild(c.getNode(),h,p,f,l,s),c.isFullyInitialized(),t.filter.filtersNodes())}}return a}function yd(t,e){return t.eventCache.isCompleteForChild(e)}function bd(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function wd(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=uh(n)?r:new jf(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=bd(0,e.serverCache.getNode().getImmediateChild(n),r);c=gd(t,c,new Zl(n),u,i,o,s,a)}})),u.children.inorderTraversal((function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=bd(0,e.serverCache.getNode().getImmediateChild(n),r);c=gd(t,c,new Zl(n),h,i,o,s,a)}})),c}var _d,Id=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new sf(r.getIndex()),o=(n=r).loadsAllData()?new sf(n.getIndex()):n.hasLimit()?new uf(n):new af(n);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=i.updateFullNode(Wh.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Wh.EMPTY_NODE,a.getNode(),null),l=new Rf(u,s.isFullyInitialized(),i.filtersNodes()),h=new Rf(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Of(h,l),this.eventGenerator_=new Pf(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Td(t,e){var n=Uf(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!uh(e)&&!n.getImmediateChild(eh(e)).isEmpty())?n.getChild(e):null}function Ed(t){return 0===t.eventRegistrations_.length}function Ad(t,e,n){var r=[];if(n){Fu(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var o=[],s=0;s<t.eventRegistrations_.length;++s){var a=t.eventRegistrations_[s];if(a.matches(e)){if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(s+1));break}}else o.push(a)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function Sd(t,e,n,r){e.type===_f.MERGE&&null!==e.source.queryId&&(Fu(Uf(t.viewCache_),"We should always have a full cache before handling merges"),Fu(Ff(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,s=t.viewCache_,a=pd(t.processor_,s,e,n,r);return i=t.processor_,o=a.viewCache,Fu(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Fu(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Fu(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,kd(t,a.changes,a.viewCache.eventCache.getNode(),null)}function kd(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),Df(t,i,"child_removed",e,r,n),Df(t,i,"child_added",e,r,n),Df(t,i,"child_moved",o,r,n),Df(t,i,"child_changed",e,r,n),Df(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd,xd=function(){this.views=new Map};function Nd(t,e,n,r){var i,o,s=e.source.queryId;if(null!==s){var a=t.views.get(s);return Fu(null!=a,"SyncTree gave us an op for an invalid query."),Sd(a,e,n,r)}var u=[];try{for(var c=Pu(t.views.values()),l=c.next();!l.done;l=c.next()){a=l.value;u=u.concat(Sd(a,e,n,r))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function Rd(t,e,n,r,i){var o=e._queryIdentifier,s=t.views.get(o);if(!s){var a=rd(n,i?r:null),u=!1;a?u=!0:r instanceof Wh?(a=id(n,r),u=!1):(a=Wh.EMPTY_NODE,u=!1);var c=Of(new Rf(a,u,!1),new Rf(r,i,!1));return new Id(e,c)}return s}function Pd(t,e,n,r,i,o){var s=Rd(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Uh,(function(t,e){r.push(nf(t,e))})),n.isFullyInitialized()&&r.push(ef(n.getNode())),kd(t,r,n.getNode(),e)}(s,n)}function Dd(t,e,n,r){var i,o,s=e._queryIdentifier,a=[],u=[],c=Ud(t);if("default"===s)try{for(var l=Pu(t.views.entries()),h=l.next();!h.done;h=l.next()){var f=Du(h.value,2),d=f[0],p=f[1];u=u.concat(Ad(p,n,r)),Ed(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||a.push(p.query))}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(p=t.views.get(s))&&(u=u.concat(Ad(p,n,r)),Ed(p)&&(t.views.delete(s),p.query._queryParams.loadsAllData()||a.push(p.query)));return c&&!Ud(t)&&a.push(new(Fu(_d,"Reference.ts has not been loaded"),_d)(e._repo,e._path)),{removed:a,events:u}}function Od(t){var e,n,r=[];try{for(var i=Pu(t.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Ld(t,e){var n,r,i=null;try{for(var o=Pu(t.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i||Td(a,e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Md(t,e){if(e._queryParams.loadsAllData())return jd(t);var n=e._queryIdentifier;return t.views.get(n)}function Fd(t,e){return null!=Md(t,e)}function Ud(t){return null!=jd(t)}function jd(t){var e,n;try{for(var r=Pu(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qd=1,Vd=function(t){this.listenProvider_=t,this.syncPointTree_=new jf(null),this.pendingWriteTree_={visibleWrites:qf.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Bd(t,e,n,r,i){return function(t,e,n,r,i){Fu(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Vf(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?$d(t,new xf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Kd(t,e,n,r){!function(t,e,n,r){Fu(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Bf(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=jf.fromObject(n);return $d(t,new Nf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}function Wd(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(Jf(t.pendingWriteTree_,e)){var i=new jf(null);return null!=r.snap?i=i.set(th(),!0):kl(r.children,(function(t){i=i.set(new Zl(t),!0)})),$d(t,new kf(r.path,i,n))}return[]}function Hd(t,e,n){return $d(t,new xf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function zd(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),s=[];if(o&&("default"===e._queryIdentifier||Fd(o,e))){var a=Dd(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=a.removed;s=a.events;var c=-1!==u.findIndex((function(t){return t._queryParams.loadsAllData()})),l=t.syncPointTree_.findOnPath(i,(function(t,e){return Ud(e)}));if(c&&!l){var h=t.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(t){return t.fold((function(t,e,n){if(e&&Ud(e))return[jd(e)];var r=[];return e&&(r=Od(e)),kl(n,(function(t,e){r=r.concat(e)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,g=Zd(t,p);t.listenProvider_.startListening(op(v),tp(t,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){t.listenProvider_.stopListening(op(e),null)}else u.forEach((function(e){var n=t.queryToTagMap.get(ep(e));t.listenProvider_.stopListening(op(e),n)}));!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=ep(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return s}function Gd(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=ch(t,r);i=i||Ld(e,n),o=o||Ud(e)}));var s,a=t.syncPointTree_.get(r);(a?(o=o||Ud(a),i=i||Ld(a,th())):(a=new xd,t.syncPointTree_=t.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=Wh.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Ld(e,th());n&&(i=i.updateImmediateChild(t,n))})));var u=Fd(a,e);if(!u&&!e._queryParams.loadsAllData()){var c=ep(e);Fu(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=qd++;t.queryToTagMap.set(c,l),t.tagToQueryMap.set(l,c)}var h=Pd(a,e,n,Xf(t.pendingWriteTree_,r),i,s);if(!u&&!o){var f=Md(a,e);h=h.concat(function(t,e,n){var r=e._path,i=tp(t,e),o=Zd(t,n),s=t.listenProvider_.startListening(op(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)Fu(!Ud(a.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(t,e,n){if(!uh(t)&&e&&Ud(e))return[jd(e).query];var r=[];return e&&(r=r.concat(Od(e).map((function(t){return t.query})))),kl(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var l=u[c];t.listenProvider_.stopListening(op(l),tp(t,l))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,f))}return h}function Qd(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Ld(n,ch(t,e));if(r)return r}));return nd(r,e,i,n,!0)}function Yd(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=ch(t,n);r=r||Ld(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Ld(i,th()):(i=new xd,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Rf(r,!0,!1):null;return function(t){return Ff(t.viewCache_)}(Rd(i,e,Xf(t.pendingWriteTree_,e._path),o?s.getNode():Wh.EMPTY_NODE,o))}function $d(t,e){return Xd(e,t.syncPointTree_,null,Xf(t.pendingWriteTree_,th()))}function Xd(t,e,n,r){if(uh(t.path))return Jd(t,e,n,r);var i=e.get(th());null==n&&null!=i&&(n=Ld(i,th()));var o=[],s=eh(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=cd(r,s);o=o.concat(Xd(a,u,c,l))}return i&&(o=o.concat(Nd(i,t,r,n))),o}function Jd(t,e,n,r){var i=e.get(th());null==n&&null!=i&&(n=Ld(i,th()));var o=[];return e.children.inorderTraversal((function(e,i){var s=n?n.getImmediateChild(e):null,a=cd(r,e),u=t.operationForChild(e);u&&(o=o.concat(Jd(u,i,s,a)))})),i&&(o=o.concat(Nd(i,t,r,n))),o}function Zd(t,e){var n=e.query,r=tp(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Wh.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=np(t,n);if(r){var i=rp(r),o=i.path,s=i.queryId,a=ch(o,e);return ip(t,o,new Cf(Af(s),a))}return[]}(t,n._path,r):function(t,e){return $d(t,new Cf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return zd(t,n,null,i)}}}function tp(t,e){var n=ep(e);return t.queryToTagMap.get(n)}function ep(t){return t._path.toString()+"$"+t._queryIdentifier}function np(t,e){return t.tagToQueryMap.get(e)}function rp(t){var e=t.indexOf("$");return Fu(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Zl(t.substr(0,e))}}function ip(t,e,n){var r=t.syncPointTree_.get(e);return Fu(r,"Missing sync point for query tag that we're tracking"),Nd(r,n,Xf(t.pendingWriteTree_,e),null)}function op(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Fu(Cd,"Reference.ts has not been loaded"),Cd)(t._repo,t._path):t}var sp=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ap=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=ah(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Qd(this.syncTree_,this.path_)},t}(),up=function(t,e,n){return t&&"object"==typeof t?(Fu(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?cp(t[".sv"],e,n):"object"==typeof t[".sv"]?lp(t[".sv"],e):void Fu(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},cp=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Fu(!1,"Unexpected server value: "+t)}},lp=function(t,e,n){t.hasOwnProperty("increment")||Fu(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Fu(!1,"Unexpected increment value: "+r);var i=e.node();if(Fu(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},hp=function(t,e,n,r){return dp(e,new ap(n,t),r)},fp=function(t,e,n){return dp(t,new sp(e),n)};function dp(t,e,n){var r,i=t.getPriority().val(),o=up(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=up(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Lh(a,zh(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Lh(o))),u.forEachChild(Uh,(function(t,i){var o=dp(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pp=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function vp(t,e){for(var n=e instanceof Zl?e:new Zl(e),r=t,i=eh(n);null!==i;){var o=cc(r.node.children,i)||{children:{},childCount:0};r=new pp(i,r,o),i=eh(n=rh(n))}return r}function gp(t){return t.node.value}function mp(t,e){t.node.value=e,Ip(t)}function yp(t){return t.node.childCount>0}function bp(t,e){kl(t.node.children,(function(n,r){e(new pp(n,t,r))}))}function wp(t,e,n,r){n&&!r&&e(t),bp(t,(function(t){wp(t,e,!0,r)})),n&&r&&e(t)}function _p(t){return new Zl(null===t.parent?t.name:_p(t.parent)+"/"+t.name)}function Ip(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===gp(t)&&!yp(t)}(n),i=uc(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ip(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Ip(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.parent,t.name,t)}var Tp=/[\[\].#$\/\u0000-\u001F\u007F]/,Ep=/[\[\].#$\u0000-\u001F\u007F]/,Ap=function(t){return"string"==typeof t&&0!==t.length&&!Tp.test(t)},Sp=function(t){return"string"==typeof t&&0!==t.length&&!Ep.test(t)},kp=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!bl(t)||t&&"object"==typeof t&&uc(t,".sv")},Cp=function(t,e,n,r){r&&void 0===e||xp(mc(t,"value"),e,n)},xp=function(t,e,n){var r=n instanceof Zl?new dh(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+vh(r));if("function"==typeof e)throw new Error(t+"contains a function "+vh(r)+" with contents = "+e.toString());if(bl(e))throw new Error(t+"contains "+e.toString()+" "+vh(r));if("string"==typeof e&&e.length>10485760/3&&wc(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+vh(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(kl(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Ap(e)))throw new Error(t+" contains an invalid key ("+e+") "+vh(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,a;a=e,(s=r).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(a),s.byteLength_+=wc(a),ph(s),xp(t,n,r),function(t){var e=t.parts_.pop();t.byteLength_-=wc(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)})),i&&o)throw new Error(t+' contains ".value" child '+vh(r)+" in addition to actual children.")}},Np=function(t,e,n,r){if(!r||void 0!==e){var i=mc(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];kl(e,(function(t,e){var r=new Zl(t);if(xp(i,e,ah(n,r)),".priority"===ih(r)&&!kp(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=oh(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Ap(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(lh);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&fh(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,o)}},Rp=function(t,e,n){if(!n||void 0!==e){if(bl(e))throw new Error(mc(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!kp(e))throw new Error(mc(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Pp=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(mc(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Dp=function(t,e,n,r){if(!(r&&void 0===n||Ap(n)))throw new Error(mc(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Op=function(t,e,n,r){if(!(r&&void 0===n||Sp(n)))throw new Error(mc(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Lp=function(t,e){if(".info"===eh(e))throw new Error(t+" failed = Can't modify data under /.info/")},Mp=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ap(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Sp(t)}(n))throw new Error(mc(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Fp=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(mc(t,e)+"must be a boolean.")},Up=function(){this.eventLists_=[],this.recursionDepth_=0};function jp(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||hh(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function qp(t,e,n){jp(t,n),Bp(t,(function(t){return hh(t,e)}))}function Vp(t,e,n){jp(t,n),Bp(t,(function(t){return fh(t,e)||fh(e,t)}))}function Bp(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i)e(i.path)?(Kp(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function Kp(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();hl&&pl("event: "+n.toString()),Rl(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wp=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Up,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mf(),this.transactionQueueTree_=new pp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Hp(t,e,n){if(t.stats_=Bl(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new vf(t.repoInfo_,(function(e,n,r,i){Qp(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return Yp(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{sc(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}t.persistentConnection_=new bh(t.repoInfo_,e,(function(e,n,r,i){Qp(t,e,n,r,i)}),(function(e){Yp(t,e)}),(function(e){!function(t,e){kl(e,(function(e,n){$p(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i,o;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=t.repoInfo_,i=function(){return new Ef(t.stats_,t.server_)},o=r.toString(),Vl[o]||(Vl[o]=i()),Vl[o]),t.infoData_=new gf,t.infoSyncTree_=new Vd({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Hd(t.infoSyncTree_,e._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),$p(t,"connected",!1),t.serverSyncTree_=new Vd({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Vp(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function zp(t){var e=t.infoData_.getNode(new Zl(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Gp(t){return(e=(e={timestamp:zp(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Qp(t,e,n,r,i){t.dataUpdateCount++;var o=new Zl(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var a=hc(n,(function(t){return zh(t)}));s=function(t,e,n,r){var i=np(t,r);if(i){var o=rp(i),s=o.path,a=o.queryId,u=ch(s,e),c=jf.fromObject(n);return ip(t,s,new Nf(Af(a),u,c))}return[]}(t.serverSyncTree_,o,a,i)}else{var u=zh(n);s=function(t,e,n,r){var i=np(t,r);if(null!=i){var o=rp(i),s=o.path,a=o.queryId,u=ch(s,e);return ip(t,s,new xf(Af(a),u,n))}return[]}(t.serverSyncTree_,o,u,i)}else if(r){var c=hc(n,(function(t){return zh(t)}));s=function(t,e,n){var r=jf.fromObject(n);return $d(t,new Nf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{var l=zh(n);s=Hd(t.serverSyncTree_,o,l)}var h=o;s.length>0&&(h=av(t,o)),Vp(t.eventQueue_,h,s)}function Yp(t,e){$p(t,"connected",e),!1===e&&function(t){rv(t,"onDisconnectEvents");var e=Gp(t),n=mf();wf(t.onDisconnect_,th(),(function(r,i){var o=hp(r,i,t.serverSyncTree_,e);yf(n,r,o)}));var r=[];wf(n,th(),(function(e,n){r=r.concat(Hd(t.serverSyncTree_,e,n));var i=fv(t,e);av(t,i)})),t.onDisconnect_=mf(),Vp(t.eventQueue_,th(),r)}(t)}function $p(t,e,n){var r=new Zl("/.info/"+e),i=zh(n);t.infoData_.updateSnapshot(r,i);var o=Hd(t.infoSyncTree_,r,i);Vp(t.eventQueue_,r,o)}function Xp(t){return t.nextWriteId_++}function Jp(t,e,n,r,i){rv(t,"set",{path:e.toString(),value:n,priority:r});var o=Gp(t),s=zh(n,r),a=Qd(t.serverSyncTree_,e),u=fp(s,a,o),c=Xp(t),l=Bd(t.serverSyncTree_,e,u,c,!0);jp(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||yl("set at "+e+" failed: "+n);var s=Wd(t.serverSyncTree_,c,!o);Vp(t.eventQueue_,e,s),iv(t,i,n,r)}));var h=fv(t,e);av(t,h),Vp(t.eventQueue_,h,[])}function Zp(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&bf(t.onDisconnect_,e),iv(t,n,r,i)}))}function tv(t,e,n,r){var i=zh(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&yf(t.onDisconnect_,e,i),iv(t,r,n,o)}))}function ev(t,e,n){var r;r=".info"===eh(e._path)?zd(t.infoSyncTree_,e,n):zd(t.serverSyncTree_,e,n),qp(t.eventQueue_,e._path,r)}function nv(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function rv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),pl.apply(void 0,Ou([r],Du(e)))}function iv(t,e,n,r){e&&Rl((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function ov(t,e,n){return Qd(t.serverSyncTree_,e,n)||Wh.EMPTY_NODE}function sv(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||hv(t,e),gp(e)){var n=cv(t,e);Fu(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=ov(t,e,r),o=i,s=i.hash(),a=0;a<n.length;a++){var u=n[a];Fu(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ch(e,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=e;t.server_.put(h.toString(),l,(function(r){rv(t,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Wd(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},a=0;a<n.length;a++)s(a);hv(t,vp(t.transactionQueueTree_,e)),sv(t,t.transactionQueueTree_),Vp(t.eventQueue_,e,i);for(a=0;a<o.length;a++)Rl(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{yl("transaction at "+h.toString()+" failed: "+r);for(a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}av(t,e)}}),s)}(t,_p(e),n)}else yp(e)&&bp(e,(function(e){sv(t,e)}))}function av(t,e){var n=uv(t,e),r=_p(n);return function(t,e,n){if(0===e.length)return;for(var r=[],i=[],o=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),s=function(s){var a,u,c=e[s],l=ch(n,c.path),h=!1;if(Fu(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,a=c.abortReason,i=i.concat(Wd(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,a="maxretry",i=i.concat(Wd(t.serverSyncTree_,c.currentWriteId,!0));else{var f=ov(t,c.path,o);c.currentInputSnapshot=f;var d=e[s].update(f.val());if(void 0!==d){xp("transaction failed: Data returned ",d,c.path);var p=zh(d);"object"==typeof d&&null!=d&&uc(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,g=Gp(t),m=fp(p,f,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=m,c.currentWriteId=Xp(t),o.splice(o.indexOf(v),1),i=(i=i.concat(Bd(t.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally))).concat(Wd(t.serverSyncTree_,v,!0))}else h=!0,a="nodata",i=i.concat(Wd(t.serverSyncTree_,c.currentWriteId,!0))}Vp(t.eventQueue_,n,i),i=[],h&&(e[s].status=2,u=e[s].unwatcher,setTimeout(u,Math.floor(0)),e[s].onComplete&&("nodata"===a?r.push((function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)})):r.push((function(){return e[s].onComplete(new Error(a),!1,null)}))))},a=0;a<e.length;a++)s(a);hv(t,t.transactionQueueTree_);for(a=0;a<r.length;a++)Rl(r[a]);sv(t,t.transactionQueueTree_)}(t,cv(t,n),r),r}function uv(t,e){var n,r=t.transactionQueueTree_;for(n=eh(e);null!==n&&void 0===gp(r);)r=vp(r,n),n=eh(e=rh(e));return r}function cv(t,e){var n=[];return lv(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function lv(t,e,n){var r=gp(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);bp(e,(function(e){lv(t,e,n)}))}function hv(t,e){var n=gp(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,mp(e,n.length>0?n:void 0)}bp(e,(function(e){hv(t,e)}))}function fv(t,e){var n=_p(uv(t,e)),r=vp(t.transactionQueueTree_,e);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){dv(t,e)})),dv(t,r),wp(r,(function(e){dv(t,e)})),n}function dv(t,e){var n=gp(e);if(n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Fu(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(Fu(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Wd(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?mp(e,void 0):n.length=o+1,Vp(t.eventQueue_,_p(e),i);for(s=0;s<r.length;s++)Rl(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pv=function(t,e){var n=vv(t),r=n.namespace;"firebase.com"===n.domain&&ml(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||ml("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Fl(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new Zl(n.pathString)}},vv=function(t){var e="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(l,h)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Pu(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):yl("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(c=e.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;var d=e.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},gv=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+sc(this.snapshot.exportVal())},t}(),mv=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),yv=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Fu(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),bv=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new Wu;return Zp(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){Lp("OnDisconnect.remove",this._path);var t=new Wu;return tv(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){Lp("OnDisconnect.set",this._path),Cp("OnDisconnect.set",t,this._path,!1);var e=new Wu;return tv(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){Lp("OnDisconnect.setWithPriority",this._path),Cp("OnDisconnect.setWithPriority",t,this._path,!1),Rp("OnDisconnect.setWithPriority",e,!1);var n=new Wu;return function(t,e,n,r,i){var o=zh(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&yf(t.onDisconnect_,e,o),iv(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){Lp("OnDisconnect.update",this._path),Np("OnDisconnect.update",t,this._path,!1);var e=new Wu;return function(t,e,n,r){if(lc(n))return pl("onDisconnect().update() called with empty data.  Don't do anything."),void iv(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&kl(n,(function(n,r){var i=zh(r);yf(t.onDisconnect_,ah(e,n),i)})),iv(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),wv=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return uh(this._path)?null:ih(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ev(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=pf(this._queryParams),e=Al(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return pf(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Ic(e))instanceof t))return!1;var n=this._repo===e._repo,r=hh(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function _v(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Iv(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Th){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==wl)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==_l)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Uh){if(null!=e&&!kp(e)||null!=n&&!kp(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Fu(t.getIndex()instanceof Yh||t.getIndex()===$h,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tv(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ev=function(t){function e(e,n){return t.call(this,e,n,new cf,!1)||this}return Cu(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=sh(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(wv),Av=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new Zl(e),r=Cv(this.ref,e);return new t(this._node.getChild(n),r,Uh)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,Cv(n.ref,r),Uh))}))},t.prototype.hasChild=function(t){var e=new Zl(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Sv(t,e){return(t=Ic(t))._checkNotDeleted("ref"),void 0!==e?Cv(t._root,e):t._root}function kv(t,e){(t=Ic(t))._checkNotDeleted("refFromURL");var n=pv(e,t._repo.repoInfo_.nodeAdmin);Mp("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||ml("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Sv(t,n.path.toString())}function Cv(t,e){var n,r,i,o;return null===eh((t=Ic(t))._path)?(n="child",r="path",o=!1,(i=e)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Op(n,r,i,o)):Op("child","path",e,!1),new Ev(t._repo,ah(t._path,e))}function xv(t,e){t=Ic(t),Lp("push",t._path),Cp("push",e,t._path,!0);var n,r=zp(t._repo),i=Jh(r),o=Cv(t,i),s=Cv(t,i);return n=null!=e?Rv(s,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function Nv(t){return Lp("remove",t._path),Rv(t,null)}function Rv(t,e){t=Ic(t),Lp("set",t._path),Cp("set",e,t._path,!1);var n=new Wu;return Jp(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Pv(t,e){t=Ic(t),Lp("setPriority",t._path),Rp("setPriority",e,!1);var n=new Wu;return Jp(t._repo,ah(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Dv(t,e,n){if(Lp("setWithPriority",t._path),Cp("setWithPriority",e,t._path,!1),Rp("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Wu;return Jp(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function Ov(t,e){Np("update",e,t._path,!1);var n=new Wu;return function(t,e,n,r){rv(t,"update",{path:e.toString(),value:n});var i=!0,o=Gp(t),s={};if(kl(n,(function(n,r){i=!1,s[n]=hp(ah(e,n),zh(r),t.serverSyncTree_,o)})),i)pl("update() called with empty data.  Don't do anything."),iv(0,r,"ok",void 0);else{var a=Xp(t),u=Kd(t.serverSyncTree_,e,s,a);jp(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||yl("update at "+e+" failed: "+n);var s=Wd(t.serverSyncTree_,a,!o),u=s.length>0?av(t,e):e;Vp(t.eventQueue_,u,s),iv(0,r,n,i)})),kl(n,(function(n){var r=fv(t,ah(e,n));av(t,r)})),Vp(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function Lv(t){return function(t,e){var n=Yd(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=zh(n).withIndex(e._queryParams.getIndex()),i=Hd(t.serverSyncTree_,e._path,r);return qp(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return rv(t,"get for query "+sc(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Ic(t))._repo,t).then((function(e){return new Av(e,new Ev(t._repo,t._path),t._queryParams.getIndex())}))}var Mv=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new gv("value",this,new Av(t.snapshotNode,new Ev(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new mv(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Fv=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new mv(this,t,e):null},t.prototype.createEvent=function(t,e){Fu(null!=t.childName,"Child events should have a childName.");var n=Cv(new Ev(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new gv(t.type,this,new Av(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Uv(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){ev(t._repo,t,c),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new yv(n,o||void 0),c="value"===e?new Mv(u):new Fv(e,u);return function(t,e,n){var r;r=".info"===eh(e._path)?Gd(t.infoSyncTree_,e,n):Gd(t.serverSyncTree_,e,n),qp(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return ev(t._repo,t,c)}}function jv(t,e,n,r){return Uv(t,"value",e,n,r)}function qv(t,e,n,r){return Uv(t,"child_added",e,n,r)}function Vv(t,e,n,r){return Uv(t,"child_changed",e,n,r)}function Bv(t,e,n,r){return Uv(t,"child_moved",e,n,r)}function Kv(t,e,n,r){return Uv(t,"child_removed",e,n,r)}function Wv(t,e,n){var r=null,i=n?new yv(n):null;"value"===e?r=new Mv(i):e&&(r=new Fv(e,i)),ev(t._repo,t,r)}var Hv=function(){},zv=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Cu(e,t),e.prototype._apply=function(t){Cp("endAt",this._value,t._path,!0);var e=hf(t._queryParams,this._value,this._key);if(Tv(e),Iv(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wv(t._repo,t._path,e,t._orderByCalled)},e}(Hv);function Gv(t,e){return Dp("endAt","key",e,!0),new zv(t,e)}var Qv=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Cu(e,t),e.prototype._apply=function(t){Cp("endBefore",this._value,t._path,!1);var e,n,r,i,o=(e=t._queryParams,n=this._value,r=this._key,e.index_===Th?("string"==typeof n&&(n=tf(n)),i=hf(e,n,r)):i=hf(e,n,null==r?wl:tf(r)),i.endBeforeSet_=!0,i);if(Tv(o),Iv(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wv(t._repo,t._path,o,t._orderByCalled)},e}(Hv);function Yv(t,e){return Dp("endBefore","key",e,!0),new Qv(t,e)}var $v=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Cu(e,t),e.prototype._apply=function(t){Cp("startAt",this._value,t._path,!0);var e=lf(t._queryParams,this._value,this._key);if(Tv(e),Iv(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wv(t._repo,t._path,e,t._orderByCalled)},e}(Hv);function Xv(t,e){return void 0===t&&(t=null),Dp("startAt","key",e,!0),new $v(t,e)}var Jv=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Cu(e,t),e.prototype._apply=function(t){Cp("startAfter",this._value,t._path,!1);var e=function(t,e,n){var r;t.index_===Th?("string"==typeof e&&(e=Zh(e)),r=lf(t,e,n)):r=lf(t,e,null==n?_l:Zh(n));return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Tv(e),Iv(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wv(t._repo,t._path,e,t._orderByCalled)},e}(Hv);function Zv(t,e){return Dp("startAfter","key",e,!0),new Jv(t,e)}var tg=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Cu(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wv(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),t._orderByCalled);var e,n,r},e}(Hv);function eg(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tg(t)}var ng=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Cu(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wv(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),t._orderByCalled);var e,n,r},e}(Hv);function rg(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ng(t)}var ig=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Cu(e,t),e.prototype._apply=function(t){_v(t,"orderByChild");var e=new Zl(this._path);if(uh(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Yh(e),r=ff(t._queryParams,n);return Iv(r),new wv(t._repo,t._path,r,!0)},e}(Hv);function og(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Op("orderByChild","path",t,!1),new ig(t)}var sg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype._apply=function(t){_v(t,"orderByKey");var e=ff(t._queryParams,Th);return Iv(e),new wv(t._repo,t._path,e,!0)},e}(Hv);function ag(){return new sg}var ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype._apply=function(t){_v(t,"orderByPriority");var e=ff(t._queryParams,Uh);return Iv(e),new wv(t._repo,t._path,e,!0)},e}(Hv);function cg(){return new ug}var lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype._apply=function(t){_v(t,"orderByValue");var e=ff(t._queryParams,$h);return Iv(e),new wv(t._repo,t._path,e,!0)},e}(Hv);function hg(){return new lg}var fg=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Cu(e,t),e.prototype._apply=function(t){if(Cp("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zv(this._value,this._key)._apply(new $v(this._value,this._key)._apply(t))},e}(Hv);function dg(t,e){return Dp("equalTo","key",e,!0),new fg(t,e)}function pg(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Ic(t);try{for(var s=Pu(r),a=s.next();!a.done;a=s.next()){var u=a.value;o=u._apply(o)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}!function(t){Fu(!_d,"__referenceConstructor has already been defined"),_d=t}(Ev),function(t){Fu(!Cd,"__referenceConstructor has already been defined"),Cd=t}(Ev);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vg={},gg=!1;function mg(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||ml("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pl("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=pv(o,i),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c={NODE_ENV:"production"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,o="http://"+c+"?ns="+u.namespace,u=(a=pv(o,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new Ll(Ll.OWNER):new Ol(t.name,t.options,e);Mp("Invalid Firebase Database URL",a),uh(a.path)||ml("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=vg[e.name];i||(i={},vg[e.name]=i);var o=i[t.toURLString()];o&&ml("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Wp(t,gg,n,r),i[t.toURLString()]=o,o}(u,t,l,new Dl(t.name,n));return new yg(h,t)}var yg=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(Hp(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ev(this._repo,th())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,e=this.app.name,(n=vg[e])&&n[t.key]===t||ml("Database "+e+"("+t.repoInfo_+") has already been deleted."),nv(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&ml("Cannot call "+t+" on a deleted database.")},t}();function bg(t,e,n,r){void 0===r&&(r={}),(t=Ic(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&ml("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ml('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ll(Ll.OWNER);else if(r.mockUserToken){var s=Hu(r.mockUserToken,t.app.options.projectId);o=new Ll(s)}!function(t,e,n,r){t.repoInfo_=new Fl(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function wg(t){(t=Ic(t))._checkNotDeleted("goOffline"),nv(t._repo)}function _g(t){var e;(t=Ic(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ig={".sv":"timestamp"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tg=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Eg(t,e,n){var r;if(t=Ic(t),Lp("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new Wu,s=jv(t,(function(){}));return function(t,e,n,r,i,o){rv(t,"transaction on "+e);var s={path:e,update:n,onComplete:r,status:null,order:ul(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=ov(t,e,void 0);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{xp("transaction failed: Data returned ",u,s.path),s.status=0;var c=vp(t.transactionQueueTree_,e),l=gp(c)||[];l.push(s),mp(c,l);var h=void 0;"object"==typeof u&&null!==u&&uc(u,".priority")?(h=cc(u,".priority"),Fu(kp(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Qd(t.serverSyncTree_,e)||Wh.EMPTY_NODE).getPriority().val();var f=Gp(t),d=zh(u,h),p=fp(d,a,f);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=p,s.currentWriteId=Xp(t);var v=Bd(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);Vp(t.eventQueue_,e,v),sv(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(function(e,n,r){var i=null;e?o.reject(e):(i=new Av(r,new Ev(t._repo,t._path),Uh),o.resolve(new Tg(n,i)))}),s,i),o.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ag=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){gc("OnDisconnect.cancel",0,1,arguments.length),yc("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){gc("OnDisconnect.remove",0,1,arguments.length),yc("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){gc("OnDisconnect.set",1,2,arguments.length),yc("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){gc("OnDisconnect.setWithPriority",2,3,arguments.length),yc("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(gc("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,yl("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}yc("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},t}(),Sg=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return gc("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),kg=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return gc("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return gc("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return gc("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return gc("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return gc("DataSnapshot.child",0,1,arguments.length),e=String(e),Op("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return gc("DataSnapshot.hasChild",1,1,arguments.length),Op("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return gc("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return gc("DataSnapshot.forEach",1,1,arguments.length),yc("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return gc("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return gc("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return gc("DataSnapshot.ref",0,0,arguments.length),new xg(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Cg=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var o,s=this;gc("Query.on",2,4,arguments.length),yc("Query.on","callback",n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i),u=function(t,e){n.call(a.context,new kg(s.database,t),e)};u.userCallback=n,u.context=a.context;var c=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(e){case"value":return jv(this._delegate,u,c),n;case"child_added":return qv(this._delegate,u,c),n;case"child_removed":return Kv(this._delegate,u,c),n;case"child_changed":return Vv(this._delegate,u,c),n;case"child_moved":return Bv(this._delegate,u,c),n;default:throw new Error(mc("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(gc("Query.off",0,3,arguments.length),Pp("Query.off",t,!0),yc("Query.off","callback",e,!0),bc("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Wv(this._delegate,t,r)}else Wv(this._delegate,t)},t.prototype.get=function(){var t=this;return Lv(this._delegate).then((function(e){return new kg(t.database,e)}))},t.prototype.once=function(e,n,r,i){var o=this;gc("Query.once",1,4,arguments.length),yc("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),a=new Wu,u=function(t,e){var r=new kg(o.database,t);n&&n.call(s.context,r,e),a.resolve(r)};u.userCallback=n,u.context=s.context;var c=function(t){s.cancel&&s.cancel.call(s.context,t),a.reject(t)};switch(e){case"value":jv(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":qv(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Kv(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Vv(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Bv(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(mc("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise},t.prototype.limitToFirst=function(e){return gc("Query.limitToFirst",1,1,arguments.length),new t(this.database,pg(this._delegate,eg(e)))},t.prototype.limitToLast=function(e){return gc("Query.limitToLast",1,1,arguments.length),new t(this.database,pg(this._delegate,rg(e)))},t.prototype.orderByChild=function(e){return gc("Query.orderByChild",1,1,arguments.length),new t(this.database,pg(this._delegate,og(e)))},t.prototype.orderByKey=function(){return gc("Query.orderByKey",0,0,arguments.length),new t(this.database,pg(this._delegate,ag()))},t.prototype.orderByPriority=function(){return gc("Query.orderByPriority",0,0,arguments.length),new t(this.database,pg(this._delegate,cg()))},t.prototype.orderByValue=function(){return gc("Query.orderByValue",0,0,arguments.length),new t(this.database,pg(this._delegate,hg()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),gc("Query.startAt",0,2,arguments.length),new t(this.database,pg(this._delegate,Xv(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),gc("Query.startAfter",0,2,arguments.length),new t(this.database,pg(this._delegate,Zv(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),gc("Query.endAt",0,2,arguments.length),new t(this.database,pg(this._delegate,Gv(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),gc("Query.endBefore",0,2,arguments.length),new t(this.database,pg(this._delegate,Yv(e,n)))},t.prototype.equalTo=function(e,n){return gc("Query.equalTo",1,2,arguments.length),new t(this.database,pg(this._delegate,dg(e,n)))},t.prototype.toString=function(){return gc("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return gc("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(gc("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,yc(t,"cancel",r.cancel,!0),r.context=n,bc(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(mc(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new xg(this.database,new Ev(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),xg=function(t){function e(e,n){var r=t.call(this,e,new wv(n._repo,n._path,new cf,!1))||this;return r.database=e,r._delegate=n,r}return Cu(e,t),e.prototype.getKey=function(){return gc("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return gc("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Cv(this._delegate,t))},e.prototype.getParent=function(){gc("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return gc("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){gc("Reference.set",1,2,arguments.length),yc("Reference.set","onComplete",e,!0);var n=Rv(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(gc("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,yl("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lp("Reference.update",this._delegate._path),yc("Reference.update","onComplete",e,!0);var i=Ov(this._delegate,t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},e.prototype.setWithPriority=function(t,e,n){gc("Reference.setWithPriority",2,3,arguments.length),yc("Reference.setWithPriority","onComplete",n,!0);var r=Dv(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){gc("Reference.remove",0,1,arguments.length),yc("Reference.remove","onComplete",t,!0);var e=Nv(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;gc("Reference.transaction",1,3,arguments.length),yc("Reference.transaction","transactionUpdate",t,!1),yc("Reference.transaction","onComplete",e,!0),Fp("Reference.transaction","applyLocally",n,!0);var i=Eg(this._delegate,t,{applyLocally:n}).then((function(t){return new Sg(t.committed,new kg(r.database,t.snapshot))}));return e&&i.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),i},e.prototype.setPriority=function(t,e){gc("Reference.setPriority",1,2,arguments.length),yc("Reference.setPriority","onComplete",e,!0);var n=Pv(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;gc("Reference.push",0,2,arguments.length),yc("Reference.push","onComplete",n,!0);var i=xv(this._delegate,t),o=i.then((function(t){return new e(r.database,t)}));n&&o.then((function(){return n(null)}),(function(t){return n(t)}));var s=new e(this.database,i);return s.then=o.then.bind(o),s.catch=o.catch.bind(o,void 0),s},e.prototype.onDisconnect=function(){return Lp("Reference.onDisconnect",this._delegate._path),new Ag(new bv(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Cg),Ng=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),bg(this._delegate,t,e,n)},t.prototype.ref=function(t){if(gc("database.ref",0,1,arguments.length),t instanceof xg){var e=kv(this._delegate,t.toString());return new xg(this,e)}e=Sv(this._delegate,t);return new xg(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";gc(e,1,1,arguments.length);var n=kv(this._delegate,t);return new xg(this,n)},t.prototype.goOffline=function(){return gc("database.goOffline",0,0,arguments.length),wg(this._delegate)},t.prototype.goOnline=function(){return gc("database.goOnline",0,0,arguments.length),_g(this._delegate)},t.ServerValue={TIMESTAMP:Ig,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rg=Object.freeze({__proto__:null,forceLongPolling:function(){Gl.forceDisallow(),Wl.forceAllow()},forceWebSockets:function(){Wl.forceDisallow()},isWebSocketsAvailable:function(){return Gl.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Tf(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);kl(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;tl(r);var u=new Ec("auth-internal",new Sc("database-standalone"));return u.setComponent(new Tc("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Ng(mg(e,u,void 0,n,a),e),namespace:o}}}),Pg=bh;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bh.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},bh.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Dg,Og=Yl,Lg=Fl,Mg=Object.freeze({__proto__:null,DataConnection:Pg,RealTimeConnection:Og,hijackHash:function(t){var e=bh.prototype.put;return bh.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){bh.prototype.put=e}},ConnectionTarget:Lg,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){gg=t}(t)}}),Fg=Ng.ServerValue;tl((Dg=Jc).SDK_VERSION),Dg.INTERNAL.registerComponent(new Tc("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Ng(mg(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:xg,Query:Cg,Database:Ng,DataSnapshot:kg,enableLogging:dl,INTERNAL:Rg,ServerValue:Fg,TEST_ACCESS:Mg}).setMultipleInstances(!0)),Dg.registerVersion("@firebase/database","0.10.2");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Ug=function(t,e){return(Ug=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function jg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var qg,Vg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bg=Bg||{},Kg=Vg||self;function Wg(){}function Hg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function zg(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Gg="closure_uid_"+(1e9*Math.random()>>>0),Qg=0;function Yg(t,e,n){return t.call.apply(t.bind,arguments)}function $g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Xg(t,e,n){return(Xg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yg:$g).apply(null,arguments)}function Jg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Zg(){return Date.now()}function tm(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function em(){this.j=this.j,this.i=this.i}em.prototype.j=!1,em.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Gg)&&t[Gg]||(t[Gg]=++Qg))},em.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var nm=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},rm=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function im(t){return Array.prototype.concat.apply([],arguments)}function om(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function sm(t){return/^[\s\xa0]*$/.test(t)}var am,um=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function cm(t,e){return-1!=t.indexOf(e)}function lm(t,e){return t<e?-1:t>e?1:0}t:{var hm=Kg.navigator;if(hm){var fm=hm.userAgent;if(fm){am=fm;break t}}am=""}function dm(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function pm(t){var e={};for(var n in t)e[n]=t[n];return e}var vm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gm(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vm.length;o++)n=vm[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mm(t){return mm[" "](t),t}mm[" "]=Wg;var ym,bm,wm=cm(am,"Opera"),_m=cm(am,"Trident")||cm(am,"MSIE"),Im=cm(am,"Edge"),Tm=Im||_m,Em=cm(am,"Gecko")&&!(cm(am.toLowerCase(),"webkit")&&!cm(am,"Edge"))&&!(cm(am,"Trident")||cm(am,"MSIE"))&&!cm(am,"Edge"),Am=cm(am.toLowerCase(),"webkit")&&!cm(am,"Edge");function Sm(){var t=Kg.document;return t?t.documentMode:void 0}t:{var km="",Cm=(bm=am,Em?/rv:([^\);]+)(\)|;)/.exec(bm):Im?/Edge\/([\d\.]+)/.exec(bm):_m?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(bm):Am?/WebKit\/(\S+)/.exec(bm):wm?/(?:Version)[ \/]?(\S+)/.exec(bm):void 0);if(Cm&&(km=Cm?Cm[1]:""),_m){var xm=Sm();if(null!=xm&&xm>parseFloat(km)){ym=String(xm);break t}}ym=km}var Nm,Rm={};function Pm(t){return function(t,e){var n=Rm;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=um(String(ym)).split("."),r=um(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=lm(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||lm(0==s[2].length,0==a[2].length)||lm(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(Kg.document&&_m){var Dm=Sm();Nm=Dm||(parseInt(ym,10)||void 0)}else Nm=void 0;var Om=Nm,Lm=!_m||9<=Number(Om),Mm=_m&&!Pm("9"),Fm=function(){if(!Kg.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Kg.addEventListener("test",Wg,e),Kg.removeEventListener("test",Wg,e)}catch(t){}return t}();function Um(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function jm(t,e){if(Um.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Em){t:{try{mm(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qm[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Um.prototype.b=function(){this.defaultPrevented=!0},tm(jm,Um);var qm={2:"touch",3:"pen",4:"mouse"};jm.prototype.b=function(){jm.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Mm)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Vm="closure_listenable_"+(1e6*Math.random()|0),Bm=0;function Km(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Bm,this.Y=this.Z=!1}function Wm(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Hm(t){this.src=t,this.a={},this.b=0}function zm(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=nm(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Wm(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Gm(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Hm.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Gm(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Km(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Qm="closure_lm_"+(1e6*Math.random()|0),Ym={};function $m(t,e,n,r,i){if(r&&r.once)return Jm(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$m(t,e[o],n,r,i);return null}return n=sy(n),t&&t[Vm]?t.va(e,n,zg(r)?!!r.capture:!!r,i):Xm(t,e,n,!1,r,i)}function Xm(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=zg(i)?!!i.capture:!!i;if(s&&!Lm)return null;var a=iy(t);if(a||(t[Qm]=a=new Hm(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ry,e=Lm?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Fm||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ey(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Jm(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Jm(t,e[o],n,r,i);return null}return n=sy(n),t&&t[Vm]?t.wa(e,n,zg(r)?!!r.capture:!!r,i):Xm(t,e,n,!0,r,i)}function Zm(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Zm(t,e[o],n,r,i);else r=zg(r)?!!r.capture:!!r,n=sy(n),t&&t[Vm]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Gm(o=t.a[e],n,r,i))&&(Wm(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=iy(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Gm(e,n,r,i)),(n=-1<t?e[t]:null)&&ty(n))}function ty(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Vm])zm(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ey(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iy(e))?(zm(n,t),0==n.b&&(n.src=null,e[Qm]=null)):Wm(t)}}}function ey(t){return t in Ym?Ym[t]:Ym[t]="on"+t}function ny(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ty(t),n.call(r,e)}function ry(t,e){if(t.Y)return!0;if(!Lm){if(!e)t:{e=["window","event"];for(var n=Kg,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ny(t,e=new jm(e,this))}return ny(t,new jm(e,this))}function iy(t){return(t=t[Qm])instanceof Hm?t:null}var oy="__closure_events_fn_"+(1e9*Math.random()>>>0);function sy(t){return"function"==typeof t?t:(t[oy]||(t[oy]=function(e){return t.handleEvent(e)}),t[oy])}function ay(){em.call(this),this.c=new Hm(this),this.J=this,this.C=null}function uy(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Um(e,t);else if(e instanceof Um)e.target=e.target||t;else{var i=e;gm(e=new Um(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=cy(s,r,!0,e)&&i}if(i=cy(s=e.a=t,r,!0,e)&&i,i=cy(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=cy(s=e.a=n[o],r,!1,e)&&i}function cy(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&zm(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}tm(ay,em),ay.prototype[Vm]=!0,(qg=ay.prototype).addEventListener=function(t,e,n,r){$m(this,t,e,n,r)},qg.removeEventListener=function(t,e,n,r){Zm(this,t,e,n,r)},qg.G=function(){if(ay.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Wm(n[r]);delete e.a[t],e.b--}}this.C=null},qg.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},qg.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ly=Kg.JSON.stringify;function hy(){this.b=this.a=null}var fy,dy=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new vy}),(function(t){t.reset()}));function py(){var t=by,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function vy(){this.next=this.b=this.a=null}function gy(t){Kg.setTimeout((function(){throw t}),0)}function my(t,e){fy||function(){var t=Kg.Promise.resolve(void 0);fy=function(){t.then(wy)}}(),yy||(fy(),yy=!0),by.add(t,e)}hy.prototype.add=function(t,e){var n=dy.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},vy.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},vy.prototype.reset=function(){this.next=this.b=this.a=null};var yy=!1,by=new hy;function wy(){for(var t;t=py();){try{t.a.call(t.b)}catch(t){gy(t)}var e=dy;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}yy=!1}function _y(t,e){ay.call(this),this.b=t||1,this.a=e||Kg,this.f=Xg(this.Za,this),this.g=Zg()}function Iy(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ty(t,e,n){if("function"==typeof t)n&&(t=Xg(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Xg(t.handleEvent,t)}return 2147483647<Number(e)?-1:Kg.setTimeout(t,e||0)}function Ey(t){t.a=Ty((function(){t.a=null,t.c&&(t.c=!1,Ey(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}tm(_y,ay),(qg=_y.prototype).aa=!1,qg.M=null,qg.Za=function(){if(this.aa){var t=Zg()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),uy(this,"tick"),this.aa&&(Iy(this),this.start()))}},qg.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Zg())},qg.G=function(){_y.X.G.call(this),Iy(this),delete this.a};var Ay=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ug(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ey(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Kg.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(em);function Sy(t){em.call(this),this.b=t,this.a={}}tm(Sy,em);var ky=[];function Cy(t,e,n,r){Array.isArray(n)||(n&&(ky[0]=n.toString()),n=ky);for(var i=0;i<n.length;i++){var o=$m(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function xy(t){dm(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ty(t)}),t),t.a={}}function Ny(){this.a=!0}function Ry(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ly(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Sy.prototype.G=function(){Sy.X.G.call(this),xy(this)},Sy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ny.prototype.info=function(){};var Py={},Dy=null;function Oy(){return Dy=Dy||new ay}function Ly(t){Um.call(this,Py.Fa,t)}function My(t){var e=Oy();uy(e,new Ly(e,t))}function Fy(t,e){Um.call(this,Py.STAT_EVENT,t),this.stat=e}function Uy(t){var e=Oy();uy(e,new Fy(e,t))}function jy(t){Um.call(this,Py.Ga,t)}function qy(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Kg.setTimeout((function(){t()}),e)}Py.Fa="serverreachability",tm(Ly,Um),Py.STAT_EVENT="statevent",tm(Fy,Um),Py.Ga="timingevent",tm(jy,Um);var Vy={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},By={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ky(){}function Wy(t){var e;return(e=t.a)||(e=t.a={}),e}function Hy(){}Ky.prototype.a=null;var zy,Gy={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Qy(){Um.call(this,"d")}function Yy(){Um.call(this,"c")}function $y(){}function Xy(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Sy(this),this.P=Jy,t=Tm?125:void 0,this.R=new _y(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}tm(Qy,Um),tm(Yy,Um),tm($y,Ky),zy=new $y;var Jy=45e3,Zy={},tb={};function eb(t,e,n){t.H=1,t.i=Tb(mb(e)),t.j=n,t.I=!0,nb(t,null)}function nb(t,e){t.u=Zg(),ob(t),t.l=mb(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Mb(n.b,"t",r),t.D=0,t.a=Nw(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ay(Xg(t.Ca,t,t.a),t.O)),Cy(t.J,t.a,"readystatechange",t.Xa),e=t.B?pm(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),My(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function rb(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ib(t,n);if(i==tb){4==e&&(t.h=4,Uy(14),r=!1),Ry(t.c,t.f,null,"[Incomplete Response]");break}if(i==Zy){t.h=4,Uy(15),Ry(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ry(t.c,t.f,i,null),lb(t,i)}4==e&&0==n.length&&(t.h=1,Uy(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iw(e),e.F=!0,Uy(11))):(Ry(t.c,t.f,n,"[Invalid Chunked Response]"),cb(t),ub(t))}function ib(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?tb:(n=Number(e.substring(n,r)),isNaN(n)?Zy:(r+=1)+n>e.length?tb:(e=e.substr(r,n),t.D=r+n,e))}function ob(t){t.T=Zg()+t.P,sb(t,t.P)}function sb(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=qy(Xg(t.Va,t),e)}function ab(t){t.o&&(Kg.clearTimeout(t.o),t.o=null)}function ub(t){0==t.g.v||t.A||Aw(t.g,t)}function cb(t){ab(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Iy(t.R),xy(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function lb(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Kb(n.b,t)))if(n.I=t.N,!t.C&&Kb(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ew(n),dw(n)}_w(n),Uy(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=qy(Xg(n.Sa,n),6e3));if(1>=Bb(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else kw(n,11)}else if((t.C||n.a==t)&&Ew(n),!sm(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(cm(l,"spdy")||cm(l,"quic")||cm(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Wb(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ib(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Zg()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=xw(u,u.C?u.ga:null,u.fa),d.C){Hb(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(ab(p),ob(p)),u.a=d}else ww(u);0<n.g.length&&gw(n)}else"stop"!=i[0]&&"close"!=i[0]||kw(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?kw(n,7):fw(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);My(4)}catch(t){}}function hb(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Hg(t)||"string"==typeof t)rm(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Hg(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Hg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function fb(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fb)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function db(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];pb(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)pb(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function pb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(qg=Xy.prototype).setTimeout=function(t){this.P=t},qg.Xa=function(t){t=t.target;var e=this.F;e&&3==uw(t)?e.f():this.Ca(t)},qg.Ca=function(t){try{if(t==this.a)t:{var e=uw(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Tm&&!this.a.$())){this.A||4!=e||7==n||My(8==n||0>=r?3:2),ab(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sm(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Uy(12),cb(this),ub(this);break t}Ry(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,lb(this,u)}this.I?(rb(this,e,o),Tm&&this.b&&3==e&&(Cy(this.J,this.R,"tick",this.Wa),this.R.start())):(Ry(this.c,this.f,o,null),lb(this,o)),4==e&&cb(this),this.b&&!this.A&&(4==e?Aw(this.g,this):(this.b=!1,ob(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Uy(12)):(this.h=0,Uy(13)),cb(this),ub(this)}}}catch(t){}},qg.Wa=function(){if(this.a){var t=uw(this.a),e=this.a.$();this.D<e.length&&(ab(this),rb(this,t,e),this.b&&4!=t&&ob(this))}},qg.cancel=function(){this.A=!0,cb(this)},qg.Va=function(){this.o=null;var t=Zg();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(My(3),Uy(17)),cb(this),this.h=2,ub(this)):sb(this,this.T-t)},(qg=fb.prototype).K=function(){db(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},qg.L=function(){return db(this),this.a.concat()},qg.get=function(t,e){return pb(this.b,t)?this.b[t]:e},qg.set=function(t,e){pb(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},qg.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var vb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gb(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof gb){this.a=void 0!==e?e:t.a,yb(this,t.f),this.j=t.j,bb(this,t.c),wb(this,t.h),this.g=t.g,e=t.b;var n=new Pb;n.c=e.c,e.a&&(n.a=new fb(e.a),n.b=e.b),_b(this,n),this.i=t.i}else t&&(n=String(t).match(vb))?(this.a=!!e,yb(this,n[1]||"",!0),this.j=Eb(n[2]||""),bb(this,n[3]||"",!0),wb(this,n[4]),this.g=Eb(n[5]||"",!0),_b(this,n[6]||"",!0),this.i=Eb(n[7]||"")):(this.a=!!e,this.b=new Pb(null,this.a))}function mb(t){return new gb(t)}function yb(t,e,n){t.f=n?Eb(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bb(t,e,n){t.c=n?Eb(e,!0):e}function wb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function _b(t,e,n){e instanceof Pb?(t.b=e,function(t,e){e&&!t.f&&(Db(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ob(this,e),Mb(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ab(e,Nb)),t.b=new Pb(e,t.a))}function Ib(t,e,n){t.b.set(e,n)}function Tb(t){return Ib(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Zg()).toString(36)),t}function Eb(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ab(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Sb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sb(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}gb.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ab(e,kb,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ab(e,kb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ab(n,"/"==n.charAt(0)?xb:Cb,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ab(n,Rb)),t.join("")};var kb=/[#\/\?@]/g,Cb=/[#\?:]/g,xb=/[#\?]/g,Nb=/[#\?@]/g,Rb=/#/g;function Pb(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Db(t){t.a||(t.a=new fb,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ob(t,e){Db(t),e=Fb(t,e),pb(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pb((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&db(t)))}function Lb(t,e){return Db(t),e=Fb(t,e),pb(t.a.b,e)}function Mb(t,e,n){Ob(t,e),0<n.length&&(t.c=null,t.a.set(Fb(t,e),om(n)),t.b+=n.length)}function Fb(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(qg=Pb.prototype).add=function(t,e){Db(this),this.c=null,t=Fb(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},qg.forEach=function(t,e){Db(this),this.a.forEach((function(n,r){rm(n,(function(n){t.call(e,n,r,this)}),this)}),this)},qg.L=function(){Db(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},qg.K=function(t){Db(this);var e=[];if("string"==typeof t)Lb(this,t)&&(e=im(e,this.a.get(Fb(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=im(e,t[n])}return e},qg.set=function(t,e){return Db(this),this.c=null,Lb(this,t=Fb(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},qg.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},qg.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ub=function(t,e){this.b=t,this.a=e};function jb(t){this.g=t||qb,Kg.PerformanceNavigationTiming?t=0<(t=Kg.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Kg.ia&&Kg.ia.ya&&Kg.ia.ya()&&Kg.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var qb=10;function Vb(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Bb(t){return t.b?1:t.a?t.a.size:0}function Kb(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Wb(t,e){t.a?t.a.add(e):t.b=e}function Hb(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function zb(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=jg(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return om(t.c)}function Gb(){}function Qb(){this.a=new Gb}function Yb(t,e,n){var r=n||"";try{hb(t,(function(t,n){var i=t;zg(t)&&(i=ly(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function $b(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}jb.prototype.cancel=function(){var t,e;if(this.c=zb(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=jg(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Gb.prototype.stringify=function(t){return Kg.JSON.stringify(t,void 0)},Gb.prototype.parse=function(t){return Kg.JSON.parse(t,void 0)};var Xb=Kg.JSON.parse;function Jb(t){ay.call(this),this.headers=new fb,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Zb,this.D=this.F=!1}tm(Jb,ay);var Zb="",tw=/^https?$/i,ew=["POST","PUT"];function nw(t){return"content-type"==t.toLowerCase()}function rw(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,iw(t),sw(t)}function iw(t){t.u||(t.u=!0,uy(t,"complete"),uy(t,"error"))}function ow(t){if(t.b&&void 0!==Bg&&(!t.s[1]||4!=uw(t)||2!=t.W()))if(t.l&&4==uw(t))Ty(t.za,0,t);else if(uy(t,"readystatechange"),4==uw(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(vb)[1]||null;if(!o&&Kg.self&&Kg.self.location){var s=Kg.self.location.protocol;o=s.substr(0,s.length-1)}i=!tw.test(o?o.toLowerCase():"")}e=i}if(e)uy(t,"complete"),uy(t,"success");else{t.h=6;try{var a=2<uw(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.W()+"]",iw(t)}}finally{sw(t)}}}function sw(t,e){if(t.a){aw(t);var n=t.a,r=t.s[0]?Wg:null;t.a=null,t.s=null,e||uy(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function aw(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Kg.clearTimeout(t.m),t.m=null)}function uw(t){return t.a?t.a.readyState:0}function cw(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return dm(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ib(t,e,n))}function lw(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hw(t){this.pa=0,this.g=[],this.c=new Ny,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=lw("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=lw("baseRetryDelayMs",5e3,t),this.Ra=lw("retryDelaySeedMs",1e4,t),this.Ma=lw("forwardChannelMaxRetries",2,t),this.ma=lw("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new jb(t&&t.concurrentRequestLimit),this.ka=new Qb,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function fw(t){if(pw(t),3==t.v){var e=t.R++,n=mb(t.B);Ib(n,"SID",t.J),Ib(n,"RID",e),Ib(n,"TYPE","terminate"),yw(t,n),(e=new Xy(t,t.c,e,void 0)).H=2,e.i=Tb(mb(n)),n=!1,Kg.navigator&&Kg.navigator.sendBeacon&&(n=Kg.navigator.sendBeacon(e.i.toString(),"")),!n&&Kg.Image&&((new Image).src=e.i,n=!0),n||(e.a=Nw(e.g,null),e.a.ba(e.i)),e.u=Zg(),ob(e)}Cw(t)}function dw(t){t.a&&(Iw(t),t.a.cancel(),t.a=null)}function pw(t){dw(t),t.j&&(Kg.clearTimeout(t.j),t.j=null),Ew(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Kg.clearTimeout(t.h),t.h=null)}function vw(t,e){t.g.push(new Ub(t.Oa++,e)),3==t.v&&gw(t)}function gw(t){Vb(t.b)||t.h||(t.h=!0,my(t.Ba,t),t.u=0)}function mw(t,e){var n;n=e?e.f:t.R++;var r=mb(t.B);Ib(r,"SID",t.J),Ib(r,"RID",n),Ib(r,"AID",t.P),yw(t,r),t.i&&t.l&&cw(r,t.i,t.l),n=new Xy(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=bw(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Wb(t.b,n),eb(n,r,e)}function yw(t,e){t.f&&hb({},(function(t,n){Ib(e,n,t)}))}function bw(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Xg(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Yb(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ww(t){t.a||t.j||(t.T=1,my(t.Aa,t),t.o=0)}function _w(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=qy(Xg(t.Aa,t),Sw(t,t.o)),t.o++,!0)}function Iw(t){null!=t.s&&(Kg.clearTimeout(t.s),t.s=null)}function Tw(t){t.a=new Xy(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=mb(t.la);Ib(e,"RID","rpc"),Ib(e,"SID",t.J),Ib(e,"CI",t.H?"0":"1"),Ib(e,"AID",t.P),yw(t,e),Ib(e,"TYPE","xmlhttp"),t.i&&t.l&&cw(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Tb(mb(e)),n.j=null,n.I=!0,nb(n,t)}function Ew(t){null!=t.m&&(Kg.clearTimeout(t.m),t.m=null)}function Aw(t,e){var n=null;if(t.a==e){Ew(t),Iw(t),t.a=null;var r=2}else{if(!Kb(t.b,e))return;n=e.s,Hb(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Zg()-e.u;var i=t.u;uy(r=Oy(),new jy(r,n,e,i)),gw(t)}else ww(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Bb(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=qy(Xg(t.Ba,t,e),Sw(t,t.u)),t.u++,0)))}(t,e)||2==r&&_w(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:kw(t,5);break;case 4:kw(t,10);break;case 3:kw(t,6);break;default:kw(t,2)}}function Sw(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function kw(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Xg(t.Ya,t);n||(n=new gb("//www.google.com/images/cleardot.gif"),Kg.location&&"http"==Kg.location.protocol||yb(n,"https"),Tb(n)),function(t,e){var n=new Ny;if(Kg.Image){var r=new Image;r.onload=Jg($b,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Jg($b,n,r,"TestLoadImage: error",!1,e),r.onabort=Jg($b,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jg($b,n,r,"TestLoadImage: timeout",!1,e),Kg.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Uy(2);t.v=0,t.f&&t.f.ra(e),Cw(t),pw(t)}function Cw(t){t.v=0,t.I=-1,t.f&&(0==zb(t.b).length&&0==t.g.length||(t.b.c.length=0,om(t.g),t.g.length=0),t.f.qa())}function xw(t,e,n){var r=function(t){return t instanceof gb?mb(t):new gb(t,void 0)}(n);if(""!=r.c)e&&bb(r,e+"."+r.c),wb(r,r.h);else{var i=Kg.location;r=function(t,e,n,r){var i=new gb(null,void 0);return t&&yb(i,t),e&&bb(i,e),n&&wb(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&dm(t.V,(function(t,e){Ib(r,e,t)})),e=t.A,n=t.na,e&&n&&Ib(r,e,n),Ib(r,"VER",t.ha),yw(t,r),r}function Nw(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jb(t.Na)).F=t.C,e}function Rw(){}function Pw(){if(_m&&!(10<=Number(Om)))throw Error("Environmental error: no available transport.")}function Dw(t,e){ay.call(this),this.a=new hw(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!sm(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sm(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Mw(this)}function Ow(t){Qy.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Lw(){Yy.call(this),this.status=1}function Mw(t){this.a=t}(qg=Jb.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Wy(this.H):Wy(zy),this.a.onreadystatechange=Xg(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void rw(this,t)}t=n||"";var i=new fb(this.headers);r&&hb(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=nw,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Kg.FormData&&t instanceof Kg.FormData,!(0<=nm(ew,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{aw(this),0<this.o&&((this.D=function(t){return _m&&Pm(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Xg(this.xa,this)):this.m=Ty(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){rw(this,t)}},qg.xa=function(){void 0!==Bg&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,uy(this,"timeout"),this.abort(8))},qg.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,uy(this,"complete"),uy(this,"abort"),sw(this))},qg.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),sw(this,!0)),Jb.X.G.call(this)},qg.za=function(){this.j||(this.A||this.l||this.g?ow(this):this.Ua())},qg.Ua=function(){ow(this)},qg.W=function(){try{return 2<uw(this)?this.a.status:-1}catch(t){return-1}},qg.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},qg.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Xb(e)}},qg.ua=function(){return this.h},qg.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(qg=hw.prototype).ha=8,qg.v=1,qg.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Xy(this,this.c,t,void 0),r=this.l;if(this.O&&(r?gm(r=pm(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=bw(this,n,e),Ib(i=mb(this.B),"RID",t),Ib(i,"CVER",22),this.A&&Ib(i,"X-HTTP-Session-Id",this.A),yw(this,i),this.i&&r&&cw(i,this.i,r),Wb(this.b,n),this.Ia&&Ib(i,"TYPE","init"),this.da?(Ib(i,"$req",e),Ib(i,"SID","null"),n.U=!0,eb(n,i,null)):eb(n,i,e),this.v=2}}else 3==this.v&&(t?mw(this,t):0==this.g.length||Vb(this.b)||mw(this))},qg.Aa=function(){if(this.j=null,Tw(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=qy(Xg(this.Ta,this),t)}},qg.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Uy(10),dw(this),Tw(this))},qg.Sa=function(){null!=this.m&&(this.m=null,dw(this),_w(this),Uy(19))},qg.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Uy(2)):(this.c.info("Failed to ping google.com"),Uy(1))},(qg=Rw.prototype).ta=function(){},qg.sa=function(){},qg.ra=function(){},qg.qa=function(){},qg.Ja=function(){},Pw.prototype.a=function(t,e){return new Dw(t,e)},tm(Dw,ay),Dw.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Uy(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=xw(t,null,t.fa),gw(t)},Dw.prototype.close=function(){fw(this.a)},Dw.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,vw(this.a,e)}else this.l?((e={}).__data__=ly(t),vw(this.a,e)):vw(this.a,t)},Dw.prototype.G=function(){this.a.f=null,delete this.f,fw(this.a),delete this.a,Dw.X.G.call(this)},tm(Ow,Qy),tm(Lw,Yy),tm(Mw,Rw),Mw.prototype.ta=function(){uy(this.a,"a")},Mw.prototype.sa=function(t){uy(this.a,new Ow(t))},Mw.prototype.ra=function(t){uy(this.a,new Lw(t))},Mw.prototype.qa=function(){uy(this.a,"b")},Pw.prototype.createWebChannel=Pw.prototype.a,Dw.prototype.send=Dw.prototype.h,Dw.prototype.open=Dw.prototype.g,Dw.prototype.close=Dw.prototype.close,Vy.NO_ERROR=0,Vy.TIMEOUT=8,Vy.HTTP_ERROR=6,By.COMPLETE="complete",Hy.EventType=Gy,Gy.OPEN="a",Gy.CLOSE="b",Gy.ERROR="c",Gy.MESSAGE="d",ay.prototype.listen=ay.prototype.va,Jb.prototype.listenOnce=Jb.prototype.wa,Jb.prototype.getLastError=Jb.prototype.Qa,Jb.prototype.getLastErrorCode=Jb.prototype.ua,Jb.prototype.getStatus=Jb.prototype.W,Jb.prototype.getResponseJson=Jb.prototype.Pa,Jb.prototype.getResponseText=Jb.prototype.$,Jb.prototype.send=Jb.prototype.ba;var Fw=Vy,Uw=By,jw=Py,qw=10,Vw=11,Bw=Hy,Kw=Jb,Ww=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ww.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Cu(e,t),e}(Error),Gw=new Mc("@firebase/firestore");function Qw(){return Gw.logLevel}function Yw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gw.logLevel<=Cc.DEBUG){var r=e.map(Jw);Gw.debug.apply(Gw,Ou(["Firestore (8.6.3): "+t],r))}}function $w(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gw.logLevel<=Cc.ERROR){var r=e.map(Jw);Gw.error.apply(Gw,Ou(["Firestore (8.6.3): "+t],r))}}function Xw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gw.logLevel<=Cc.WARN){var r=e.map(Jw);Gw.warn.apply(Gw,Ou(["Firestore (8.6.3): "+t],r))}}function Jw(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.3) INTERNAL ASSERTION FAILED: "+t;throw $w(e),new Error(e)}function t_(t,e){t||Zw()}function e_(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r_=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=n_(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function i_(t,e){return t<e?-1:t>e?1:0}function o_(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function s_(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new zw(Hw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new zw(Hw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new zw(Hw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zw(Hw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?i_(this.nanoseconds,t.nanoseconds):i_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),u_=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new a_(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function l_(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f_=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Zw(),void 0===n?n=t.length-e:n>t.length-e&&Zw(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),d_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new zw(Hw.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(f_),p_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,v_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return p_.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new zw(Hw.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new zw(Hw.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new zw(Hw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new zw(Hw.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(f_),g_=function(){function t(t){this.fields=t,t.sort(v_.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return o_(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),m_=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return i_(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();m_.EMPTY_BYTE_STRING=new m_("");var y_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function b_(t){if(t_(!!t),"string"==typeof t){var e=0,n=y_.exec(t);if(t_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:w_(t.seconds),nanos:w_(t.nanos)}}function w_(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function __(t){return"string"==typeof t?m_.fromBase64String(t):m_.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function T_(t){var e=t.mapValue.fields.__previous_value__;return I_(e)?T_(e):e}function E_(t){var e=b_(t.mapValue.fields.__local_write_time__.timestampValue);return new a_(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){return null==t}function S_(t){return 0===t&&1/t==-1/0}function k_(t){return"number"==typeof t&&Number.isInteger(t)&&!S_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C_=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(d_.fromString(e))},t.fromName=function(e){return new t(d_.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===d_.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return d_.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new d_(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I_(t)?4:10:Zw()}function N_(t,e){var n,r=x_(t);if(r!==x_(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return E_(t).isEqual(E_(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=b_(t.timestampValue),r=b_(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,__(t.bytesValue).isEqual(__(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return w_(t.geoPointValue.latitude)===w_(e.geoPointValue.latitude)&&w_(t.geoPointValue.longitude)===w_(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return w_(t.integerValue)===w_(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=w_(t.doubleValue),r=w_(e.doubleValue);return n===r?S_(n)===S_(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return o_(t.arrayValue.values||[],e.arrayValue.values||[],N_);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(c_(n)!==c_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!N_(n[i],r[i])))return!1;return!0}(t,e);default:return Zw()}}function R_(t,e){return void 0!==(t.values||[]).find((function(t){return N_(t,e)}))}function P_(t,e){var n,r,i,o,s=x_(t),a=x_(e);if(s!==a)return i_(s,a);switch(s){case 0:return 0;case 1:return i_(t.booleanValue,e.booleanValue);case 2:return r=e,i=w_((n=t).integerValue||n.doubleValue),o=w_(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return D_(t.timestampValue,e.timestampValue);case 4:return D_(E_(t),E_(e));case 5:return i_(t.stringValue,e.stringValue);case 6:return function(t,e){var n=__(t),r=__(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=i_(n[i],r[i]);if(0!==o)return o}return i_(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=i_(w_(t.latitude),w_(e.latitude));return 0!==n?n:i_(w_(t.longitude),w_(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=P_(n[i],r[i]);if(o)return o}return i_(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=i_(r[s],o[s]);if(0!==a)return a;var u=P_(n[r[s]],i[o[s]]);if(0!==u)return u}return i_(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Zw()}}function D_(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return i_(t,e);var n=b_(t),r=b_(e),i=i_(n.seconds,r.seconds);return 0!==i?i:i_(n.nanos,r.nanos)}function O_(t){return L_(t)}function L_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=b_(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?__(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,C_.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=L_(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+L_(t.fields[o])}return e+"}"}(t.mapValue):Zw();var e,n,r,i}function M_(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function F_(t){return!!t&&"integerValue"in t}function U_(t){return!!t&&"arrayValue"in t}function j_(t){return!!t&&"nullValue"in t}function q_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function V_(t){return!!t&&"mapValue"in t}function B_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},b_(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return l_(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=B_(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=B_(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K_=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!V_(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=B_(e)},t.prototype.setAll=function(t){var e=this,n=v_.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=B_(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());V_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return N_(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];V_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){l_(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(B_(this.value))},t}();function W_(t){var e=[];return l_(t.fields,(function(t,n){var r=new v_([t]);if(V_(n)){var i=W_(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new g_(e)}var H_=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,u_.min(),K_.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,K_.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,K_.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=K_.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=K_.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),z_=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new z_(t,e,n,r,i,o,s)}function Q_(t){var e=e_(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+O_(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),A_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=aI(e.startAt)),e.endAt&&(n+="|ub:",n+=aI(e.endAt)),e.h=n}return e.h}function Y_(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!cI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!N_(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hI(t.startAt,e.startAt)&&hI(t.endAt,e.endAt)}function $_(t){return C_.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var X_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Cu(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new J_(t,n,r):"array-contains"===n?new nI(t,r):"in"===n?new rI(t,r):"not-in"===n?new iI(t,r):"array-contains-any"===n?new oI(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Z_(t,n):new tI(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(P_(e,this.value)):null!==e&&x_(this.value)===x_(e)&&this.m(P_(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Zw()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),J_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=C_.fromName(r.referenceValue),i}return Cu(e,t),e.prototype.matches=function(t){var e=C_.comparator(t.key,this.key);return this.m(e)},e}(X_),Z_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=eI("in",n),r}return Cu(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(X_),tI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=eI("not-in",n),r}return Cu(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(X_);function eI(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return C_.fromName(t.referenceValue)}))}var nI=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Cu(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return U_(e)&&R_(e.arrayValue,this.value)},e}(X_),rI=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Cu(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&R_(this.value.arrayValue,e)},e}(X_),iI=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Cu(e,t),e.prototype.matches=function(t){if(R_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!R_(this.value.arrayValue,e)},e}(X_),oI=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Cu(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!U_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return R_(e.value.arrayValue,t)}))},e}(X_),sI=function(t,e){this.position=t,this.before=e};function aI(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return O_(t)})).join(",")}var uI=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function cI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function lI(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?C_.comparator(C_.fromName(s.referenceValue),n.key):P_(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function hI(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!N_(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fI=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function dI(t,e,n,r,i,o,s,a){return new fI(t,e,n,r,i,o,s,a)}function pI(t){return new fI(t)}function vI(t){return!A_(t.limit)&&"F"===t.limitType}function gI(t){return!A_(t.limit)&&"L"===t.limitType}function mI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function yI(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function bI(t){return null!==t.collectionGroup}function wI(t){var e=e_(t);if(null===e.p){e.p=[];var n=yI(e),r=mI(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new uI(n)),e.p.push(new uI(v_.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new uI(v_.keyField(),u))}}}return e.p}function _I(t){var e=e_(t);if(!e.T)if("F"===e.limitType)e.T=G_(e.path,e.collectionGroup,wI(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=wI(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new uI(o.field,s))}var a=e.endAt?new sI(e.endAt.position,!e.endAt.before):null,u=e.startAt?new sI(e.startAt.position,!e.startAt.before):null;e.T=G_(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function II(t,e,n){return new fI(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function TI(t,e){return Y_(_I(t),_I(e))&&t.limitType===e.limitType}function EI(t){return Q_(_I(t))+"|lt:"+t.limitType}function AI(t){return"Query(target="+(e=_I(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+O_(e.value);var e})).join(", ")+"]"),A_(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+aI(e.startAt)),e.endAt&&(n+=", endAt: "+aI(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function SI(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):C_.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!lI(t.startAt,wI(t),e)||t.endAt&&lI(t.endAt,wI(t),e))}(t,e);var n,r,i}function kI(t){return function(e,n){for(var r=!1,i=0,o=wI(t);i<o.length;i++){var s=o[i],a=CI(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function CI(t,e,n){var r,i,o,s,a=t.field.isKeyField()?C_.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),s=i.data.field(r),null!==o&&null!==s?P_(o,s):Zw());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return Zw()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S_(e)?"-0":e}}function NI(t){return{integerValue:""+t}}function RI(t,e){return k_(e)?NI(e):xI(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PI=function(){this._=void 0};function DI(t,e,n){return t instanceof MI?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof FI?UI(t,e):t instanceof jI?qI(t,e):function(t,e){var n=LI(t,e),r=BI(n)+BI(t.A);return F_(n)&&F_(t.A)?NI(r):xI(t.R,r)}(t,e);var r,i,o}function OI(t,e,n){return t instanceof FI?UI(t,e):t instanceof jI?qI(t,e):n}function LI(t,e){return t instanceof VI?F_(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var MI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e}(PI),FI=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Cu(e,t),e}(PI);function UI(t,e){for(var n=KI(e),r=function(t){n.some((function(e){return N_(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jI=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Cu(e,t),e}(PI);function qI(t,e){for(var n=KI(e),r=function(t){n=n.filter((function(e){return!N_(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var VI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Cu(e,t),e}(PI);function BI(t){return w_(t.integerValue||t.doubleValue)}function KI(t){return U_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WI=function(t,e){this.field=t,this.transform=e},HI=function(t,e){this.version=t,this.transformResults=e},zI=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function GI(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var QI=function(){};function YI(t,e,n){var r,i,o,s,a;t instanceof tT?(i=e,o=n,s=(r=t).value.clone(),a=rT(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof eT?function(t,e,n){if(GI(t.precondition,e)){var r=rT(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(nT(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function $I(t,e,n){var r;t instanceof tT?function(t,e,n){if(GI(t.precondition,e)){var r=t.value.clone(),i=iT(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ZI(e),r).setHasLocalMutations()}}(t,e,n):t instanceof eT?function(t,e,n){if(GI(t.precondition,e)){var r=iT(t.fieldTransforms,n,e),i=e.data;i.setAll(nT(t)),i.setAll(r),e.convertToFoundDocument(ZI(e),i).setHasLocalMutations()}}(t,e,n):(r=e,GI(t.precondition,r)&&r.convertToNoDocument(u_.min()))}function XI(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=LI(o.transform,s||null);null!=a&&(null==n&&(n=K_.empty()),n.set(o.field,a))}return n||null}function JI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&o_(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof FI&&o instanceof FI||i instanceof jI&&o instanceof jI?o_(i.elements,o.elements,N_):i instanceof VI&&o instanceof VI?N_(i.A,o.A):i instanceof MI&&o instanceof MI);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function ZI(t){return t.isFoundDocument()?t.version:u_.min()}var tT=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Cu(e,t),e}(QI),eT=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Cu(e,t),e}(QI);function nT(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function rT(t,e,n){var r=new Map;t_(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,OI(s,a,n[i]))}return r}function iT(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,DI(a,u,e))}return r}var oT,sT,aT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Cu(e,t),e}(QI),uT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Cu(e,t),e}(QI),cT=function(t){this.count=t};function lT(t){switch(t){case Hw.OK:return Zw();case Hw.CANCELLED:case Hw.UNKNOWN:case Hw.DEADLINE_EXCEEDED:case Hw.RESOURCE_EXHAUSTED:case Hw.INTERNAL:case Hw.UNAVAILABLE:case Hw.UNAUTHENTICATED:return!1;case Hw.INVALID_ARGUMENT:case Hw.NOT_FOUND:case Hw.ALREADY_EXISTS:case Hw.PERMISSION_DENIED:case Hw.FAILED_PRECONDITION:case Hw.ABORTED:case Hw.OUT_OF_RANGE:case Hw.UNIMPLEMENTED:case Hw.DATA_LOSS:return!0;default:return Zw()}}function hT(t){if(void 0===t)return $w("GRPC error has no .code"),Hw.UNKNOWN;switch(t){case oT.OK:return Hw.OK;case oT.CANCELLED:return Hw.CANCELLED;case oT.UNKNOWN:return Hw.UNKNOWN;case oT.DEADLINE_EXCEEDED:return Hw.DEADLINE_EXCEEDED;case oT.RESOURCE_EXHAUSTED:return Hw.RESOURCE_EXHAUSTED;case oT.INTERNAL:return Hw.INTERNAL;case oT.UNAVAILABLE:return Hw.UNAVAILABLE;case oT.UNAUTHENTICATED:return Hw.UNAUTHENTICATED;case oT.INVALID_ARGUMENT:return Hw.INVALID_ARGUMENT;case oT.NOT_FOUND:return Hw.NOT_FOUND;case oT.ALREADY_EXISTS:return Hw.ALREADY_EXISTS;case oT.PERMISSION_DENIED:return Hw.PERMISSION_DENIED;case oT.FAILED_PRECONDITION:return Hw.FAILED_PRECONDITION;case oT.ABORTED:return Hw.ABORTED;case oT.OUT_OF_RANGE:return Hw.OUT_OF_RANGE;case oT.UNIMPLEMENTED:return Hw.UNIMPLEMENTED;case oT.DATA_LOSS:return Hw.DATA_LOSS;default:return Zw()}}(sT=oT||(oT={}))[sT.OK=0]="OK",sT[sT.CANCELLED=1]="CANCELLED",sT[sT.UNKNOWN=2]="UNKNOWN",sT[sT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sT[sT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sT[sT.NOT_FOUND=5]="NOT_FOUND",sT[sT.ALREADY_EXISTS=6]="ALREADY_EXISTS",sT[sT.PERMISSION_DENIED=7]="PERMISSION_DENIED",sT[sT.UNAUTHENTICATED=16]="UNAUTHENTICATED",sT[sT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sT[sT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sT[sT.ABORTED=10]="ABORTED",sT[sT.OUT_OF_RANGE=11]="OUT_OF_RANGE",sT[sT.UNIMPLEMENTED=12]="UNIMPLEMENTED",sT[sT.INTERNAL=13]="INTERNAL",sT[sT.UNAVAILABLE=14]="UNAVAILABLE",sT[sT.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fT=function(){function t(t,e){this.comparator=t,this.root=e||pT.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pT.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pT.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new dT(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new dT(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new dT(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new dT(this.root,t,this.comparator,!0)},t}(),dT=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),pT=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Zw();if(this.right.isRed())throw Zw();var t=this.left.check();if(t!==this.right.check())throw Zw();return t+(this.isRed()?0:1)},t}();pT.EMPTY=null,pT.RED=!0,pT.BLACK=!1,pT.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Zw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Zw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Zw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Zw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Zw()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new pT(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vT=function(){function t(t){this.comparator=t,this.data=new fT(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new gT(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new gT(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),gT=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),mT=new fT(C_.comparator);function yT(){return mT}var bT=new fT(C_.comparator);function wT(){return bT}var _T=new fT(C_.comparator);function IT(){return _T}var TT=new vT(C_.comparator);function ET(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=TT,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var AT=new vT(i_);function ST(){return AT}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kT=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,CT.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(u_.min(),r,ST(),yT(),ET())},t}(),CT=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(m_.EMPTY_BYTE_STRING,n,ET(),ET(),ET())},t}(),xT=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},NT=function(t,e){this.targetId=t,this.V=e},RT=function(t,e,n,r){void 0===n&&(n=m_.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},PT=function(){function t(){this.S=0,this.D=LT(),this.C=m_.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=ET(),e=ET(),n=ET();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Zw()}})),new CT(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=LT()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),DT=function(){function t(t){this.W=t,this.G=new Map,this.H=yT(),this.J=OT(),this.Y=new vT(i_)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Zw()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if($_(i))if(0===n){var o=new C_(i.path);this.tt(e,o,H_.newNoDocument(o,u_.min()))}else t_(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&$_(o.target)){var s=new C_(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,H_.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=ET();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new kT(t,n,this.Y,this.H,r);return this.H=yT(),this.J=OT(),this.Y=new vT(i_),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new PT,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new vT(i_),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Yw("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new PT),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function OT(){return new fT(C_.comparator)}function LT(){return new fT(C_.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MT={asc:"ASCENDING",desc:"DESCENDING"},FT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UT=function(t,e){this.databaseId=t,this.I=e};function jT(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(t,e){return t.I?e.toBase64():e.toUint8Array()}function VT(t,e){return jT(t,e.toTimestamp())}function BT(t){return t_(!!t),u_.fromTimestamp((e=b_(t),new a_(e.seconds,e.nanos)));var e}function KT(t,e){return(n=t,new d_(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function WT(t){var e=d_.fromString(t);return t_(pE(e)),e}function HT(t,e){return KT(t.databaseId,e.path)}function zT(t,e){var n=WT(e);if(n.get(1)!==t.databaseId.projectId)throw new zw(Hw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new zw(Hw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new C_($T(n))}function GT(t,e){return KT(t.databaseId,e)}function QT(t){var e=WT(t);return 4===e.length?d_.emptyPath():$T(e)}function YT(t){return new d_(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $T(t){return t_(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function XT(t,e,n){return{name:HT(t,e),fields:n.value.mapValue.fields}}function JT(t,e,n){var r=zT(t,e.name),i=BT(e.updateTime),o=new K_({mapValue:{fields:e.fields}}),s=H_.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ZT(t,e){var n,r,i;if(e instanceof tT)n={update:XT(t,e.key,e.value)};else if(e instanceof aT)n={delete:HT(t,e.key)};else if(e instanceof eT)n={update:XT(t,e.key,e.data),updateMask:dE(e.fieldMask)};else{if(!(e instanceof uT))return Zw();n={verify:HT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof MI)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof FI)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jI)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof VI)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Zw()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:VT(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Zw())),n}function tE(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?zI.updateTime(BT(n.updateTime)):void 0!==n.exists?zI.exists(n.exists):zI.none():zI.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)t_("REQUEST_TIME"===e.setToServerValue),n=new MI;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new FI(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new jI(i)}else"increment"in e?n=new VI(t,e.increment):Zw();var o=v_.fromServerFormat(e.fieldPath);return new WI(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=zT(t,e.update.name),s=new K_({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new g_(e.map((function(t){return v_.fromServerFormat(t)})))}(e.updateMask);return new eT(o,s,a,r,i)}return new tT(o,s,r,i)}if(e.delete){var u=zT(t,e.delete);return new aT(u,r)}if(e.verify){var c=zT(t,e.verify);return new uT(c,r)}return Zw()}function eE(t,e){return{documents:[GT(t,e.path)]}}function nE(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=GT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=GT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(q_(t.value))return{unaryFilter:{field:cE(t.field),op:"IS_NAN"}};if(j_(t.value))return{unaryFilter:{field:cE(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(q_(t.value))return{unaryFilter:{field:cE(t.field),op:"IS_NOT_NAN"}};if(j_(t.value))return{unaryFilter:{field:cE(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cE(t.field),op:uE(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:cE((e=t).field),direction:aE(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.I||A_(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=oE(e.startAt)),e.endAt&&(n.structuredQuery.endAt=oE(e.endAt)),n}function rE(t){var e=QT(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){t_(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=iE(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new uI(lE((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=A_(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=sE(n.startAt));var f=null;return n.endAt&&(f=sE(n.endAt)),dI(e,i,a,s,l,"F",h,f)}function iE(t){return t?void 0!==t.unaryFilter?[fE(t)]:void 0!==t.fieldFilter?[hE(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return iE(t)})).reduce((function(t,e){return t.concat(e)})):Zw():[]}function oE(t){return{before:t.before,values:t.position}}function sE(t){var e=!!t.before,n=t.values||[];return new sI(n,e)}function aE(t){return MT[t]}function uE(t){return FT[t]}function cE(t){return{fieldPath:t.canonicalString()}}function lE(t){return v_.fromServerFormat(t.fieldPath)}function hE(t){return X_.create(lE(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Zw()}}(t.fieldFilter.op),t.fieldFilter.value)}function fE(t){switch(t.unaryFilter.op){case"IS_NAN":var e=lE(t.unaryFilter.field);return X_.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=lE(t.unaryFilter.field);return X_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=lE(t.unaryFilter.field);return X_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=lE(t.unaryFilter.field);return X_.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Zw()}}function dE(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function pE(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=mE(e)),e=gE(t.get(n),e);return mE(e)}function gE(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function mE(t){return t+""}function yE(t){var e=t.length;if(t_(e>=2),2===e)return t_(""===t.charAt(0)&&""===t.charAt(1)),d_.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Zw(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Zw()}o=s+2}return new d_(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bE=function(t,e){this.seconds=t,this.nanoseconds=e},wE=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};wE.store="owner",wE.key="owner";var _E=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};_E.store="mutationQueues",_E.keyPath="userId";var IE=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};IE.store="mutations",IE.keyPath="batchId",IE.userMutationsIndex="userMutationsIndex",IE.userMutationsKeyPath=["userId","batchId"];var TE=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vE(e)]},t.key=function(t,e,n){return[t,vE(e),n]},t}();TE.store="documentMutations",TE.PLACEHOLDER=new TE;var EE=function(t,e){this.path=t,this.readTime=e},AE=function(t,e){this.path=t,this.version=e},SE=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};SE.store="remoteDocuments",SE.readTimeIndex="readTimeIndex",SE.readTimeIndexPath="readTime",SE.collectionReadTimeIndex="collectionReadTimeIndex",SE.collectionReadTimeIndexPath=["parentPath","readTime"];var kE=function(t){this.byteSize=t};kE.store="remoteDocumentGlobal",kE.key="remoteDocumentGlobalKey";var CE=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};CE.store="targets",CE.keyPath="targetId",CE.queryTargetsIndexName="queryTargetsIndex",CE.queryTargetsKeyPath=["canonicalId","targetId"];var xE=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};xE.store="targetDocuments",xE.keyPath=["targetId","path"],xE.documentTargetsIndex="documentTargetsIndex",xE.documentTargetsKeyPath=["path","targetId"];var NE=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};NE.key="targetGlobalKey",NE.store="targetGlobal";var RE=function(t,e){this.collectionId=t,this.parent=e};RE.store="collectionParents",RE.keyPath=["collectionId","parent"];var PE=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};PE.store="clientMetadata",PE.keyPath="clientId";var DE=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};DE.store="bundles",DE.keyPath="bundleId";var OE=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};OE.store="namedQueries",OE.keyPath="name";var LE=Ou(Ou([],Ou(Ou([],Ou(Ou([],Ou(Ou([],[_E.store,IE.store,TE.store,SE.store,CE.store,wE.store,NE.store,xE.store]),[PE.store])),[kE.store])),[RE.store])),[DE.store,OE.store]),ME="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",FE=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),UE=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},jE=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Zw(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),qE=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new UE,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new KE(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=QE(e.target.error);n.ft.reject(new KE(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(t){throw new KE(n,t)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Yw("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new HE(e)},t}(),VE=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(zu())&&$w("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Yw("SimpleDb","Removing database:",t),zE(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=zu(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production"})||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Nu(this,void 0,void 0,(function(){var e,n=this;return Ru(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Yw("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new KE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new zw(Hw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new KE(t,n))},i.onupgradeneeded=function(t){Yw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Yw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Nu(this,void 0,void 0,(function(){var i,o,s,a,u;return Ru(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Ru(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=qE.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),jE.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Yw("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),BE=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return zE(this.Pt.delete())},t}(),KE=function(t){function e(e,n){var r=this;return(r=t.call(this,Hw.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Cu(e,t),e}(zw);function WE(t){return"IndexedDbTransactionError"===t.name}var HE=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Yw("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Yw("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),zE(n)},t.prototype.add=function(t){return Yw("SimpleDb","ADD",this.store.name,t,t),zE(this.store.add(t))},t.prototype.get=function(t){var e=this;return zE(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Yw("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Yw("SimpleDb","DELETE",this.store.name,t),zE(this.store.delete(t))},t.prototype.count=function(){return Yw("SimpleDb","COUNT",this.store.name),zE(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Yw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new jE((function(n,r){e.onerror=function(t){var e=QE(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new jE((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new BE(i),s=e(i.primaryKey,i.value,o);if(s instanceof jE){var a=s.catch((function(t){return o.done(),jE.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return jE.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function zE(t){return new jE((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=QE(t.target.error);n(e)}}))}var GE=!1;function QE(t){var e=VE._t(zu());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new zw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return GE||(GE=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Cu(e,t),e}(FE);function $E(t,e){var n=e_(t);return VE.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&YI(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&$I(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&$I(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(u_.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ET())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&o_(this.mutations,t.mutations,(function(t,e){return JI(t,e)}))&&o_(this.baseMutations,t.baseMutations,(function(t,e){return JI(t,e)}))},t}(),JE=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){t_(e.mutations.length===r.length);for(var i=IT(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ZE=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=u_.min()),void 0===o&&(o=u_.min()),void 0===s&&(s=m_.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),tA=function(t){this.Lt=t};function eA(t,e){if(e.document)return JT(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=C_.fromSegments(e.noDocument.path),r=sA(e.noDocument.readTime),i=H_.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=C_.fromSegments(e.unknownDocument.path);return r=sA(e.unknownDocument.version),H_.newUnknownDocument(o,r)}return Zw()}function nA(t,e,n){var r,i,o=rA(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:HT(r=t.Lt,(i=e).key),fields:i.data.value.mapValue.fields,updateTime:jT(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new SE(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=oA(e.version);return u=e.hasCommittedMutations,new SE(null,new EE(c,l),null,u,o,s)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=oA(e.version);return new SE(new AE(h,f),null,null,!0,o,s)}return Zw()}function rA(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function iA(t){var e=new a_(t[0],t[1]);return u_.fromTimestamp(e)}function oA(t){var e=t.toTimestamp();return new bE(e.seconds,e.nanoseconds)}function sA(t){var e=new a_(t.seconds,t.nanoseconds);return u_.fromTimestamp(e)}function aA(t,e){for(var n=(e.baseMutations||[]).map((function(e){return tE(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return tE(t.Lt,e)})),a=a_.fromMillis(e.localWriteTimeMs);return new XE(e.batchId,a,n,s)}function uA(t){var e,n,r=sA(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?sA(t.lastLimboFreeSnapshotVersion):u_.min();return void 0!==t.query.documents?(t_(1===(n=t.query).documents.length),e=_I(pI(QT(n.documents[0])))):e=_I(rE(t.query)),new ZE(e,t.targetId,0,t.lastListenSequenceNumber,r,i,m_.fromBase64String(t.resumeToken))}function cA(t,e){var n,r=oA(e.snapshotVersion),i=oA(e.lastLimboFreeSnapshotVersion);n=$_(e.target)?eE(t.Lt,e.target):nE(t.Lt,e.target);var o=e.resumeToken.toBase64();return new CE(e.targetId,Q_(e.target),r,o,e.sequenceNumber,i,n)}function lA(t){var e=rE({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?II(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hA=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return fA(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:sA(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return fA(t).put({bundleId:(n=e).id,createTime:oA(BT(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return dA(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:lA(e.bundledQuery),readTime:sA(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return dA(t).put({name:(n=e).name,readTime:oA(BT(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function fA(t){return $E(t,DE.store)}function dA(t){return $E(t,OE.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pA=function(){function t(){this.Bt=new vA}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),jE.resolve()},t.prototype.getCollectionParents=function(t,e){return jE.resolve(this.Bt.getEntries(e))},t}(),vA=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new vT(d_.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new vT(d_.comparator)).toArray()},t}(),gA=function(){function t(){this.qt=new vA}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:vE(i)};return mA(t).put(o)}return jE.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[s_(e),""],!1,!0);return mA(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(yE(o.parent))}return n}))},t}();function mA(t){return $E(t,RE.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e,n){var r=t.store(IE.store),i=t.store(TE.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){t_(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=TE.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return jE.waitFor(o).next((function(){return c}))}function _A(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Zw();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bA.DEFAULT_COLLECTION_PERCENTILE=10,bA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bA.DEFAULT=new bA(41943040,bA.DEFAULT_COLLECTION_PERCENTILE,bA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bA.DISABLED=new bA(-1,0,0);var IA=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return t_(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return EA(t).$t({index:IE.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=AA(t),s=EA(t);return s.add({}).next((function(a){t_("number"==typeof a);for(var u=new XE(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return ZT(t.Lt,e)})),i=n.mutations.map((function(e){return ZT(t.Lt,e)}));return new IE(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new vT((function(t,e){return i_(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=TE.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(v,TE.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),jE.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return EA(t).get(e).next((function(t){return t?(t_(t.userId===n.userId),aA(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?jE.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return EA(t).$t({index:IE.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(t_(e.batchId>=r),o=aA(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return EA(t).$t({index:IE.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return EA(t).Nt(IE.userMutationsIndex,n).next((function(t){return t.map((function(t){return aA(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=TE.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return AA(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=yE(u);if(a===n.userId&&e.path.isEqual(l))return EA(t).get(c).next((function(t){if(!t)throw Zw();t_(t.userId===n.userId),o.push(aA(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new vT(i_),i=[];return e.forEach((function(e){var o=TE.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=AA(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=yE(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),jE.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=TE.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new vT(i_);return AA(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=yE(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(EA(t).get(e).next((function(t){if(null===t)throw Zw();t_(t.userId===n.userId),r.push(aA(n.R,t))})))})),jE.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return wA(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),jE.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return jE.resolve();var r=IDBKeyRange.lowerBound(TE.prefixForUser(e.userId)),i=[];return AA(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=yE(t[1]);i.push(o)}else r.done()})).next((function(){t_(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return TA(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return SA(t).get(this.userId).next((function(t){return t||new _E(e.userId,-1,"")}))},t}();function TA(t,e,n){var r=TE.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return AA(t).$t({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function EA(t){return $E(t,IE.store)}function AA(t){return $E(t,TE.store)}function SA(t){return $E(t,_E.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kA=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),CA=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new kA(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return u_.fromTimestamp(new a_(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return xA(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return t_(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return xA(t).$t((function(s,a){var u=uA(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return jE.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return xA(t).$t((function(t,n){var r=uA(n);e(r)}))},t.prototype.Xt=function(t){return NA(t).get(NE.key).next((function(t){return t_(null!==t),t}))},t.prototype.Zt=function(t,e){return NA(t).put(NE.key,e)},t.prototype.te=function(t,e){return xA(t).put(cA(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Q_(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xA(t).$t({range:r,index:CE.queryTargetsIndexName},(function(t,n,r){var o=uA(n);Y_(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=RA(t);return e.forEach((function(e){var s=vE(e.path);i.push(o.put(new xE(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),jE.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=RA(t);return jE.forEach(e,(function(e){var o=vE(e.path);return jE.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=RA(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=RA(t),i=ET();return r.$t({range:n,kt:!0},(function(t,e,n){var r=yE(t[1]),o=new C_(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=vE(e.path),r=IDBKeyRange.bound([n],[s_(n)],!1,!0),i=0;return RA(t).$t({index:xE.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return xA(t).get(e).next((function(t){return t?uA(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){return $E(t,CE.store)}function NA(t){return $E(t,NE.store)}function RA(t){return $E(t,xE.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){if(t.code!==Hw.FAILED_PRECONDITION||t.message!==ME)throw t;return Yw("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=i_(n,i);return 0===s?i_(r,o):s}var OA=function(){function t(t){this.ne=t,this.buffer=new vT(DA),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();DA(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),LA=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Yw("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Nu(e,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return WE(e=n.sent())?(Yw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,PA(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),MA=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return jE.resolve(Ww.o);var r=new OA(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Yw("LruGarbageCollector","Garbage collection skipped; disabled"),jE.resolve(yA)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Yw("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),yA):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Yw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Qw()<=Cc.DEBUG&&Yw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),jE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),FA=function(){function t(t,e){this.db=t,this.garbageCollector=new MA(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return UA(t,n)},t.prototype.removeReference=function(t,e,n){return UA(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return UA(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,SA(n=t).Ot((function(t){return TA(n,t,r).next((function(t){return t&&(i=!0),jE.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),RA(t).delete([0,vE(s.path)])}))}));i.push(u)}})).next((function(){return jE.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return UA(t,e)},t.prototype.we=function(t,e){var n,r=RA(t),i=Ww.o;return r.$t({index:xE.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Ww.o&&e(new C_(yE(n)),i),i=a,n=s):i=Ww.o})).next((function(){i!==Ww.o&&e(new C_(yE(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function UA(t,e){return RA(t).put((n=e,r=t.currentSequenceNumber,new xE(0,vE(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jA=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){l_(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return h_(this.inner)},t}(),qA=function(){function t(){this.changes=new jA((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:u_.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:H_.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?jE.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),VA=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return WA(t).put(HA(e),n)},t.prototype.removeEntry=function(t,e){var n=WA(t),r=HA(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return WA(t).get(HA(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return WA(t).get(HA(e)).next((function(t){return{document:n.ye(e,t),size:_A(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=yT();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=yT(),i=new fT(C_.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,_A(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return jE.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return WA(t).$t({range:r},(function(t,e,r){for(var s=C_.fromSegments(t);o&&C_.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=yT(),o=e.path.length+1,s={};if(n.isEqual(u_.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=rA(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=SE.collectionReadTimeIndex}return WA(t).$t(s,(function(t,n,s){if(t.length===o){var a=eA(r.R,n);e.path.isPrefixOf(a.key.path)?SI(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new BA(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return KA(t).get(kE.key).next((function(t){return t_(!!t),t}))},t.prototype.me=function(t,e){return KA(t).put(kE.key,e)},t.prototype.ye=function(t,e){if(e){var n=eA(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(u_.min()))return n}return H_.newInvalidDocument(t)},t}(),BA=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new jA((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Cu(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new vT((function(t,e){return i_(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=nA(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=_A(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=nA(e.Ie.R,H_.newNoDocument(o,u_.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),jE.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(qA);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){return $E(t,kE.store)}function WA(t){return $E(t,SE.store)}function HA(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zA=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;t_(n<r&&n>=0&&r<=11);var o=new qE("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(wE.store),function(t){t.createObjectStore(_E.store,{keyPath:_E.keyPath}),t.createObjectStore(IE.store,{keyPath:IE.keyPath,autoIncrement:!0}).createIndex(IE.userMutationsIndex,IE.userMutationsKeyPath,{unique:!0}),t.createObjectStore(TE.store)}(t),GA(t),function(t){t.createObjectStore(SE.store)}(t));var s=jE.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(xE.store),t.deleteObjectStore(CE.store),t.deleteObjectStore(NE.store)}(t),GA(t)),s=s.next((function(){return function(t){var e=t.store(NE.store),n=new NE(0,0,u_.min().toTimestamp(),0);return e.put(NE.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(IE.store).Nt().next((function(n){t.deleteObjectStore(IE.store),t.createObjectStore(IE.store,{keyPath:IE.keyPath,autoIncrement:!0}).createIndex(IE.userMutationsIndex,IE.userMutationsKeyPath,{unique:!0});var r=e.store(IE.store),i=n.map((function(t){return r.put(t)}));return jE.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(PE.store,{keyPath:PE.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(kE.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(SE.store);e.createIndex(SE.readTimeIndex,SE.readTimeIndexPath,{unique:!1}),e.createIndex(SE.collectionReadTimeIndex,SE.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(DE.store,{keyPath:DE.keyPath})}(t),function(t){t.createObjectStore(OE.store,{keyPath:OE.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(SE.store).$t((function(t,n){e+=_A(n)})).next((function(){var n=new kE(e);return t.store(kE.store).put(kE.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(_E.store),r=t.store(IE.store);return n.Nt().next((function(n){return jE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(IE.userMutationsIndex,i).next((function(r){return jE.forEach(r,(function(r){t_(r.userId===n.userId);var i=aA(e.R,r);return wA(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(xE.store),n=t.store(SE.store);return t.store(NE.store).get(NE.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new d_(n),s=[0,vE(o)];r.push(e.get(s).next((function(n){return n?jE.resolve():(r=o,e.put(new xE(0,vE(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return jE.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(RE.store,{keyPath:RE.keyPath});var n=e.store(RE.store),r=new vA,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:vE(i)})}};return e.store(SE.store).$t({kt:!0},(function(t,e){var n=new d_(t);return i(n.popLast())})).next((function(){return e.store(TE.store).$t({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],yE(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(CE.store);return n.$t((function(t,r){var i=uA(r),o=cA(e.R,i);return n.put(o)}))},t}();function GA(t){t.createObjectStore(xE.store,{keyPath:xE.keyPath}).createIndex(xE.documentTargetsIndex,xE.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(CE.store,{keyPath:CE.keyPath}).createIndex(CE.queryTargetsIndexName,CE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(NE.store)}var QA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",YA=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new zw(Hw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new FA(this,i),this.Le=n+"main",this.R=new tA(u),this.Be=new VE(this.Le,11,new zA(this.R)),this.qe=new CA(this.referenceDelegate,this.R),this.Ut=new gA,this.Ue=(h=this.R,f=this.Ut,new VA(h,f)),this.Qe=new hA,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&$w("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new zw(Hw.FAILED_PRECONDITION,QA);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Ww(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Nu(e,void 0,void 0,(function(){return Ru(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Nu(e,void 0,void 0,(function(){return Ru(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Nu(e,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return XA(e).put(new PE(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(WE(e))return Yw("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Yw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return $A(t).get(wE.key).next((function(t){return jE.resolve(e.tn(t))}))},t.prototype.en=function(t){return XA(t).delete(this.clientId)},t.prototype.nn=function(){return Nu(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Ru(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=$E(t,PE.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return jE.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?jE.resolve(!0):$A(t).get(wE.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new zw(Hw.FAILED_PRECONDITION,QA);return!1}}return!(!e.networkEnabled||!e.inForeground)||XA(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Yw("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Nu(this,void 0,void 0,(function(){var t=this;return Ru(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[wE.store,PE.store],(function(e){var n=new YE(e,Ww.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return XA(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return IA.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Yw("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,LE,(function(o){return i=new YE(o,r.Ne?r.Ne.next():Ww.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw $w("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new zw(Hw.FAILED_PRECONDITION,ME);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return $A(t).get(wE.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new zw(Hw.FAILED_PRECONDITION,QA)}))},t.prototype.Ze=function(t){var e=new wE(this.clientId,this.allowTabSynchronization,Date.now());return $A(t).put(wE.key,e)},t.yt=function(){return VE.yt()},t.prototype.Xe=function(t){var e=this,n=$A(t);return n.get(wE.key).next((function(t){return e.tn(t)?(Yw("IndexedDbPersistence","Releasing primary lease."),n.delete(wE.key)):jE.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&($w("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Yw("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return $w("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){$w("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function $A(t){return $E(t,wE.store)}function XA(t){return $E(t,PE.store)}function JA(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ZA=function(t,e){this.progress=t,this.wn=e},tS=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,C_.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):bI(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new C_(e)).next((function(t){var e=wT();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=wT();return this.Ut.getCollectionParents(t,i).next((function(s){return jE.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new fI(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=H_.newInvalidDocument(c),r=r.insert(c,l)),$I(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){SI(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=ET(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof eT&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),eS=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ET(),i=ET(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),nS=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(u_.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var s=o.Cn(e,i);return(vI(e)||gI(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(Qw()<=Cc.DEBUG&&Yw("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),AI(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new vT(kI(t));return e.forEach((function(e,r){SI(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Qw()<=Cc.DEBUG&&Yw("QueryEngine","Using full collection scan to execute query:",AI(e)),this.Sn.getDocumentsMatchingQuery(t,e,u_.min())},t}(),rS=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new fT(i_),this.kn=new jA((function(t){return Q_(t)}),Y_),this.$n=u_.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new tS(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e,n,r){return new rS(t,e,n,r)}function oS(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o;return Ru(this,(function(s){switch(s.label){case 0:return n=e_(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new tS(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=ET(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];s=s.add(y.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function sS(t,e){var n=e_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=jE.resolve(),u.forEach((function(t){c=c.next((function(){return s.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);t_(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,a)}))).next((function(){return h.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,l)}))}))}function aS(t){var e=e_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function uS(t,e){var n=e_(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var h=e.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=l,c=e,t_((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}}));var a=yT();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(cS(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(u_.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return jE.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function cS(t,e,n,r,i){var o=ET();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=yT();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(u_.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Yw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function lS(t,e){var n=e_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function hS(t,e){var n=e_(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,jE.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new ZE(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function fS(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o,s;return Ru(this,(function(a){switch(a.label){case 0:r=e_(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!WE(s=a.sent()))throw s;return Yw("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function dS(t,e,n){var r=e_(t),i=u_.min(),o=ET();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=_I(e),c=e_(s),l=c.kn.get(u),void 0!==l?jE.resolve(c.Fn.get(l)):c.qe.getTargetData(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:u_.min(),n?o:ET())})).next((function(t){return{documents:t,Bn:o}}));var s,a,u,c,l}))}function pS(t,e){var n=e_(t),r=e_(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function vS(t){var e=e_(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.On,r=t,i=e.$n,o=e_(n),s=yT(),a=rA(i),u=WA(r),c=IDBKeyRange.lowerBound(a,!0),u.$t({index:SE.readTimeIndex,range:c},(function(t,e){var n=eA(o.R,e);s=s.insert(n.key,n),a=e.readTime})).next((function(){return{wn:s,readTime:iA(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function gS(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){return[2,(e=e_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=WA(t),n=u_.min(),e.$t({index:SE.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=iA(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.$n=t}))]}))}))}function mS(t,e,n,r){return Nu(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Ru(this,(function(p){switch(p.label){case 0:for(i=e_(t),o=ET(),s=yT(),a=IT(),u=0,c=n;u<c.length;u++)l=c[u],h=e.qn(l.metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,hS(i,(v=r,_I(pI(d_.fromString("__bundle__/docs/"+v)))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return cS(t,f,s,u_.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}var v}))}))}function yS(t,e,n){return void 0===n&&(n=ET()),Nu(this,void 0,void 0,(function(){var r,i;return Ru(this,(function(o){switch(o.label){case 0:return[4,hS(t,_I(lA(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=e_(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=BT(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(m_.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var bS=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return jE.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:BT(n.createTime)}),jE.resolve()},t.prototype.getNamedQuery=function(t,e){return jE.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:lA(n.bundledQuery),readTime:BT(n.readTime)}),jE.resolve();var n},t}(),wS=function(){function t(){this.Wn=new vT(_S.Gn),this.zn=new vT(_S.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new _S(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new _S(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new C_(new d_([])),r=new _S(n,t),i=new _S(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new C_(new d_([])),n=new _S(e,t),r=new _S(e,t+1),i=ET();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new _S(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),_S=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return C_.comparator(t.key,e.key)||i_(t.ns,e.ns)},t.Hn=function(t,e){return i_(t.ns,e.ns)||C_.comparator(t.key,e.key)},t}(),IS=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new vT(_S.Gn)}return t.prototype.checkEmpty=function(t){return jE.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new XE(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new _S(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return jE.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return jE.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return jE.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return jE.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return jE.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new _S(e,0),i=new _S(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),jE.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new vT(i_);return e.forEach((function(t){var e=new _S(t,0),i=new _S(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),jE.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;C_.isDocumentKey(i)||(i=i.child(""));var o=new _S(new C_(i),0),s=new vT(i_);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),jE.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;t_(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return jE.forEach(e.mutations,(function(i){var o=new _S(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new _S(e,0),r=this.rs.firstAfterOrEqual(n);return jE.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,jE.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),TS=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new fT(C_.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return jE.resolve(n?n.document.clone():H_.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=yT();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():H_.newInvalidDocument(t))})),jE.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=yT(),i=new C_(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||SI(e,c)&&(r=r.insert(c.key,c.clone()))}return jE.resolve(r)},t.prototype.fs=function(t,e){return jE.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new ES(this)},t.prototype.getSize=function(t){return jE.resolve(this.size)},t}(),ES=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Cu(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),jE.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(qA),AS=function(){function t(t){this.persistence=t,this.ds=new jA((function(t){return Q_(t)}),Y_),this.lastRemoteSnapshotVersion=u_.min(),this.highestTargetId=0,this.ws=0,this._s=new wS,this.targetCount=0,this.ys=kA.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),jE.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return jE.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return jE.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),jE.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),jE.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new kA(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,jE.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),jE.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,jE.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),jE.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return jE.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return jE.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),jE.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),jE.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),jE.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return jE.resolve(n)},t.prototype.containsKey=function(t,e){return jE.resolve(this._s.containsKey(e))},t}(),SS=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new Ww(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new AS(this),this.Ut=new pA,this.Ue=(n=this.Ut,new TS(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new tA(e),this.Qe=new bS(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new IS(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Yw("MemoryPersistence","Starting transaction:",t);var i=new kS(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return jE.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),kS=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Cu(e,t),e}(FE),CS=function(){function t(t){this.persistence=t,this.As=new wS,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Zw()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),jE.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),jE.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),jE.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jE.forEach(this.vs,(function(r){var i=C_.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return jE.or([function(){return jE.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),xS=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e){return"firestore_clients_"+t+"_"+e}function RS(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function PS(t,e){return"firestore_targets_"+t+"_"+e}xS.UNAUTHENTICATED=new xS(null),xS.GOOGLE_CREDENTIALS=new xS("google-credentials-uid"),xS.FIRST_PARTY=new xS("first-party-uid");var DS=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new zw(o.error.code,o.error.message)),s?new t(e,n,o.state,i):($w("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),OS=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new zw(i.error.code,i.error.message)),o?new t(e,i.state,r):($w("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),LS=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ST(),s=0;i&&s<r.activeTargetIds.length;++s)i=k_(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):($w("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),MS=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):($w("SharedClientState","Failed to parse online state: "+e),null)},t}(),FS=function(){function t(){this.activeTargetIds=ST()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),US=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new fT(i_),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=NS(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new FS),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Nu(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return Ru(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(NS(this.persistenceKey,r)))&&(o=LS.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(PS(this.persistenceKey,t));if(n){var r=OS.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(PS(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Yw("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Yw("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Yw("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Yw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void $w("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Nu(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Ru(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Ww.o;if(null!=t)try{var n=JSON.parse(t);t_("number"==typeof n),e=n}catch(t){$w("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ww.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new DS(this.currentUser,t,e,n),i=RS(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=RS(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=PS(this.persistenceKey,t),i=new OS(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return LS.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return DS.Vs(new xS(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return OS.Vs(r,e)},t.prototype.js=function(t){return MS.Vs(t)},t.prototype.ii=function(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Yw("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ST();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),jS=function(){function t(){this.li=new FS,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new FS,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),qS=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),VS=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Yw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Yw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),BS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},KS=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),WS=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Cu(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Kw;s.listenOnce(Uw.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Fw.NO_ERROR:var e=s.getResponseJson();Yw("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Fw.TIMEOUT:Yw("Connection",'RPC "'+t+'" timed out'),o(new zw(Hw.DEADLINE_EXCEEDED,"Request time out"));break;case Fw.HTTP_ERROR:var n=s.getStatus();if(Yw("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(Hw).indexOf(c)>=0?c:Hw.UNKNOWN);o(new zw(a,r.message))}else o(new zw(Hw.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new zw(Hw.UNAVAILABLE,"Connection failed."));break;default:Zw()}}finally{Yw("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Pw,o=Oy(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Gu()||$u()||zu().indexOf("Electron/")>=0||((n=zu()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||zu().indexOf("MSAppHost/")>=0||Yu()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");Yw("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new KS({Ei:function(t){l?Yw("Connection","Not sending because WebChannel is closed:",t):(c||(Yw("Connection","Opening WebChannel transport."),u.open(),c=!0),Yw("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,Bw.EventType.OPEN,(function(){l||Yw("Connection","WebChannel transport opened.")})),f(u,Bw.EventType.CLOSE,(function(){l||(l=!0,Yw("Connection","WebChannel transport closed"),h.Vi())})),f(u,Bw.EventType.ERROR,(function(t){l||(l=!0,Xw("Connection","WebChannel transport errored:",t),h.Vi(new zw(Hw.UNAVAILABLE,"The operation could not be completed")))})),f(u,Bw.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];t_(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Yw("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=oT[t];if(void 0!==e)return hT(e)}(o),a=i.message;void 0===s&&(s=Hw.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new zw(s,a)),u.close()}else Yw("Connection","WebChannel received:",n),h.Si(n)}})),f(o,jw.STAT_EVENT,(function(t){t.stat===qw?Yw("Connection","Detected buffering proxy"):t.stat===Vw&&Yw("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Yw("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Yw("RestConnection","Received: ",t),t}),(function(e){throw Xw("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.3",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=BS[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){return"undefined"!=typeof window?window:null}function zS(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){return new UT(t,!0)}var QS=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Yw("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),YS=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new QS(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Hw.RESOURCE_EXHAUSTED?($w(e.toString()),$w("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Hw.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new zw(Hw.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Nu(t,void 0,void 0,(function(){return Ru(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Yw("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Yw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),$S=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Cu(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Zw(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(t_(void 0===e||"string"==typeof e),m_.fromBase64String(e||"")):(t_(void 0===e||e instanceof Uint8Array),m_.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Hw.UNKNOWN:hT(t.code);return new zw(e,t.message||"")}(u);n=new RT(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=zT(t,i.document.name),s=BT(i.document.updateTime);var u=new K_({mapValue:{fields:i.document.fields}}),c=(a=H_.newFoundDocument(o,s,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new xT(c,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=zT(t,i.document),s=i.readTime?BT(i.readTime):u_.min(),u=H_.newNoDocument(o,s),a=i.removedTargetIds||[],n=new xT([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=zT(t,i.document),s=i.removedTargetIds||[],n=new xT([],s,o,null);else{if(!("filter"in e))return Zw();e.filter;var h=e.filter;h.targetId,i=h.count||0,o=new cT(i),s=h.targetId,n=new NT(s,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return u_.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?u_.min():e.readTime?BT(e.readTime):u_.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=YT(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=$_(i)?{documents:eE(e,i)}:{query:nE(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=qT(e,n.resumeToken):n.snapshotVersion.compareTo(u_.min())>0&&(r.readTime=jT(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zw()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=YT(this.R),e.removeTarget=t,this.cr(e)},e}(YS),XS=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Cu(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(t_(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(t_(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?BT(e.updateTime):BT(n)).isEqual(u_.min())&&(r=BT(n)),new HI(r,e.transformResults||[]);var e,n,r}))):[]),n=BT(t.commitTime);return this.listener.Tr(n,e)}var r,i;return t_(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=YT(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ZT(e.R,t)}))};this.cr(n)},e}(YS),JS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Cu(e,t),e.prototype.br=function(){if(this.Rr)throw new zw(Hw.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Hw.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new zw(Hw.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Hw.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new zw(Hw.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),ZS=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?($w(e),this.Vr=!1):Yw("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),tk=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Nu(o,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:return ck(this)?(Yw("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return(e=e_(t)).Or.add(4),[4,nk(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,ek(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new ZS(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t){return Nu(this,void 0,void 0,(function(){var e,n;return Ru(this,(function(r){switch(r.label){case 0:if(!ck(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function nk(t){return Nu(this,void 0,void 0,(function(){var e,n;return Ru(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function rk(t,e){var n=e_(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),uk(n)?ak(n):Ek(n).er()&&ok(n,e))}function ik(t,e){var n=e_(t),r=Ek(n);n.$r.delete(e),r.er()&&sk(n,e),0===n.$r.size&&(r.er()?r.ir():ck(n)&&n.Br.set("Unknown"))}function ok(t,e){t.qr.U(e.targetId),Ek(t).mr(e)}function sk(t,e){t.qr.U(e),Ek(t).yr(e)}function ak(t){t.qr=new DT({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Ek(t).start(),t.Br.Sr()}function uk(t){return ck(t)&&!Ek(t).tr()&&t.$r.size>0}function ck(t){return 0===e_(t).Or.size}function lk(t){t.qr=void 0}function hk(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){return t.$r.forEach((function(e,n){ok(t,e)})),[2]}))}))}function fk(t,e){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(n){return lk(t),uk(t)?(t.Br.Nr(e),ak(t)):t.Br.set("Unknown"),[2]}))}))}function dk(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o;return Ru(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof RT&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o;return Ru(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Yw("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,pk(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof xT?t.qr.X(e):e instanceof NT?t.qr.rt(e):t.qr.et(e),n.isEqual(u_.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,aS(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.ut(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.$r.get(e);n&&a.$r.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=a.$r.get(t);if(e){a.$r.set(t,e.withResumeToken(m_.EMPTY_BYTE_STRING,e.snapshotVersion)),sk(a,t);var n=new ZE(e.target,t,1,e.sequenceNumber);ok(a,n)}})),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Yw("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,pk(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function pk(t,e,n){return Nu(this,void 0,void 0,(function(){var r=this;return Ru(this,(function(i){switch(i.label){case 0:if(!WE(e))throw e;return t.Or.add(1),[4,nk(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return aS(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Nu(r,void 0,void 0,(function(){return Ru(this,(function(e){switch(e.label){case 0:return Yw("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,ek(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function vk(t,e){return e().catch((function(n){return pk(t,n,e)}))}function gk(t){return Nu(this,void 0,void 0,(function(){var e,n,r,i,o;return Ru(this,(function(s){switch(s.label){case 0:e=e_(t),n=Ak(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(ck(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,lS(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Ak(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,pk(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return mk(e)&&yk(e),[2]}var a}))}))}function mk(t){return ck(t)&&!Ak(t).tr()&&t.kr.length>0}function yk(t){Ak(t).start()}function bk(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){return Ak(t).Ar(),[2]}))}))}function wk(t){return Nu(this,void 0,void 0,(function(){var e,n,r,i;return Ru(this,(function(o){for(e=Ak(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function _k(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i;return Ru(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=JE.from(r,e,n),[4,vk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,gk(t)];case 2:return o.sent(),[2]}}))}))}function Ik(t,e){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(n){switch(n.label){case 0:return e&&Ak(t).pr?[4,function(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return lT(r=e.code)&&r!==Hw.ABORTED?(n=t.kr.shift(),Ak(t).sr(),[4,vk(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,gk(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return mk(t)&&yk(t),[2]}}))}))}function Tk(t,e){return Nu(this,void 0,void 0,(function(){var n;return Ru(this,(function(r){switch(r.label){case 0:return n=e_(t),e?(n.Or.delete(2),[4,ek(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,nk(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ek(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:hk.bind(null,t),Ri:fk.bind(null,t),_r:dk.bind(null,t)},(i=e_(e)).br(),new $S(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Nu(o,void 0,void 0,(function(){return Ru(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),uk(t)?ak(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),lk(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function Ak(t){var e,n,r,i,o=this;return t.Qr||(t.Qr=(e=t.datastore,n=t.asyncQueue,r={Ii:bk.bind(null,t),Ri:Ik.bind(null,t),Ir:wk.bind(null,t),Tr:_k.bind(null,t)},(i=e_(e)).br(),new XS(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Nu(o,void 0,void 0,(function(){return Ru(this,(function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,gk(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),t.kr.length>0&&(Yw("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Qr}var Sk=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new UE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zw(Hw.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function kk(t,e){if($w("AsyncQueue",e+": "+t),WE(t))return new zw(Hw.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ck=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||C_.comparator(e.key,n.key)}:function(t,e){return C_.comparator(t.key,e.key)},this.keyedMap=wT(),this.sortedSet=new fT(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),xk=function(){function t(){this.Kr=new fT(C_.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Zw():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Nk=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ck.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&TI(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Rk=function(){this.Wr=void 0,this.listeners=[]},Pk=function(){this.queries=new jA((function(t){return EI(t)}),TI),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ru(this,(function(c){switch(c.label){case 0:if(n=e_(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Rk),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=kk(a,"Initialization of query '"+AI(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Fk(n),[2]}}))}))}function Ok(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s;return Ru(this,(function(a){return n=e_(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Lk(t,e){for(var n=e_(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&Fk(n)}function Mk(t,e,n){var r=e_(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Fk(t){t.Gr.forEach((function(t){t.next()}))}var Uk=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Nk(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Nk.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),jk=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),qk=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return zT(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?JT(this.R,t.document,!1):H_.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return BT(t)},t}(),Vk=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Bk(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new qk(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||ET()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Nu(this,void 0,void 0,(function(){var t,e,n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return[4,mS(this.localStore,new qk(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,yS(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ZA(Object.assign({},this.progress),t))]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kk=function(t){this.key=t},Wk=function(t){this.key=t},Hk=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ET(),this.mutatedKeys=ET(),this.lo=kI(t),this.fo=new Ck(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new xk,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=vI(this.query)&&i.size===this.query.limit?i.last():null,c=gI(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=SI(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),vI(this.query)||gI(this.query))for(;s.size>this.query.limit;){var l=vI(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zw()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Nk(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new xk,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ET(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Wk(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Kk(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ET();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Nk.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),zk=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Gk=function(t){this.key=t,this.bo=!1},Qk=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new jA((function(t){return EI(t)}),TI),this.Vo=new Map,this.So=new Set,this.Do=new fT(C_.comparator),this.Co=new Map,this.No=new wS,this.xo={},this.Fo=new Map,this.ko=kA.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Yk(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Ru(this,(function(u){switch(u.label){case 0:return n=EC(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,hS(n.localStore,_I(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,$k(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&rk(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function $k(t,e,n,r){return Nu(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Ru(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Nu(this,void 0,void 0,(function(){var i,o,s;return Ru(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,dS(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(cC(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,dS(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Hk(e,i.Bn),s=o._o(i.documents),a=CT.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),cC(t,n,u.To),c=new zk(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Xk(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return n=e_(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!TI(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,fS(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),ik(n.remoteStore,r.targetId),aC(n,r.targetId)})).catch(PA)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return aC(n,r.targetId),[4,fS(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Jk(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o,s;return Ru(this,(function(a){switch(a.label){case 0:r=AC(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,h=e_(u),f=a_.now(),d=c.reduce((function(t,e){return t.add(e.key)}),ET()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.Mn.pn(t,d).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=XI(o,l.get(o.key));null!=s&&n.push(new eT(o.key,s,W_(s.value.mapValue),zI.exists(!0)))}return h._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}})))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new fT(i_)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,fC(r,i.changes)];case 3:return a.sent(),[4,gk(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=kk(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,d}))}))}function Zk(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:n=e_(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,uS(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(t_(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?t_(r.bo):t.removedDocuments.size>0&&(t_(r.bo),r.bo=!1))})),[4,fC(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,PA(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function tC(t,e,n){var r=e_(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=e_(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Fk(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function eC(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Ru(this,(function(c){switch(c.label){case 0:return(r=e_(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new fT(C_.comparator)).insert(o,H_.newNoDocument(o,u_.min())),a=ET().add(o),u=new kT(u_.min(),new Map,new vT(i_),s,a),[4,Zk(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),hC(r),[3,4];case 2:return[4,fS(r.localStore,e,!1).then((function(){return aC(r,e,n)})).catch(PA)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function nC(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i;return Ru(this,(function(o){switch(o.label){case 0:n=e_(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,sS(n.localStore,e)];case 2:return i=o.sent(),sC(n,r,null),oC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,fC(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,PA(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function rC(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i;return Ru(this,(function(o){switch(o.label){case 0:r=e_(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=e_(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,a).next((function(n){return t_(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),sC(r,e,n),oC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,fC(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,PA(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function iC(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s;return Ru(this,(function(a){switch(a.label){case 0:ck((n=e_(t)).remoteStore)||Yw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=e_(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=kk(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function oC(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function sC(t,e,n){var r=e_(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function aC(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||uC(t,e)}))}function uC(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(ik(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),hC(t))}function cC(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Kk?(t.No.addReference(o.key,e),lC(t,o)):o instanceof Wk?(Yw("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||uC(t,o.key)):Zw()}}function lC(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Yw("SyncEngine","New document in limbo: "+n),t.So.add(r),hC(t))}function hC(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new C_(d_.fromString(e)),r=t.ko.next();t.Co.set(r,new Gk(n)),t.Do=t.Do.insert(n,r),rk(t.remoteStore,new ZE(_I(pI(n.path)),r,2,Ww.o))}}function fC(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o,s;return Ru(this,(function(a){switch(a.label){case 0:return r=e_(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=eS.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ru(this,(function(h){switch(h.label){case 0:n=e_(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return jE.forEach(e,(function(e){return jE.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return jE.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!WE(r=h.sent()))throw r;return Yw("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function dC(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return(n=e_(t)).currentUser.isEqual(e)?[3,3]:(Yw("SyncEngine","User change. New user:",e.toKey()),[4,oS(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach((function(t){t.forEach((function(t){t.reject(new zw(Hw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,fC(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function pC(t,e){var n=e_(t),r=n.Co.get(e);if(r&&r.bo)return ET().add(r.key);var i=ET(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function vC(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return[4,dS((n=e_(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&cC(n,e.targetId,i.To),i)]}}))}))}function gC(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){return[2,vS((e=e_(t)).localStore).then((function(t){return fC(e,t)}))]}))}))}function mC(t,e,n,r){return Nu(this,void 0,void 0,(function(){var i,o;return Ru(this,(function(s){switch(s.label){case 0:return[4,(a=(i=e_(t)).localStore,u=e,c=e_(a),l=e_(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):jE.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,gk(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(sC(i,e,r||null),oC(i,e),function(t,e){e_(e_(t)._n).Gt(e)}(i.localStore,e)):Zw(),s.label=4;case 4:return[4,fC(i,o)];case 5:return s.sent(),[3,7];case 6:Yw("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function yC(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Ru(this,(function(l){switch(l.label){case 0:return EC(n=e_(t)),AC(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,bC(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Tk(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],rk(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return aC(n,e),fS(n.localStore,e,!0)})),ik(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,bC(n,u)];case 5:return l.sent(),(h=e_(n)).Co.forEach((function(t,e){ik(h.remoteStore,e)})),h.No.ts(),h.Co=new Map,h.Do=new fT(C_.comparator),n.$o=!1,[4,Tk(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function bC(t,e,n){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,v;return Ru(this,(function(g){switch(g.label){case 0:n=e_(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,hS(n.localStore,_I(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,vC(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,pS(n.localStore,a)];case 8:return v=g.sent(),[4,hS(n.localStore,v)];case 9:return u=g.sent(),[4,$k(n,wC(v),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function wC(t){return dI(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function _C(t){var e=e_(t);return e_(e_(e.localStore).persistence).fn()}function IC(t,e,n,r){return Nu(this,void 0,void 0,(function(){var i,o,s;return Ru(this,(function(a){switch(a.label){case 0:return(i=e_(t)).$o?(Yw("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vS(i.localStore)];case 3:return o=a.sent(),s=kT.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,fC(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,fS(i.localStore,e,!0)];case 6:return a.sent(),aC(i,e,r),[3,8];case 7:Zw(),a.label=8;case 8:return[2]}}))}))}function TC(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return Ru(this,(function(d){switch(d.label){case 0:if(!(r=EC(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(Yw("SyncEngine","Adding an already active target "+s),[3,5]):[4,pS(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,hS(r.localStore,a)];case 3:return u=d.sent(),[4,$k(r,wC(a),u.targetId,!1)];case 4:d.sent(),rk(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Ru(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,fS(r.localStore,t,!1).then((function(){ik(r.remoteStore,t),aC(r,t)})).catch(PA)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function EC(t){var e=e_(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eC.bind(null,e),e.vo._r=Lk.bind(null,e.eventManager),e.vo.Mo=Mk.bind(null,e.eventManager),e}function AC(t){var e=e_(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rC.bind(null,e),e}function SC(t,e,n){var r=e_(t);(function(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Ru(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,(l=t.localStore,h=r,f=e_(l),d=BT(h.createTime),f.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return f.Qe.getBundleMetadata(t,h.id)})).then((function(t){return!!t&&t.createTime.compareTo(d)>=0})))];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(Bk(r)),i=new Vk(r,t.localStore,e.R),[4,e.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=c.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=c.sent(),[4,fC(t,a.wn,void 0)];case 12:return c.sent(),[4,function(t,e){var n=e_(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Qe.saveBundleMetadata(t,e)}))}(t.localStore,r)];case 13:return c.sent(),n._completeWith(a.progress),[3,15];case 14:return Xw("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}var l,h,f,d}))}))})(r,e,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var kC=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){switch(e.label){case 0:return this.R=GS(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return iS(this.persistence,new nS,t.initialUser,this.R)},t.prototype.qo=function(t){return new SS(CS.bs,this.R)},t.prototype.Bo=function(t){return new jS},t.prototype.terminate=function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),CC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Cu(e,t),e.prototype.initialize=function(e){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,gS(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,AC(this.Ko.syncEngine)];case 4:return n.sent(),[4,gk(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return iS(this.persistence,new nS,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new LA(e,t.asyncQueue)},e.prototype.qo=function(t){var e=JA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?bA.withCacheSize(this.cacheSizeBytes):bA.DEFAULT;return new YA(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,HS(),zS(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new jS},e}(kC),xC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Cu(e,t),e.prototype.initialize=function(e){return Nu(this,void 0,void 0,(function(){var n,r=this;return Ru(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof US?(this.sharedClientState.syncEngine={ui:mC.bind(null,n),ai:IC.bind(null,n),hi:TC.bind(null,n),fn:_C.bind(null,n),ci:gC.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Nu(r,void 0,void 0,(function(){return Ru(this,(function(e){switch(e.label){case 0:return[4,yC(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=HS();if(!US.yt(e))throw new zw(Hw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=JA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new US(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(CC),NC=function(){function t(){}return t.prototype.initialize=function(t,e){return Nu(this,void 0,void 0,(function(){var n=this;return Ru(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return tC(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dC.bind(null,this.syncEngine),[4,Tk(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Pk},t.prototype.createDatastore=function(t){var e,n,r=GS(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new WS(e));return n=t.credentials,new JS(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return tC(s.syncEngine,t,0)},o=VS.yt()?new VS:new qS,new tk(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=e,c=new Qk(n,r,i,o,s,a),u&&(c.$o=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return e=e_(t),Yw("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,nk(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Nu(this,void 0,void 0,(function(){var r;return Ru(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PC=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),DC=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new UE,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Nu(this,void 0,void 0,(function(){var t,e,n,r;return Ru(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new jk(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Nu(this,void 0,void 0,(function(){var t,e;return Ru(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Nu(this,void 0,void 0,(function(){var t,e;return Ru(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),OC=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Nu(this,void 0,void 0,(function(){var e,n=this;return Ru(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new zw(Hw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Ru(this,(function(u){switch(u.label){case 0:return n=e_(t),r=YT(n.R)+"/documents",i={documents:e.map((function(t){return HT(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){t_(!!e.found),e.found.name,e.found.updateTime;var n=zT(t,e.found.name),r=BT(e.found.updateTime),i=new K_({mapValue:{fields:e.found.fields}});return H_.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){t_(!!e.missing),t_(!!e.readTime);var n=zT(t,e.missing),r=BT(e.readTime);return H_.newNoDocument(n,r)}(e,r):Zw());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());t_(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new aT(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Nu(this,void 0,void 0,(function(){var t,e=this;return Ru(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=C_.fromPath(n);e.mutations.push(new uT(r,e.precondition(r)))})),[4,function(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return n=e_(t),r=YT(n.R)+"/documents",i={writes:e.map((function(t){return ZT(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Zw();e=u_.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new zw(Hw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?zI.updateTime(e):zI.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(u_.min()))throw new zw(Hw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zI.updateTime(e)}return zI.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),LC=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new QS(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Nu(t,void 0,void 0,(function(){var t,e,n=this;return Ru(this,(function(r){return t=new OC(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!A_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!lT(e)}return!1},t}(),MC=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=xS.UNAUTHENTICATED,this.clientId=r_.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Nu(r,void 0,void 0,(function(){return Ru(this,(function(e){switch(e.label){case 0:return Yw("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new zw(Hw.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new UE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Nu(t,void 0,void 0,(function(){var t,n;return Ru(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=kk(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i=this;return Ru(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Yw("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Nu(i,void 0,void 0,(function(){return Ru(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,oS(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function UC(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,jC(t)];case 1:return n=i.sent(),Yw("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return(n=e_(t)).asyncQueue.verifyOperationInProgress(),Yw("RemoteStore","RemoteStore received new credentials"),r=ck(n),n.Or.add(3),[4,nk(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,ek(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function jC(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Yw("FirestoreClient","Using default OfflineComponentProvider"),[4,FC(t,new kC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function qC(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Yw("FirestoreClient","Using default OnlineComponentProvider"),[4,UC(t,new NC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function VC(t){return jC(t).then((function(t){return t.persistence}))}function BC(t){return jC(t).then((function(t){return t.localStore}))}function KC(t){return qC(t).then((function(t){return t.remoteStore}))}function WC(t){return qC(t).then((function(t){return t.syncEngine}))}function HC(t){return Nu(this,void 0,void 0,(function(){var e,n;return Ru(this,(function(r){switch(r.label){case 0:return[4,qC(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Yk.bind(null,e.syncEngine),n.onUnlisten=Xk.bind(null,e.syncEngine),n)]}}))}))}function zC(t,e,n){var r=this;void 0===n&&(n={});var i=new UE;return t.asyncQueue.enqueueAndForget((function(){return Nu(r,void 0,void 0,(function(){var r;return Ru(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new PC({next:function(o){e.enqueueAndForget((function(){return Ok(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new zw(Hw.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new zw(Hw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Uk(pI(n.path),o,{includeMetadataChanges:!0,so:!0});return Dk(t,s)},[4,HC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function GC(t,e,n){var r=this;void 0===n&&(n={});var i=new UE;return t.asyncQueue.enqueueAndForget((function(){return Nu(r,void 0,void 0,(function(){var r;return Ru(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new PC({next:function(n){e.enqueueAndForget((function(){return Ok(t,s)})),n.fromCache&&"server"===r.source?i.reject(new zw(Hw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Uk(n,o,{includeMetadataChanges:!0,so:!0});return Dk(t,s)},[4,HC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var QC=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},YC=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),$C=new Map,XC=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},JC=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(xS.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ZC=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),tx=function(){function t(t){var e=this;this.currentUser=xS.UNAUTHENTICATED,this.oc=new UE,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Yw("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(Yw("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)})))}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Yw("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(t_("string"==typeof n.accessToken),new XC(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return t_(null===t||"string"==typeof t),new xS(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable((function(){return Nu(t,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}}))}))})))},t}(),ex=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=xS.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),nx=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new ex(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(xS.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t,e,n){if(!n)throw new zw(Hw.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ix(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new zw(Hw.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ox(t,e,n,r){if(!0===e&&!0===r)throw new zw(Hw.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function sx(t){if(!C_.isDocumentKey(t))throw new zw(Hw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ax(t){if(C_.isDocumentKey(t))throw new zw(Hw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ux(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Zw()}function cx(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new zw(Hw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ux(t);throw new zw(Hw.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function lx(t,e){if(e<=0)throw new zw(Hw.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hx=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new zw(Hw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zw(Hw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ox("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),fx=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hx({}),this._settingsFrozen=!1,t instanceof YC?(this._databaseId=t,this._credentials=new JC):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new zw(Hw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new YC(t.options.projectId)}(t),this._credentials=new tx(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new zw(Hw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new zw(Hw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hx(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new JC;switch(t.type){case"gapi":var e=t.client;return t_(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new nx(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new zw(Hw.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=$C.get(this))&&(Yw("ComponentProvider","Removing Datastore"),$C.delete(this),t.terminate()),Promise.resolve();var t},t}(),dx=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vx(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),px=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),vx=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,pI(r))||this)._path=r,i.type="collection",i}return Cu(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new dx(this.firestore,null,new C_(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(px);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Ic(t),rx("collection","path",e),t instanceof fx)return ax(n=d_.fromString.apply(d_,Ou([e],r))),new vx(t,null,n);if(!(t instanceof dx||t instanceof vx))throw new zw(Hw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ax(n=d_.fromString.apply(d_,Ou([t.path],r)).child(d_.fromString(e))),new vx(t.firestore,null,n)}function mx(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Ic(t),1===arguments.length&&(e=r_.u()),rx("doc","path",e),t instanceof fx)return sx(n=d_.fromString.apply(d_,Ou([e],r))),new dx(t,null,new C_(n));if(!(t instanceof dx||t instanceof vx))throw new zw(Hw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sx(n=t._path.child(d_.fromString.apply(d_,Ou([e],r)))),new dx(t.firestore,t instanceof vx?t.converter:null,new C_(n))}function yx(t,e){return t=Ic(t),e=Ic(e),(t instanceof dx||t instanceof vx)&&(e instanceof dx||e instanceof vx)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function bx(t,e){return t=Ic(t),e=Ic(e),t instanceof px&&e instanceof px&&t.firestore===e.firestore&&TI(t._query,e._query)&&t.converter===e.converter}var wx=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new QS(this,"async_queue_retry"),this.Ac=function(){var e=zS();e&&Yw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=zS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=zS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise((function(t){})):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.mc.push(t),e.vc()}))},t.prototype.vc=function(){return Nu(this,void 0,void 0,(function(){var t,e=this;return Ru(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!WE(t=n.sent()))throw t;return Yw("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return e.vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.bc=function(t){var e=this,n=this._c.then((function(){return e.Tc=!0,t().catch((function(t){throw e.Ec=t,e.Tc=!1,$w("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.Tc=!1,t}))}));return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Sk.createAndSchedule(this,t,e,n,(function(t){return r.Pc(t)}));return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&Zw()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Nu(this,void 0,void 0,(function(){var t;return Ru(this,(function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then((function(){e.gc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()}))},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function _x(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ix=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new UE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Tx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new wx,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Cu(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ax(this),this._firestoreClient.terminate()},e}(fx);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){return t._firestoreClient||Ax(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ax(t){var e,n,r,i,o,s=t._freezeSettings(),a=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new QC(n,r,i,(o=s).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling));t._firestoreClient=new MC(t._credentials,t._queue,a)}function Sx(t,e,n){var r=this,i=new UE;return t.asyncQueue.enqueue((function(){return Nu(r,void 0,void 0,(function(){var r;return Ru(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,FC(t,n)];case 1:return o.sent(),[4,UC(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===Hw.FAILED_PRECONDITION||s.code===Hw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function kx(t){if(t._initialized||t._terminated)throw new zw(Hw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cx=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new zw(Hw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new v_(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),xx=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(m_.fromBase64String(e))}catch(t){throw new zw(Hw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},t.fromUint8Array=function(e){return new t(m_.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Nx=function(t){this._methodName=t},Rx=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new zw(Hw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zw(Hw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return i_(this._lat,t._lat)||i_(this._long,t._long)},t}(),Px=/^__.*__$/,Dx=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new eT(t,this.data,this.fieldMask,e,this.fieldTransforms):new tT(t,this.data,e,this.fieldTransforms)},t}(),Ox=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new eT(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zw()}}var Mx=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return nN(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Lx(this.xc)&&Px.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Fx=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||GS(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Mx({xc:t,methodName:e,Uc:n,path:v_.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Ux(t){var e=t._freezeSettings(),n=GS(t._databaseId);return new Fx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jx(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);Jx("Data must be an object, but it was:",s,r);var a,u,c=$x(r,s);if(o.merge)a=new g_(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Zx(e,f[h],n);if(!s.contains(d))throw new zw(Hw.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");rN(l,d)||l.push(d)}a=new g_(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new Dx(new K_(c),a,u)}var qx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw 1===t.xc?t.Bc(this._methodName+"() can only appear at the top level of your update data"):t.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Nx);function Vx(t,e,n){return new Mx({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Bx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype._toFieldTransform=function(t){return new WI(t.path,new MI)},e.prototype.isEqual=function(t){return t instanceof e},e}(Nx),Kx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Cu(e,t),e.prototype._toFieldTransform=function(t){var e=Vx(this,t,!0),n=this.Kc.map((function(t){return Yx(t,e)})),r=new FI(n);return new WI(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nx),Wx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Cu(e,t),e.prototype._toFieldTransform=function(t){var e=Vx(this,t,!0),n=this.Kc.map((function(t){return Yx(t,e)})),r=new jI(n);return new WI(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Nx),Hx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Cu(e,t),e.prototype._toFieldTransform=function(t){var e=new VI(t.R,RI(t.R,this.jc));return new WI(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Nx);function zx(t,e,n,r){var i=t.Qc(1,e,n);Jx("Data must be an object, but it was:",i,r);var o=[],s=K_.empty();l_(r,(function(t,r){var a=eN(e,t,n);r=Ic(r);var u=i.Mc(a);if(r instanceof qx)o.push(a);else{var c=Yx(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new g_(o);return new Ox(s,a,i.fieldTransforms)}function Gx(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[Zx(e,r,n)],u=[i];if(o.length%2!=0)throw new zw(Hw.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Zx(e,o[c])),u.push(o[c+1]);for(var l=[],h=K_.empty(),f=a.length-1;f>=0;--f)if(!rN(l,a[f])){var d=a[f],p=u[f];p=Ic(p);var v=s.Mc(d);if(p instanceof qx)l.push(d);else{var g=Yx(p,v);null!=g&&(l.push(d),h.set(d,g))}}var m=new g_(l);return new Ox(h,m,s.fieldTransforms)}function Qx(t,e,n,r){return void 0===r&&(r=!1),Yx(n,t.Qc(r?4:3,e))}function Yx(t,e){if(Xx(t=Ic(t)))return Jx("Unsupported field value:",e,t),$x(t,e);if(t instanceof Nx)return function(t,e){if(!Lx(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Yx(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Ic(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return RI(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=a_.fromDate(t);return{timestampValue:jT(e.R,n)}}if(t instanceof a_)return n=new a_(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:jT(e.R,n)};if(t instanceof Rx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xx)return{bytesValue:qT(e.R,t._byteString)};if(t instanceof dx){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:KT(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+ux(t))}(t,e)}function $x(t,e){var n={};return h_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):l_(t,(function(t,r){var i=Yx(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Xx(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof a_||t instanceof Rx||t instanceof xx||t instanceof dx||t instanceof Nx)}function Jx(t,e,n){if(!Xx(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=ux(n);throw"an object"===r?e.Bc(t+" a custom object"):e.Bc(t+" "+r)}var i}function Zx(t,e,n){if((e=Ic(e))instanceof Cx)return e._internalPath;if("string"==typeof e)return eN(t,e);throw nN("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var tN=new RegExp("[~\\*/\\[\\]]");function eN(t,e,n){if(e.search(tN)>=0)throw nN("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Cx.bind.apply(Cx,Ou([void 0],e.split(".")))))._internalPath}catch(r){throw nN("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function nN(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new zw(Hw.INVALID_ARGUMENT,(a+=". ")+t+u)}function rN(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iN=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new dx(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(sN("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),oN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(iN);function sN(t,e){return"string"==typeof e?eN(t,e):e instanceof Cx?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aN=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),uN=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Cu(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new cN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(sN("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(iN),cN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(uN),lN=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new aN(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new cN(n._firestore,n._userDataWriter,r.key,r,new aN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zw(Hw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new cN(t._firestore,t._userDataWriter,e.doc.key,e.doc,new aN(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new cN(t._firestore,t._userDataWriter,e.doc.key,e.doc,new aN(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hN(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function hN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zw()}}function fN(t,e){return t instanceof uN&&e instanceof uN?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lN&&e instanceof lN&&t._firestore===e._firestore&&bx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){if(gI(t)&&0===t.explicitOrderBy.length)throw new zw(Hw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pN=function(){};function vN(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var gN=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Cu(e,t),e.prototype._apply=function(t){var e,n,r,i=Ux(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new zw(Hw.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){TN(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(IN(r,t,h))}a={arrayValue:{values:u}}}else a=IN(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||TN(s,o),a=Qx(n,"where",s,"in"===o||"not-in"===o);var f=X_.create(i,o,a);return function(t,e){if(e.g()){var n=yI(t);if(null!==n&&!n.isEqual(e.field))throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=mI(t);null!==r&&EN(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new zw(Hw.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new zw(Hw.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new px(t.firestore,t.converter,(e=t._query,n=o,r=e.filters.concat([n]),new fI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(pN),mN=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Cu(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new uI(e,n);return function(t,e){if(null===mI(t)){var n=yI(t);null!==n&&EN(t,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new px(t.firestore,t.converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new fI(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(pN),yN=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Cu(e,t),e.prototype._apply=function(t){return new px(t.firestore,t.converter,II(t._query,this.Jc,this.Yc))},e}(pN),bN=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Cu(e,t),e.prototype._apply=function(t){var e,n,r=_N(t,this.type,this.Xc,this.Zc);return new px(t.firestore,t.converter,(e=t._query,n=r,new fI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(pN),wN=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Cu(e,t),e.prototype._apply=function(t){var e,n,r=_N(t,this.type,this.Xc,this.Zc);return new px(t.firestore,t.converter,(e=t._query,n=r,new fI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(pN);function _N(t,e,n,r){if(n[0]=Ic(n[0]),n[0]instanceof iN)return function(t,e,n,r,i){if(!r)throw new zw(Hw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=wI(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(M_(e,r.key));else{var c=r.data.field(u.field);if(I_(c))throw new zw(Hw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new sI(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ux(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new zw(Hw.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!bI(t)&&-1!==c.indexOf("/"))throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(d_.fromString(c));if(!C_.isDocumentKey(l))throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new C_(l);a.push(M_(e,h))}else{var f=Qx(n,r,c);a.push(f)}}return new sI(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function IN(t,e,n){if("string"==typeof(n=Ic(n))){if(""===n)throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!bI(e)&&-1!==n.indexOf("/"))throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(d_.fromString(n));if(!C_.isDocumentKey(r))throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return M_(t,new C_(r))}if(n instanceof dx)return M_(t,n._key);throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ux(n)+".")}function TN(t,e){if(!Array.isArray(t)||0===t.length)throw new zw(Hw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new zw(Hw.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function EN(t,e,n){if(!n.isEqual(e))throw new zw(Hw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AN=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),x_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return w_(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(__(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Zw()}},t.prototype.convertObject=function(t,e){var n=this,r={};return l_(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Rx(w_(t.latitude),w_(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=T_(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(E_(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=b_(t);return new a_(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=d_.fromString(t);t_(pE(n));var r=new YC(n.get(1),n.get(3)),i=new C_(n.popFirst(5));return r.isEqual(e)||$w("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var kN=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Cu(e,t),e.prototype.convertBytes=function(t){return new xx(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dx(this.firestore,null,e)},e}(AN),CN=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ux(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=xN(t,this._firestore),i=SN(r.converter,e,n),o=jx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,zI.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=xN(t,this._firestore);return o="string"==typeof(e=Ic(e))||e instanceof Cx?Gx(this._dataReader,"WriteBatch.update",s._key,e,n,r):zx(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,zI.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=xN(t,this._firestore);return this._mutations=this._mutations.concat(new aT(e._key,zI.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new zw(Hw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e){if((t=Ic(t)).firestore!==e)throw new zw(Hw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NN=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Cu(e,t),e.prototype.convertBytes=function(t){return new xx(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dx(this.firestore,null,e)},e}(AN);function RN(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=cx(t,dx);var o=cx(t.firestore,Tx),s=Ux(o);return DN(o,[("string"==typeof(e=Ic(e))||e instanceof Cx?Gx(s,"updateDoc",t._key,e,n,r):zx(s,"updateDoc",t._key,e)).toMutation(t._key,zI.exists(!0))])}function PN(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Ic(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||_x(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(_x(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof dx)c=cx(t.firestore,Tx),l=pI(t._key.path),u={next:function(e){i[a]&&i[a](ON(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=cx(t,px);c=cx(d.firestore,Tx),l=d._query;var p=new NN(c);u={next:function(t){i[a]&&i[a](new lN(c,p,d,t))},error:i[a+1],complete:i[a+2]},dN(t._query)}return function(t,e,n,r){var i=this,o=new PC(r),s=new Uk(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Nu(i,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return e=Dk,[4,HC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Nu(i,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return e=Ok,[4,HC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Ex(c),l,h,u)}function DN(t,e){return function(t,e){var n=this,r=new UE;return t.asyncQueue.enqueueAndForget((function(){return Nu(n,void 0,void 0,(function(){var n;return Ru(this,(function(i){switch(i.label){case 0:return n=Jk,[4,WC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Ex(t),e)}function ON(t,e,n){var r=n.docs.get(e._key),i=new NN(t);return new uN(t,i,e._key,r,new aN(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LN=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Cu(e,t),e.prototype.get=function(e){var n=this,r=xN(e,this._firestore),i=new NN(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new uN(n._firestore,i,r._key,t._document,new aN(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ux(t)}return t.prototype.get=function(t){var e=this,n=xN(t,this._firestore),r=new kN(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Zw();var i=t[0];if(i.isFoundDocument())return new iN(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new iN(e._firestore,r,n._key,null,n.converter);throw Zw()}))},t.prototype.set=function(t,e,n){var r=xN(t,this._firestore),i=SN(r.converter,e,n),o=jx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=xN(t,this._firestore);return o="string"==typeof(e=Ic(e))||e instanceof Cx?Gx(this._dataReader,"Transaction.update",s._key,e,n,r):zx(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=xN(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){if("undefined"==typeof Uint8Array)throw new zw(Hw.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function FN(){if("undefined"==typeof atob)throw new zw(Hw.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var UN=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return FN(),new t(xx.fromBase64String(e))},t.fromUint8Array=function(e){return MN(),new t(xx.fromUint8Array(e))},t.prototype.toBase64=function(){return FN(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return MN(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),jN=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){kx(t=cx(t,Tx));var n=Ex(t),r=t._freezeSettings(),i=new NC;return Sx(n,i,new CC(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){kx(t=cx(t,Tx));var e=Ex(t),n=t._freezeSettings(),r=new NC;return Sx(e,r,new xC(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new zw(Hw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new UE;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Nu(e,void 0,void 0,(function(){var e;return Ru(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return VE.yt()?(e=t+"main",[4,VE.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(JA(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),qN=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof YC||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Xw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=cx(t,fx))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Xw("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Hu(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new zw(Hw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new ZC(new XC(o,new xS(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Nu(e,void 0,void 0,(function(){var e,n;return Ru(this,(function(r){switch(r.label){case 0:return[4,VC(t)];case 1:return e=r.sent(),[4,KC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=e_(i),o.Or.delete(0),ek(o))]}var i,o}))}))}))}(Ex(cx(this._delegate,Tx)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Nu(e,void 0,void 0,(function(){var e,n;return Ru(this,(function(r){switch(r.label){case 0:return[4,VC(t)];case 1:return e=r.sent(),[4,KC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return(e=e_(t)).Or.add(0),[4,nk(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ex(cx(this._delegate,Tx)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ox("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new UE;return t.asyncQueue.enqueueAndForget((function(){return Nu(e,void 0,void 0,(function(){var e;return Ru(this,(function(r){switch(r.label){case 0:return e=iC,[4,WC(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ex(cx(this._delegate,Tx)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new PC(e);return t.asyncQueue.enqueueAndForget((function(){return Nu(n,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return e=function(t,e){e_(t).Gr.add(e),e.next()},[4,HC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Nu(n,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return e=function(t,e){e_(t).Gr.delete(e)},[4,HC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Ex(e=cx(e,Tx)),_x(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new zw(Hw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new tR(this,gx(this._delegate,t))}catch(t){throw zN(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new HN(this,mx(this._delegate,t))}catch(t){throw zN(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new XN(this,function(t,e){if(t=cx(t,fx),rx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new zw(Hw.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new px(t,null,(n=e,new fI(d_.emptyPath(),n)));var n}(this._delegate,t))}catch(t){throw zN(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new UE;return t.asyncQueue.enqueueAndForget((function(){return Nu(n,void 0,void 0,(function(){var n;return Ru(this,(function(i){switch(i.label){case 0:return[4,(o=t,qC(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new LC(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(Ex(e=this._delegate),(function(r){return function(e){return t(new BN(n,e))}(new LN(e,r))}))},t.prototype.batch=function(){var t=this;return Ex(this._delegate),new KN(new CN(this._delegate,(function(e){return DN(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new zw(Hw.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new zw(Hw.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),VN=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Cu(e,t),e.prototype.convertBytes=function(t){return new UN(new xx(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return HN.nu(e,this.firestore,null)},e}(AN);var BN=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new VN(t)}return t.prototype.get=function(t){var e=this,n=eR(t);return this._delegate.get(n).then((function(t){return new YN(e._firestore,new uN(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=eR(t);return n?(ix("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=eR(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Ou([s,e,n],i)),this},t.prototype.delete=function(t){var e=eR(t);return this._delegate.delete(e),this},t}(),KN=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=eR(t);return n?(ix("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=eR(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Ou([s,e,n],i)),this},t.prototype.delete=function(t){var e=eR(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),WN=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new cN(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new $N(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new VN(e),n),i.set(n,o)),o},t}();WN.iu=new WeakMap;var HN=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VN(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new zw(Hw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new dx(n._delegate,r,new C_(e)))},t.nu=function(e,n,r){return new t(n,new dx(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new tR(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new tR(this.firestore,gx(this._delegate,t))}catch(t){throw zN(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Ic(t))instanceof dx&&yx(this._delegate,t)},t.prototype.set=function(t,e){e=ix("DocumentReference.set",e);try{return function(t,e,n){t=cx(t,dx);var r=cx(t.firestore,Tx),i=SN(t.converter,e,n);return DN(r,[jx(Ux(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,zI.none())])}(this._delegate,t,e)}catch(t){throw zN(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?RN(this._delegate,t):RN.apply(void 0,Ou([this._delegate,t,e],n))}catch(t){throw zN(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return DN(cx((t=this._delegate).firestore,Tx),[new aT(t._key,zI.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=GN(e),i=QN(e,(function(e){return new YN(t.firestore,new uN(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return PN(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cx(t,dx);var e=cx(t.firestore,Tx),n=Ex(e),r=new NN(e);return function(t,e){var n=this,r=new UE;return t.asyncQueue.enqueueAndForget((function(){return Nu(n,void 0,void 0,(function(){var n;return Ru(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i;return Ru(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=e_(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new zw(Hw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=kk(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,BC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new uN(e,r,t._key,n,new aN(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cx(t,dx);var e=cx(t.firestore,Tx);return zC(Ex(e),t._key,{source:"server"}).then((function(n){return ON(e,t,n)}))}(this._delegate):function(t){t=cx(t,dx);var e=cx(t.firestore,Tx);return zC(Ex(e),t._key).then((function(n){return ON(e,t,n)}))}(this._delegate)).then((function(t){return new YN(e.firestore,new uN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(WN.su(this.firestore,e)):this._delegate.withConverter(null))},t}();function zN(t,e,n){return t.message=t.message.replace(e,n),t}function GN(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!_x(r))return r}return{}}function QN(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=_x(t[0])?t[0]:_x(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var YN=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new HN(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return fN(this._delegate,t._delegate)},t}(),$N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cu(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(YN),XN=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VN(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,vN(this._delegate,(o=r,s=i=n,a=sN("where",e),new gN(a,s,o))))}catch(i){throw zN(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,vN(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=sN("orderBy",t);return new mN(r,n)}(e,n)))}catch(t){throw zN(t,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,vN(this._delegate,(lx("limit",n=e),new yN("limit",n,"F"))))}catch(t){throw zN(t,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,vN(this._delegate,(lx("limitToLast",n=e),new yN("limitToLast",n,"L"))))}catch(t){throw zN(t,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,vN(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bN("startAt",t,!0)}.apply(void 0,e)))}catch(t){throw zN(t,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,vN(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bN("startAfter",t,!1)}.apply(void 0,e)))}catch(t){throw zN(t,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,vN(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wN("endBefore",t,!0)}.apply(void 0,e)))}catch(t){throw zN(t,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,vN(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wN("endAt",t,!1)}.apply(void 0,e)))}catch(t){throw zN(t,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return bx(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cx(t,px);var e=cx(t.firestore,Tx),n=Ex(e),r=new NN(e);return function(t,e){var n=this,r=new UE;return t.asyncQueue.enqueueAndForget((function(){return Nu(n,void 0,void 0,(function(){var n;return Ru(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o,s,a;return Ru(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,dS(t,e,!0)];case 1:return a=u.sent(),r=new Hk(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=kk(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,BC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new lN(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cx(t,px);var e=cx(t.firestore,Tx),n=Ex(e),r=new NN(e);return GC(n,t._query,{source:"server"}).then((function(n){return new lN(e,r,t,n)}))}(this._delegate):function(t){t=cx(t,px);var e=cx(t.firestore,Tx),n=Ex(e),r=new NN(e);return dN(t._query),GC(n,t._query).then((function(n){return new lN(e,r,t,n)}))}(this._delegate)).then((function(t){return new ZN(e.firestore,new lN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=GN(e),i=QN(e,(function(e){return new ZN(t.firestore,new lN(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return PN(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(WN.su(this.firestore,e)):this._delegate.withConverter(null))},t}(),JN=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new $N(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ZN=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new XN(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new $N(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new JN(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new $N(n._firestore,r))}))},t.prototype.isEqual=function(t){return fN(this._delegate,t._delegate)},t}(),tR=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Cu(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new HN(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new HN(this.firestore,void 0===t?mx(this._delegate):mx(this._delegate,t))}catch(t){throw zN(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=cx(e.firestore,Tx),i=mx(e),o=SN(e.converter,n),DN(r,[jx(Ux(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,zI.exists(!1))]).then((function(){return i}))).then((function(t){return new HN(s.firestore,t)}))},e.prototype.isEqual=function(t){return yx(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(WN.su(this.firestore,t)):this._delegate.withConverter(null))},e}(XN);function eR(t){return cx(t,dx)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nR=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Cx.bind.apply(Cx,Ou([void 0],t)))}return t.documentId=function(){return new t(v_.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Ic(t))instanceof Cx&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),rR=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Bx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new qx("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kx("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wx("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new Hx("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){return e=this._delegate,n=t,r=Ex(e=cx(e,Tx)),i=new Ix,function(t,e,n,r){var i,o,s,a=this,u=(i=n,o=GS(e),s=function(t,e){if(t instanceof Uint8Array)return RC(t,e);if(t instanceof ArrayBuffer)return RC(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new DC(s,o));t.asyncQueue.enqueueAndForget((function(){return Nu(a,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return e=SC,[4,WC(t)];case 1:return e.apply(void 0,[n.sent(),u,r]),[2]}}))}))}))}(r,e._databaseId,n,i),i;var e,n,r,i}function oR(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return Nu(n,void 0,void 0,(function(){var n;return Ru(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=e_(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Qe.getNamedQuery(t,e)}))},[4,BC(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Ex(e=cx(e,Tx)),n).then((function(t){return t?new px(e,null,t.query):null}))).then((function(t){return t?new XN(r,t):null}))}var sR,aR,uR={Firestore:qN,GeoPoint:Rx,Timestamp:a_,Blob:UN,Transaction:BN,WriteBatch:KN,DocumentReference:HN,DocumentSnapshot:YN,Query:XN,QueryDocumentSnapshot:$N,QuerySnapshot:ZN,CollectionReference:tR,FieldPath:nR,FieldValue:rR,setLogLevel:function(t){var e;e=t,Gw.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(sR=Jc).INTERNAL.registerComponent(new Tc("firestore",(function(t){return function(t,e){return new qN(t,new Tx(t,e),new jN)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},uR))),sR.registerVersion("@firebase/firestore","2.3.2"),(aR=qN).prototype.loadBundle=iR,aR.prototype.namedQuery=oR;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lR=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Cu(e,t),e}(Error);var hR=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Nu(this,void 0,void 0,(function(){var t;return Ru(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return Nu(this,void 0,void 0,(function(){var t,e;return Ru(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var dR=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return fR(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?fR(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pR=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new dR,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new hR(e,n),this.cancelAllRequests=new Promise((function(t){s.deleteService=function(){return t()}}));try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o;return Ru(this,(function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return Nu(this,void 0,void 0,(function(){var t;return Ru(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f,d;return Ru(this,(function(p){switch(p.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=p.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new lR("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(a),c=u.timer,l=u.promise,[4,Promise.race([vR(c,this.postJSON(r,i,o)),l,vR(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new lR("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!cR[a])return new lR("internal","internal");r=cR[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new lR(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new lR("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new lR("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function vR(t,e){return Nu(this,void 0,void 0,(function(){var n;return Ru(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){return Array.prototype.slice.call(t)}function mR(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function yR(t,e,n){var r,i=new Promise((function(i,o){mR(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function bR(t,e,n){var r=yR(t,e,n);return r.then((function(t){if(t)return new AR(t,r.request)}))}function wR(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function _R(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return yR(this[e],r,arguments)})}))}function IR(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function TR(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return bR(this[e],r,arguments)})}))}function ER(t){this._index=t}function AR(t,e){this._cursor=t,this._request=e}function SR(t){this._store=t}function kR(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function CR(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new kR(n)}function xR(t){this._db=t}function NR(t,e,n){var r=yR(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(t){n&&n(new CR(i.result,t.oldVersion,i.transaction))}),r.then((function(t){return new xR(t)}))}function RR(t){return yR(indexedDB,"deleteDatabase",[t])}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t,e){var n={Functions:pR};t.INTERNAL.registerComponent(new Tc("functions",(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new pR(i,o,a,s,r,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Jc,fetch.bind(self)),Jc.registerVersion("@firebase/functions","0.6.9"),wR(ER,"_index",["name","keyPath","multiEntry","unique"]),_R(ER,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),TR(ER,"_index",IDBIndex,["openCursor","openKeyCursor"]),wR(AR,"_cursor",["direction","key","primaryKey","value"]),_R(AR,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(AR.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),mR(e._request).then((function(t){if(t)return new AR(t,e._request)}))}))})})),SR.prototype.createIndex=function(){return new ER(this._store.createIndex.apply(this._store,arguments))},SR.prototype.index=function(){return new ER(this._store.index.apply(this._store,arguments))},wR(SR,"_store",["name","keyPath","indexNames","autoIncrement"]),_R(SR,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),TR(SR,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),IR(SR,"_store",IDBObjectStore,["deleteIndex"]),kR.prototype.objectStore=function(){return new SR(this._tx.objectStore.apply(this._tx,arguments))},wR(kR,"_tx",["objectStoreNames","mode"]),IR(kR,"_tx",IDBTransaction,["abort"]),CR.prototype.createObjectStore=function(){return new SR(this._db.createObjectStore.apply(this._db,arguments))},wR(CR,"_db",["name","version","objectStoreNames"]),IR(CR,"_db",IDBDatabase,["deleteObjectStore","close"]),xR.prototype.transaction=function(){return new kR(this._db.transaction.apply(this._db,arguments))},wR(xR,"_db",["name","version","objectStoreNames"]),IR(xR,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[SR,ER].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=gR(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[ER,SR].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var PR,DR=((PR={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',PR["not-registered"]="Firebase Installation is not registered.",PR["installation-not-found"]="Firebase Installation not found.",PR["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',PR["app-offline"]="Could not process request. Application offline.",PR["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",PR),OR=new nc("installations","Installations",DR);function LR(t){return t instanceof ec&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function FR(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function UR(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,OR.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function jR(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function qR(t,e){var n=e.refreshToken,r=jR(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function VR(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function BR(t,e){var n=e.fid;return Nu(this,void 0,void 0,(function(){var e,r,i,o,s,a;return Ru(this,(function(u){switch(u.label){case 0:return e=MR(t),r=jR(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.26"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,VR((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:FR(a.authToken)}];case 3:return[4,UR("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var WR=/^[cdef][\w-]{21}$/;function HR(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Ou([],Du(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return WR.test(e)?e:""}catch(t){return""}}function zR(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GR=new Map;function QR(t,e){var n=zR(t);YR(n,e),function(t,e){var n=XR();n&&n.postMessage({key:t,fid:e});JR()}(n,e)}function YR(t,e){var n,r,i=GR.get(t);if(i)try{for(var o=Pu(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var $R=null;function XR(){return!$R&&"BroadcastChannel"in self&&(($R=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){YR(t.data.key,t.data.fid)}),$R}function JR(){0===GR.size&&$R&&($R.close(),$R=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZR,tP="firebase-installations-store",eP=null;function nP(){return eP||(eP=NR("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(tP)}}))),eP}function rP(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s;return Ru(this,(function(a){switch(a.label){case 0:return n=zR(t),[4,nP()];case 1:return r=a.sent(),i=r.transaction(tP,"readwrite"),[4,(o=i.objectStore(tP)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||QR(t,e.fid),[2,e]}}))}))}function iP(t){return Nu(this,void 0,void 0,(function(){var e,n,r;return Ru(this,(function(i){switch(i.label){case 0:return e=zR(t),[4,nP()];case 1:return n=i.sent(),[4,(r=n.transaction(tP,"readwrite")).objectStore(tP).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function oP(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Ru(this,(function(u){switch(u.label){case 0:return n=zR(t),[4,nP()];case 1:return r=u.sent(),i=r.transaction(tP,"readwrite"),[4,(o=i.objectStore(tP)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||QR(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){return Nu(this,void 0,void 0,(function(){var e,n,r;return Ru(this,(function(i){switch(i.label){case 0:return[4,oP(t,(function(n){var r=function(t){return cP(t||{fid:HR(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(OR.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,BR(t,e)];case 1:return n=i.sent(),[2,rP(t,n)];case 2:return LR(r=i.sent())&&409===r.customData.serverCode?[4,iP(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,rP(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:aP(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function aP(t){return Nu(this,void 0,void 0,(function(){var e,n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return[4,uP(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,KR(100)];case 3:return o.sent(),[4,uP(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,sP(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function uP(t){return oP(t,(function(t){if(!t)throw OR.create("installation-not-found");return cP(t)}))}function cP(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function lP(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Nu(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return Ru(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return MR(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=qR(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.26"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,VR((function(){return fetch(t,a)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,FR(c)];case 3:return[4,UR("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function hP(t,e){return void 0===e&&(e=!1),Nu(this,void 0,void 0,(function(){var n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return[4,oP(t.appConfig,(function(r){if(!dP(r))throw OR.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return[4,fP(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,KR(100)];case 3:return i.sent(),[4,fP(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,hP(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw OR.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return xu(xu({},t),{authToken:e})}(r);return n=function(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,lP(t,e)];case 1:return n=o.sent(),i=xu(xu({},e),{authToken:n}),[4,rP(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!LR(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,iP(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=xu(xu({},e),{authToken:{requestStatus:0}}),[4,rP(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function fP(t){return oP(t,(function(t){if(!dP(t))throw OR.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?xu(xu({},t),{authToken:{requestStatus:0}}):t}))}function dP(t){return void 0!==t&&2===t.registrationStatus}function pP(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return[4,sP(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o;return Ru(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return MR(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=qR(t,e),i={method:"DELETE",headers:r},[4,VR((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,UR("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gP(t,e){var n=t.appConfig;return function(t,e){XR();var n=zR(t),r=GR.get(n);r||(r=new Set,GR.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=zR(t),r=GR.get(n);r&&(r.delete(e),0===r.size&&GR.delete(n),JR())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return OR.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new Tc("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw mP("App Configuration");if(!t.name)throw mP("App Name");try{for(var r=Pu(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw mP(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t){return Nu(this,void 0,void 0,(function(){var e,n,r;return Ru(this,(function(i){switch(i.label){case 0:return[4,sP(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):hP(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Nu(this,void 0,void 0,(function(){return Ru(this,(function(n){switch(n.label){case 0:return[4,pP(t.appConfig)];case 1:return n.sent(),[4,hP(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Nu(this,void 0,void 0,(function(){var e,n;return Ru(this,(function(r){switch(r.label){case 0:return[4,oP(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw OR.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw OR.create("app-offline");case 3:return[4,vP(e,n)];case 4:return r.sent(),[4,iP(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return gP(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.26")}(Jc);var yP,bP,wP=((ZR={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ZR["only-available-in-window"]="This method is available in a Window context.",ZR["only-available-in-sw"]="This method is available in a service worker context.",ZR["permission-default"]="The notification permission was not granted and dismissed instead.",ZR["permission-blocked"]="The notification permission was not granted and blocked instead.",ZR["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",ZR["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",ZR["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",ZR["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",ZR["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",ZR["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",ZR["token-update-no-token"]="FCM returned no token when updating the user to push.",ZR["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",ZR["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",ZR["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",ZR["invalid-vapid-key"]="The public VAPID key must be a string.",ZR["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",ZR),_P=new nc("messaging","Messaging",wP),IP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function TP(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Ou([],Du(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function EP(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(bP=yP||(yP={})).PUSH_RECEIVED="push-received",bP.NOTIFICATION_CLICKED="notification-clicked";function AP(t){return Nu(this,void 0,void 0,(function(){var e,n,r=this;return Ru(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,NR("fcm_token_details_db",5,(function(e){return Nu(r,void 0,void 0,(function(){var r,i,o,s;return Ru(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=e.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,r.clear()];case 2:if(a.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:TP(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:TP(o.auth),p256dh:TP(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:TP(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,RR("fcm_token_details_db")];case 4:return i.sent(),[4,RR("fcm_vapid_details_db")];case 5:return i.sent(),[4,RR("undefined")];case 6:return i.sent(),[2,SP(n)?n:null]}}))}))}function SP(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kP="firebase-messaging-store",CP=null;function xP(){return CP||(CP=NR("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(kP)}}))),CP}function NP(t){return Nu(this,void 0,void 0,(function(){var e,n,r;return Ru(this,(function(i){switch(i.label){case 0:return e=DP(t),[4,xP()];case 1:return[4,i.sent().transaction(kP).objectStore(kP).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,AP(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,RP(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function RP(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return n=DP(t),[4,xP()];case 1:return r=o.sent(),[4,(i=r.transaction(kP,"readwrite")).objectStore(kP).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function PP(t){return Nu(this,void 0,void 0,(function(){var e,n,r;return Ru(this,(function(i){switch(i.label){case 0:return e=DP(t),[4,xP()];case 1:return n=i.sent(),[4,(r=n.transaction(kP,"readwrite")).objectStore(kP).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function DP(t){return t.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Ru(this,(function(u){switch(u.label){case 0:return[4,UP(t)];case 1:n=u.sent(),r=jP(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(FP(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),_P.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,_P.create("token-subscribe-failed",{errorInfo:a});if(!o.token)throw _P.create("token-subscribe-no-token");return[2,o.token]}}))}))}function LP(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Ru(this,(function(u){switch(u.label){case 0:return[4,UP(t)];case 1:n=u.sent(),r=jP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(FP(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),_P.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,_P.create("token-update-failed",{errorInfo:a});if(!o.token)throw _P.create("token-update-no-token");return[2,o.token]}}))}))}function MP(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o,s;return Ru(this,(function(a){switch(a.label){case 0:return[4,UP(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(FP(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw o=i.error.message,_P.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw s=a.sent(),_P.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function FP(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function UP(t){var e=t.appConfig,n=t.installations;return Nu(this,void 0,void 0,(function(){var t;return Ru(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function jP(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==IP&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o,s;return Ru(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw _P.create("permission-blocked");return[4,WP(e,n)];case 1:return r=a.sent(),[4,NP(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:TP(r.getKey("auth")),p256dh:TP(r.getKey("p256dh"))},i?[3,3]:[2,KP(t,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,d=c.p256dh===u.p256dh,l&&h&&f&&d)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,MP(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,KP(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,BP({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,d;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function VP(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return[4,NP(t)];case 1:return(n=i.sent())?[4,MP(t,n.token)]:[3,4];case 2:return i.sent(),[4,PP(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function BP(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o;return Ru(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,LP(e,t)];case 1:return r=s.sent(),i=xu(xu({},t),{token:r,createTime:Date.now()}),[4,RP(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,VP(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function KP(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return[4,OP(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,RP(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function WP(t,e){return Nu(this,void 0,void 0,(function(){var n;return Ru(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:EP(e)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function HP(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GP=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw _P.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Nu(this,void 0,void 0,(function(){var n;return Ru(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,NP(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:IP,r.label=2;case 2:return[2,qP(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return VP(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw _P.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw _P.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw _P.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw _P.create("only-available-in-window")},t.prototype.onMessage=function(){throw _P.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw _P.create("only-available-in-window")},t.prototype.onPush=function(t){return Nu(this,void 0,void 0,(function(){var e,n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,XP()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,$P(n,e)]:(r=!1,e.notification?[4,JP(QP(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,zP(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Nu(this,void 0,void 0,(function(){var r;return Ru(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,VP(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,NP(this.firebaseDependencies)];case 3:return r=i.sent(),[4,VP(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,qP(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:IP)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Nu(this,void 0,void 0,(function(){var r,i,o,s,a;return Ru(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return HP(t.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,YP(o)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=u.sent(),[4,zP(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(r.messageType=yP.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function QP(t){var e,n=xu({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function YP(t){return Nu(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return Ru(this,(function(u){switch(u.label){case 0:return[4,XP()];case 1:e=u.sent();try{for(n=Pu(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(t){s={error:t}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function $P(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=yP.PUSH_RECEIVED;try{for(var i=Pu(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function XP(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function JP(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var ZP=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Nu(this,void 0,void 0,(function(){var e,n;return Ru(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===yP.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),HP(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw _P.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,qP(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=IP),[2]}))}))},t.prototype.updateSwReg=function(t){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw _P.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Nu(this,void 0,void 0,(function(){var t,e;return Ru(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),_P.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,VP(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Nu(this,void 0,void 0,(function(){var t;return Ru(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?_P.create("permission-blocked"):_P.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw _P.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw _P.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw _P.create("invalid-sw-registration");if(this.swRegistration)throw _P.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw _P.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw _P.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Nu(this,void 0,void 0,(function(){var n;return Ru(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case yP.NOTIFICATION_CLICKED:return"notification_open";case yP.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function tD(t){return _P.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eD={isSupported:nD};function nD(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Jc.INTERNAL.registerComponent(new Tc("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw tD("App Configuration Object");if(!t.name)throw tD("App Name");var r=t.options;try{for(var i=Pu(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw tD(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!nD())throw _P.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new GP(n):new ZP(n)}),"PUBLIC").setServiceProps(eD));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rD=function(t){function e(n,r){var i=t.call(this,iD(n),"Firebase Storage: "+r+" ("+iD(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Cu(e,t),e.prototype._codeEquals=function(t){return iD(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(ec);function iD(t){return"storage/"+t}function oD(){return new rD("unknown","An unknown error occurred, please check the error payload for server response.")}function sD(){return new rD("canceled","User canceled the upload/download.")}function aD(){return new rD("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function uD(t){return new rD("invalid-argument",t)}function cD(){return new rD("app-deleted","The Firebase app was deleted.")}function lD(t){return new rD("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hD(t,e){return new rD("invalid-format","String does not match format '"+t+"': "+e)}function fD(t){throw new rD("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dD={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},pD=function(t,e){this.data=t,this.contentType=e||null};function vD(t,e){switch(t){case dD.RAW:return new pD(gD(e));case dD.BASE64:case dD.BASE64URL:return new pD(mD(t,e));case dD.DATA_URL:return new pD((n=new yD(e)).base64?mD(dD.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw hD(dD.DATA_URL,"Malformed data URL.")}return gD(e)}(n.rest),function(t){return new yD(t).contentType}(e))}var n;throw oD()}function gD(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function mD(t,e){switch(t){case dD.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw hD(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case dD.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw hD(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw hD(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var yD=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw hD(dD.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var bD,wD,_D={STATE_CHANGED:"state_changed"},ID={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TD(t){switch(t){case"running":case"pausing":case"canceling":return ID.RUNNING;case"paused":return ID.PAUSED;case"success":return ID.SUCCESS;case"canceled":return ID.CANCELED;case"error":default:return ID.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(wD=bD||(bD={}))[wD.NO_ERROR=0]="NO_ERROR",wD[wD.NETWORK_ERROR=1]="NETWORK_ERROR",wD[wD.ABORT=2]="ABORT";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ED=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=bD.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=bD.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=bD.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw fD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw fD("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw fD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw fD("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),AD=function(){function t(){}return t.prototype.createXhrIo=function(){return new ED},t}(),SD=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(n){return new t(e,"")}if(""===r.path)return r;throw new rD("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new t(f,d),l.postModify(r);break}}if(null==r)throw function(t){return new rD("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),kD=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){return"string"==typeof t||t instanceof String}function xD(t){return ND()&&t instanceof Blob}function ND(){return"undefined"!=typeof Blob}function RD(t,e,n,r){if(r<e)throw uD("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw uD("Invalid value for '"+t+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function DD(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OD=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(t){o(t)}else null!==s?((r=oD()).serverResponse=s.getResponseText(),t.errorCallback_?o(t.errorCallback_(s,r)):o(r)):n.canceled?o(r=t.appDelete_?cD():sD()):o(r=new rD("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new LD(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(h,a())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,Ou([null,t],e));else{var i;a()||o?c.call.apply(c,Ou([null,t],e)):(r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(t){f||(f=!0,u||(null!==i?(t||(s=2),clearTimeout(i),l(0)):t||(s=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(e,n){if(n)e(!1,new LD(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===bD.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new LD(s,n))}else{var a=n.getErrorCode()===bD.ABORT;e(!1,new LD(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),LD=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function MD(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function FD(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=MD();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(ND())return new Blob(t);throw new rD("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var UD=function(){function t(t,e){var n=0,r="";xD(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(xD(this.data_)){var r=this.data_,i=(s=e,a=n,(o=r).webkitSlice?o.webkitSlice(s,a):o.mozSlice?o.mozSlice(s,a):o.slice?o.slice(s,a):null);return null===i?null:new t(i)}var o,s,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ND()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(FD.apply(null,r))}var i=e.map((function(t){return CD(t)?vD(dD.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e){return e}var BD=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||VD},KD=null;function WD(){if(KD)return KD;var t=[];t.push(new BD("bucket")),t.push(new BD("generation")),t.push(new BD("metageneration")),t.push(new BD("name","fullPath",!0));var e=new BD("name");e.xform=function(t,e){return function(t){return!CD(t)||t.length<2?t:qD(t)}(e)},t.push(e);var n=new BD("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new BD("timeCreated")),t.push(new BD("updated")),t.push(new BD("md5Hash",null,!0)),t.push(new BD("cacheControl",null,!0)),t.push(new BD("contentDisposition",null,!0)),t.push(new BD("contentEncoding",null,!0)),t.push(new BD("contentLanguage",null,!0)),t.push(new BD("contentType",null,!0)),t.push(new BD("metadata","customMetadata",!0)),KD=t}function HD(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new SD(n,r);return e._makeStorageReference(i)}})}(r,t),r}function zD(t,e,n){var r=jD(e);return null===r?null:HD(t,r,n)}function GD(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t,e,n){var r=jD(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new SD(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];a=t._makeStorageReference(new SD(e,l.name)),r.items.push(a)}return r}(t,e,r)}var YD=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){if(!t)throw oD()}function XD(t,e){return function(n,r){var i=zD(t,r,e);return $D(null!==i),i}}function JD(t,e){return function(n,r){var i=zD(t,r,e);return $D(null!==i),function(t,e,n){var r=jD(e);if(null===r)return null;if(!CD(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return PD("/b/"+o(r)+"/o/"+o(i),n)+DD({alt:"media",token:e})}))[0]}(i,r,t.host)}}function ZD(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=e.getResponseText().includes("Firebase App Check token is invalid")?new rD("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new rD("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new rD("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new rD("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function tO(t){var e=ZD(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new rD("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function eO(t,e,n){var r=PD(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new YD(r,"GET",XD(t,n),i);return o.errorHandler=tO(e),o}function nO(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=PD(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new YD(s,"GET",function(t,e){return function(n,r){var i=QD(t,e,r);return $D(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=ZD(e),u}function rO(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var iO=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function oO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){$D(!1)}return $D(!!n&&-1!==(e||["active"]).indexOf(n)),n}function sO(t,e,n,r,i,o,s,a){var u=new iO(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new rD("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw aD();var v=e.maxUploadRetryTime,g=new YD(n,"POST",(function(t,n){var i,s=oO(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?XD(e,o)(t,n):null,new iO(a,c,"final"===s,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=a||null,g.errorHandler=ZD(t),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aO=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cO=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=WD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=rO(e,r,i),a={name:s.fullPath},u=PD(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=GD(s,n),h=t.maxUploadRetryTime,f=new YD(u,"POST",(function(t){var e;oO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){$D(!1)}return $D(CD(e)),e}),h);return f.urlParams=a,f.headers=c,f.body=l,f.errorHandler=ZD(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new YD(n,"POST",(function(t){var e=oO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){$D(!1)}n||$D(!1);var i=Number(n);return $D(!isNaN(i)),new iO(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=ZD(e),o}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new iO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=sO(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=eO(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=rO(e,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+GD(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=UD.getBlob(c,r,l);if(null===h)throw aD();var f={name:u.fullPath},d=PD(o,t.host),p=t.maxUploadRetryTime,v=new YD(d,"POST",XD(t,n),p);return v.urlParams=f,v.headers=s,v.body=h.uploadData(),v.errorHandler=ZD(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=sD(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=TD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new aO(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(TD(this._state)){case ID.SUCCESS:uO(this._resolve.bind(null,this.snapshot))();break;case ID.CANCELED:case ID.ERROR:uO(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(TD(this._state)){case ID.RUNNING:case ID.PAUSED:t.next&&uO(t.next.bind(t,this.snapshot))();break;case ID.SUCCESS:t.complete&&uO(t.complete.bind(t))();break;case ID.CANCELED:case ID.ERROR:t.error&&uO(t.error.bind(t,this._error))();break;default:t.error&&uO(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),lO=function(){function t(t,e){this._service=t,this._location=e instanceof SD?e:SD.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new SD(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return qD(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new SD(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw lD(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){var e={prefixes:[],items:[]};return fO(t,e).then((function(){return e}))}function fO(t,e,n){return Nu(this,void 0,void 0,(function(){var r,i,o;return Ru(this,(function(s){switch(s.label){case 0:return[4,dO(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,fO(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function dO(t,e){return Nu(this,void 0,void 0,(function(){var n,r;return Ru(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&RD("options.maxResults",1,1e3,e.maxResults),n=e||{},r=nO(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function pO(t,e){return Nu(this,void 0,void 0,(function(){var n;return Ru(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=PD(e.fullServerUrl(),t.host),o=GD(n,r),s=t.maxOperationRetryTime,a=new YD(i,"PATCH",XD(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=tO(e),a}(t.storage,t._location,e,WD()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function vO(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=PD(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new YD(r,"GET",JD(t,n),i);return o.errorHandler=tO(e),o}(t.storage,t._location,WD()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new rD("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function gO(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=PD(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,i=new YD(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=tO(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function mO(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new SD(t._location.bucket,n);return new lO(t.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){return/^[A-Za-z]+:\/\//.test(t)}function bO(t,e){if(t instanceof IO){var n=t;if(null==n._bucket)throw new rD("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new lO(n,n._bucket);return null!=e?bO(r,e):r}if(void 0!==e){if(e.includes(".."))throw uD('`path` param cannot contain ".."');return mO(t,e)}return t}function wO(t,e){if(e&&yO(e)){if(t instanceof IO)return new lO(t,e);throw uD("To use ref(service, url), the first argument must be a Storage instance.")}return bO(t,e)}function _O(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:SD.makeFromBucketSpec(n,t)}var IO=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?SD.makeFromBucketSpec(i,this._host):_O(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=SD.makeFromBucketSpec(this._url,t):this._bucket=_O(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){RD("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){RD("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Nu(this,void 0,void 0,(function(){var t,e;return Ru(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Nu(this,void 0,void 0,(function(){var t;return Ru(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new lO(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new kD(cD());var i=function(t,e,n,r,i,o){var s=DD(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new OD(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Nu(this,void 0,void 0,(function(){var e,n,r;return Ru(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new cO(t,new UD(e),n)}(t=Ic(t),e,n)}function EO(t){return function(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=eO(t.storage,t._location,WD()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Ic(t))}function AO(t,e){return wO(t=Ic(t),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var SO=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),kO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new SO(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new SO(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new SO(t,i,i._ref))}:{next:e.next?function(t){return e.next(new SO(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),CO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new xO(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new xO(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),xO=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return mO(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new kO(TO(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=dD.RAW),this._throwIfRoot("putString");var r=vD(e,t),i=xu({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new kO(new cO(this._delegate,new UD(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,hO(t=Ic(t))).then((function(t){return new CO(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return dO(t=Ic(t),e)}(this._delegate,t||void 0).then((function(t){return new CO(t,e.storage)}))},t.prototype.getMetadata=function(){return EO(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return pO(t=Ic(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return vO(Ic(this._delegate))},t.prototype.delete=function(){return this._throwIfRoot("delete"),gO(Ic(this._delegate))},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw lD(t)},t}(),NO=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(yO(t))throw uD("ref() expected a child path but got a URL, use refFromURL instead.");return new xO(AO(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!yO(t))throw uD("refFromURL() expected a full URL but got a child path, use ref() instead.");try{SD.makeFromUrl(t,this._delegate.host)}catch(t){throw uD("refFromUrl() expected a valid full URL but got an invalid one.")}return new xO(AO(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new NO(r,new IO(r,i,o,new AD,n,Jc.SDK_VERSION))}!function(t){var e={TaskState:ID,TaskEvent:_D,StringFormat:dD,Storage:IO,Reference:xO};t.INTERNAL.registerComponent(new Tc("storage",RO,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.5.2")}(Jc);var PO,DO,OO,LO=((PO={})["trace started"]="Trace {$traceName} was started before.",PO["trace stopped"]="Trace {$traceName} is not running.",PO["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",PO["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",PO["no window"]="Window is not available.",PO["no app id"]="App id is not available.",PO["no project id"]="Project id is not available.",PO["no api key"]="Api key is not available.",PO["invalid cc log"]="Attempted to queue invalid cc event",PO["FB not default"]="Performance can only start when Firebase app instance is the default one.",PO["RC response not ok"]="RC response is not ok",PO["invalid attribute name"]="Attribute name {$attributeName} is invalid.",PO["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",PO["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",PO["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",PO),MO=new nc("performance","Performance",LO),FO=new Mc("Performance");FO.logLevel=Cc.INFO;var UO,jO=function(){function t(t){if(this.window=t,!t)throw MO.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Ju()||(FO.info("IndexedDB is not supported by current browswer"),!1):(FO.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===DO&&(DO=new t(OO)),DO},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qO(t,e){var n=t.length-e.length;if(n<0||n>1)throw MO.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VO,BO,KO,WO=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=qO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=qO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw MO.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw MO.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw MO.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===UO&&(UO=new t),UO},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(){return VO}(KO=BO||(BO={}))[KO.UNKNOWN=0]="UNKNOWN",KO[KO.VISIBLE=1]="VISIBLE",KO[KO.HIDDEN=2]="HIDDEN";var zO=["firebase_","google_","ga_"],GO=new RegExp("^[a-zA-Z]\\w*$");function QO(){switch(jO.getInstance().document.visibilityState){case"visible":return BO.VISIBLE;case"hidden":return BO.HIDDEN;default:return BO.UNKNOWN}}function YO(){var t=jO.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $O=!0;function XO(t){var e=function(){var t=jO.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(JO(e),Promise.resolve()):function(t){return(e=WO.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+WO.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+WO.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:WO.getInstance().getAppId(),app_version:"0.4.12",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw MO.create("RC response not ok")}))})).catch((function(){FO.info("Could not fetch config, will use default configs")}));var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t).then(JO).then((function(t){return function(t){var e=jO.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*WO.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function JO(t){if(!t)return t;var e=WO.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=$O,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=ZO(e.tracesSamplingRate),e.logNetworkAfterSampling=ZO(e.networkRequestsSamplingRate),t}function ZO(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tL,eL=1;function nL(){var t;return eL=2,tL=tL||(t=jO.getInstance().document,new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))).then((function(){return(t=WO.getInstance().installationsService.getId()).then((function(t){VO=t})),t;var t})).then((function(t){return XO(t)})).then((function(){return rL()}),(function(){return rL()}))}function rL(){eL=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iL,oL=3,sL=[],aL=!1;function uL(t){setTimeout((function(){var t,e;if(0!==oL)return sL.length?(t=sL.splice(0,1e3),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(t,e){return function(t){var e=WO.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||FO.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(sL=Ou(Ou([],e),sL),FO.info("Retry transport request later.")),oL=3,uL(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:WO.getInstance().logSource,log_event:e},t).catch((function(){sL=Ou(Ou([],t),sL),oL--,FO.info("Tries left: "+oL+"."),uL(1e4)}))):uL(1e4)}),t)}function cL(t){if(!t.eventTime||!t.message)throw MO.create("invalid cc log");sL=Ou(Ou([],sL),[t])}function lL(t,e){var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */iL||(n=dL,iL=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];cL({message:n.apply(void 0,t),eventTime:Date.now()})}),iL(t,e)}function hL(t){var e=WO.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&jO.getInstance().requiredApisAvailable()&&(t.isAuto&&QO()!==BO.VISIBLE||(3===eL?fL(t):nL().then((function(){return fL(t)}),(function(){return fL(t)}))))}function fL(t){if(HO()){var e=WO.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return lL(t,1)}),0)}}function dL(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:pL(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:pL(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function pL(){return{google_app_id:WO.getInstance().getAppId(),app_instance_id:HO(),web_app_info:{sdk_version:"0.4.12",page_url:jO.getInstance().getUrl(),service_worker_status:(t=jO.getInstance().navigator,"serviceWorker"in t?t.serviceWorker.controller?2:3:1),visibility_state:QO(),effective_connection_type:YO()},application_process_state:0};var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vL=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gL=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=jO.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw MO.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw MO.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),hL(this)},t.prototype.record=function(t,e,n){if(t<=0)throw MO.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw MO.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=xu({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}hL(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(i=t,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith("_wt_")&&vL.indexOf(i)>-1)&&i.startsWith("_"))throw MO.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&FO.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||zO.some((function(t){return n.startsWith(t)}))||!n.match(GO)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw MO.create("invalid attribute name",{attributeName:t});if(!i)throw MO.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return xu({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=jO.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*jO.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}hL(o)}},t.createUserTimingTrace=function(e){hL(new t(e,!1,e))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){var e=t;if(e&&void 0!==e.responseStart){var n=jO.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=WO.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return lL(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){HO()&&(setTimeout((function(){return function(){var t=jO.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){gL.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),gL.createOobTrace(e,n,t))}))}else gL.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=jO.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){mL(r[n])}t.setupObserver("resource",mL)}()}),0),setTimeout((function(){return function(){for(var t=jO.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){bL(r[n])}t.setupObserver("measure",bL)}()}),0))}function bL(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&gL.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wL=function(){function t(t){this.app=t,jO.getInstance().requiredApisAvailable()&&Zu().then((function(t){t&&(aL||(uL(5500),aL=!0),nL().then(yL,yL))})).catch((function(t){FO.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new gL(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return WO.getInstance().instrumentationEnabled},set:function(t){WO.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return WO.getInstance().dataCollectionEnabled},set:function(t){WO.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw MO.create("FB not default");if("undefined"==typeof window)throw MO.create("no window");var n;return n=window,OO=n,WO.getInstance().firebaseAppInstance=t,WO.getInstance().installationsService=e,new wL(t)};t.INTERNAL.registerComponent(new Tc("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.4.12")}(Jc);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _L,IL,TL,EL,AL="https://www.googletagmanager.com/gtag/js";(IL=_L||(_L={})).EVENT="event",IL.SET="set",IL.CONFIG="config",(EL=TL||(TL={})).ADD_SHIPPING_INFO="add_shipping_info",EL.ADD_PAYMENT_INFO="add_payment_info",EL.ADD_TO_CART="add_to_cart",EL.ADD_TO_WISHLIST="add_to_wishlist",EL.BEGIN_CHECKOUT="begin_checkout",EL.CHECKOUT_PROGRESS="checkout_progress",EL.EXCEPTION="exception",EL.GENERATE_LEAD="generate_lead",EL.LOGIN="login",EL.PAGE_VIEW="page_view",EL.PURCHASE="purchase",EL.REFUND="refund",EL.REMOVE_FROM_CART="remove_from_cart",EL.SCREEN_VIEW="screen_view",EL.SEARCH="search",EL.SELECT_CONTENT="select_content",EL.SELECT_ITEM="select_item",EL.SELECT_PROMOTION="select_promotion",EL.SET_CHECKOUT_OPTION="set_checkout_option",EL.SHARE="share",EL.SIGN_UP="sign_up",EL.TIMING_COMPLETE="timing_complete",EL.VIEW_CART="view_cart",EL.VIEW_ITEM="view_item",EL.VIEW_ITEM_LIST="view_item_list",EL.VIEW_PROMOTION="view_promotion",EL.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var SL,kL=new Mc("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e,n,r,i,o){return Nu(this,void 0,void 0,(function(){var s,a,u,c;return Ru(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),kL.error(c),[3,8];case 8:return t(_L.CONFIG,i,o),[2]}}))}))}function xL(t,e,n,r,i){return Nu(this,void 0,void 0,(function(){var o,s,a,u,c,l,h,f;return Ru(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=s;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(_L.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),kL.error(f),[3,5];case 5:return[2]}}))}))}function NL(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Nu(this,void 0,void 0,(function(){var a;return Ru(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==_L.EVENT?[3,2]:[4,xL(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==_L.CONFIG?[3,4]:[4,CL(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(_L.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),kL.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var RL=((SL={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",SL["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",SL["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",SL["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",SL["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",SL["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",SL["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",SL["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',SL["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',SL),PL=new nc("analytics","Analytics",RL),DL=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function OL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function LL(t){var e;return Nu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ru(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:OL(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw PL.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function ML(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=DL),Nu(this,void 0,void 0,(function(){var e,s,a,u,c,l,h;return Ru(this,(function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,FL(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return kL.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,LL(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof ec&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return kL.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?_c(o,r.intervalMillis,30):_c(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),kL.debug("Calling attemptFetch again in "+l+" millis"),[2,ML(t,h,n,r)];case 7:return[2]}}))}))}function FL(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(PL.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var UL=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e,n,r,i,o){return Nu(this,void 0,void 0,(function(){var s,a,u,c,l,h,f;return Ru(this,(function(d){switch(d.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=DL),Nu(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return Ru(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw PL.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw PL.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new UL,setTimeout((function(){return Nu(c,void 0,void 0,(function(){return Ru(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,ML({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&kL.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return kL.error(t)})),e.push(s),a=function(){return Nu(this,void 0,void 0,(function(){var t;return Ru(this,(function(e){switch(e.label){case 0:return Ju()?[3,1]:(kL.warn(PL.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Zu()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),kL.warn(PL.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(AL))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(t,e){var n=document.createElement("script");n.src=AL+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(_L.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qL,VL,BL={},KL=[],WL={},HL="dataLayer",zL="gtag",GL=!1;function QL(t){if(GL)throw PL.create("already-initialized");t.dataLayerName&&(HL=t.dataLayerName),t.gtagName&&(zL=t.gtagName)}function YL(t,e){!function(){var t=[];if(Yu()&&t.push("This is a browser extension environment."),tc()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=PL.create("invalid-analytics-context",{errorInfo:e});kL.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw PL.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw PL.create("no-api-key");kL.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=BL[i])throw PL.create("already-exists",{id:i});if(!GL){n=HL,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=NL(BL,KL,WL,HL,zL),s=o.wrappedGtag,a=o.gtagCore;VL=s,qL=a,GL=!0}return BL[i]=jL(t,KL,WL,e,qL,HL),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n,r,i){return Nu(this,void 0,void 0,(function(){var o,s;return Ru(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(_L.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=xu(xu({},r),{send_to:o}),t(_L.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(VL,BL[i],t,e,n).catch((function(t){return kL.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Nu(this,void 0,void 0,(function(){var i;return Ru(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(_L.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(_L.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(VL,BL[i],t,e).catch((function(t){return kL.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Nu(this,void 0,void 0,(function(){var i;return Ru(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(_L.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(_L.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(VL,BL[i],t,e).catch((function(t){return kL.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Nu(this,void 0,void 0,(function(){var i,o,s,a,u;return Ru(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(_L.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(_L.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(VL,BL[i],t,e).catch((function(t){return kL.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Nu(this,void 0,void 0,(function(){var n;return Ru(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(BL[i],t).catch((function(t){return kL.error(t)}))},INTERNAL:{delete:function(){return delete BL[i],Promise.resolve()}}}}function $L(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:if(Yu())return[2,!1];if(!tc())return[2,!1];if(!Ju())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Zu()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new Tc("analytics",(function(t){return YL(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:QL,EventName:TL,isSupported:$L})),t.INTERNAL.registerComponent(new Tc("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw PL.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.10")}(Jc);var XL,JL=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Nu(this,void 0,void 0,(function(){var e,n,r,i,o;return Ru(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),ZL=((XL={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",XL["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",XL["registration-api-key"]="Undefined API key. Check Firebase app initialization.",XL["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",XL["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",XL["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",XL["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",XL["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",XL["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",XL["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',XL["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',XL["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",XL["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",XL),tM=new nc("remoteconfig","Remote Config",ZL);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var eM=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Nu(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c,l,h,f,d,p,v,g,m,y,b;return Ru(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=w.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:s,body:JSON.stringify(a)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),tM.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),tM.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=y.entries,m=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?p=500:"NO_CHANGE"===m?p=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==p&&200!==p)throw tM.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _}))}))},t}(),nM=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),rM=["1","true","t","yes","y","on"],iM=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&rM.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),oM=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Cc.DEBUG;break;case"silent":this._logger.logLevel=Cc.SILENT;break;default:this._logger.logLevel=Cc.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Nu(this,void 0,void 0,(function(){var t,e,n;return Ru(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Nu(this,void 0,void 0,(function(){var t,e,n,r=this;return Ru(this,(function(i){switch(i.label){case 0:t=new nM,setTimeout((function(){return Nu(r,void 0,void 0,(function(){return Ru(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof ec&&-1!==t.code.indexOf(e)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return Nu(this,void 0,void 0,(function(){return Ru(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(xu(xu({},t),e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new iM("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new iM("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new iM("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t,e){var n=t.target.error||void 0;return tM.create(e,{originalErrorMessage:n&&n.message})}var aM=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(sM(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Nu(this,void 0,void 0,(function(){var e,n=this;return Ru(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(sM(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(tM.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Nu(this,void 0,void 0,(function(){var n,r=this;return Ru(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(sM(t,"storage-set"))},u.onsuccess=function(){i()}}catch(t){o(tM.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return Nu(this,void 0,void 0,(function(){var e,n=this;return Ru(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(sM(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(t){i(tM.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),uM=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Nu(this,void 0,void 0,(function(){var t,e,n,r,i,o;return Ru(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function cM(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(tM.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var lM,hM,fM=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Nu(this,void 0,void 0,(function(){var e,i,o;return Ru(this,(function(s){switch(s.label){case 0:return[4,cM(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof ec&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+_c(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),dM="@firebase/remote-config";(lM=Jc).INTERNAL.registerComponent(new Tc("remoteConfig",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw tM.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw tM.create("registration-project-id");if(!a)throw tM.create("registration-api-key");if(!u)throw tM.create("registration-app-id");n=n||"firebase";var c=new aM(u,r.name,n),l=new uM(c),h=new Mc(dM);h.logLevel=Cc.ERROR;var f=new eM(i,lM.SDK_VERSION,n,s,a,u),d=new fM(f,c),p=new JL(d,c,l,h),v=new oM(r,p,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),lM.registerVersion(dM,"0.1.37");var pM=((hM={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",hM["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",hM["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",hM["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",hM["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",hM["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",hM["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",hM["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",hM["recaptcha-error"]="ReCAPTCHA error.",hM),vM=new nc("appCheck","AppCheck",pM),gM=new Map,mM={activated:!1,tokenListeners:[]},yM={enabled:!1};function bM(t){return gM.get(t)||mM}function wM(t,e){gM.set(t,e)}function _M(){return yM}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){return self.grecaptcha}function TM(t){if(!bM(t).activated)throw vM.create("use-before-activation",{appName:t.name})}function EM(t,e){var n=bM(t),r=new Wu;wM(t,xu(xu({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var s,a,u=IM();return u?u.ready((function(){SM(t,e,u,i),r.resolve(u)})):(s=function(){var n=IM();if(!n)throw new Error("no recaptcha");n.ready((function(){SM(t,e,n,i),r.resolve(n)}))},(a=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",a.onload=s,document.head.appendChild(a)),r.promise}function AM(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:return TM(t),[4,bM(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise((function(n,r){var i=bM(t).reCAPTCHAState;e.ready((function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function SM(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=bM(t);wM(t,xu(xu({},o),{reCAPTCHAState:xu(xu({},o.reCAPTCHAState),{widgetId:i})}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kM="https://content-firebaseappcheck.googleapis.com/v1beta",CM=3e4,xM=96e4,NM=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return Nu(this,void 0,void 0,(function(){var e;return Ru(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new Wu,[4,(r=this.getNextRun(t),new Promise((function(t){setTimeout(t,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new Wu,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function RM(t,e){var n=t.url,r=t.body;return Nu(this,void 0,void 0,(function(){var t,i,o,s,a,u,c,l,h,f;return Ru(this,(function(d){switch(d.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),o={method:"POST",body:JSON.stringify(r),headers:t},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,fetch(n,o)];case 2:return s=d.sent(),[3,4];case 3:throw a=d.sent(),vM.create("fetch-network-error",{originalErrorMessage:a.message});case 4:if(200!==s.status)throw vM.create("fetch-status-error",{httpStatus:s.status});d.label=5;case 5:return d.trys.push([5,7,,8]),[4,s.json()];case 6:return u=d.sent(),[3,8];case 7:throw c=d.sent(),vM.create("fetch-parse-error",{originalErrorMessage:c.message});case 8:if(!(l=u.ttl.match(/^([\d.]+)(s)$/))||!l[2]||isNaN(Number(l[1])))throw vM.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return h=1e3*Number(l[1]),f=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:f+h,issuedAtTimeMillis:f}]}}))}))}function PM(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:kM+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:e}}}function DM(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:kM+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OM="firebase-app-check-store",LM=null;function MM(){return LM||(LM=new Promise((function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(vM.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(OM,{keyPath:"compositeKey"})}}}catch(t){e(vM.create("storage-open",{originalErrorMessage:t.message}))}})))}function FM(t){return jM(qM(t))}function UM(t,e){return Nu(this,void 0,void 0,(function(){var n,r,i,o;return Ru(this,(function(s){switch(s.label){case 0:return[4,MM()];case 1:return n=s.sent(),r=n.transaction(OM,"readwrite"),i=r.objectStore(OM),o=i.put({compositeKey:t,value:e}),[2,new Promise((function(t,e){o.onsuccess=function(e){t()},r.onerror=function(t){var n;e(vM.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function jM(t){return Nu(this,void 0,void 0,(function(){var e,n,r,i;return Ru(this,(function(o){switch(o.label){case 0:return[4,MM()];case 1:return e=o.sent(),n=e.transaction(OM,"readonly"),r=n.objectStore(OM),i=r.get(t),[2,new Promise((function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(vM.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function qM(t){return t.options.appId+"-"+t.name}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VM=new Mc("@firebase/app-check");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){return Nu(this,void 0,void 0,(function(){var e,n;return Ru(this,(function(r){switch(r.label){case 0:if(!Ju())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,FM(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),VM.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}}))}))}function KM(t,e){return Ju()?function(t,e){return UM(qM(t),e)}(t,e).catch((function(t){VM.warn("Failed to write token to indexeddb. Error: "+t)})):Promise.resolve()}function WM(){return Nu(this,void 0,void 0,(function(){var t,e;return Ru(this,(function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,jM("debug-token")];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),(r=e,UM("debug-token",r)).catch((function(t){return VM.warn("Failed to persist debug token to indexeddb. Error: "+t)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){return _M().enabled}function zM(){return Nu(this,void 0,void 0,(function(){var t;return Ru(this,(function(e){if((t=_M()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var GM={error:"UNKNOWN_ERROR"};function QM(t){return qu.encodeString(JSON.stringify(t),!1)}function YM(t,e,n){return void 0===n&&(n=!1),Nu(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f,d,p,v;return Ru(this,(function(g){switch(g.label){case 0:return TM(t),HM()?(r=RM,i=DM,o=[t],[4,zM()]):[3,3];case 1:return[4,r.apply(void 0,[i.apply(void 0,o.concat([g.sent()])),e])];case 2:return[2,{token:g.sent().token}];case 3:return s=bM(t),a=s.token,u=void 0,a?[3,5]:[4,BM(t)];case 4:(c=g.sent())&&JM(c)&&(a=c,wM(t,xu(xu({},s),{token:a})),XM(t,{token:a.token})),g.label=5;case 5:if(!n&&a&&JM(a))return[2,{token:a.token}];g.label=6;case 6:return g.trys.push([6,12,,13]),s.customProvider?[4,s.customProvider.getToken()]:[3,8];case 7:return l=g.sent(),h=function(t){var e=ac(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null}(l.token),f=null!==h&&h<Date.now()&&h>0?1e3*h:Date.now(),a=xu(xu({},l),{issuedAtTimeMillis:f}),[3,11];case 8:return[4,AM(t).catch((function(t){throw vM.create("recaptcha-error")}))];case 9:return d=g.sent(),[4,RM(PM(t,d),e)];case 10:a=g.sent(),g.label=11;case 11:return[3,13];case 12:return p=g.sent(),VM.error(p),u=p,[3,13];case 13:return a?[3,14]:(v=function(t){return{token:QM(GM),error:t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(u),[3,16]);case 14:return v={token:a.token},wM(t,xu(xu({},s),{token:a})),[4,KM(t,a)];case 15:g.sent(),g.label=16;case 16:return XM(t,v),[2,v]}}))}))}function $M(t,e,n){var r=bM(t),i=xu(xu({},r),{tokenListeners:Ou(Ou([],r.tokenListeners),[n])});if(HM()){var o=_M();o.enabled&&o.token&&o.token.promise.then((function(t){return n({token:t})})).catch((function(){}))}else{if(!i.tokenRefresher){var s=function(t,e){var n=this;return new NM((function(){return Nu(n,void 0,void 0,(function(){var n;return Ru(this,(function(r){switch(r.label){case 0:return bM(t).token?[3,2]:[4,YM(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,YM(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var e=bM(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),CM,xM)}(t,e);i.tokenRefresher=s}if(i.tokenRefresher.isRunning()||!0!==r.isTokenAutoRefreshEnabled||i.tokenRefresher.start(),r.token&&JM(r.token)){var a=r.token;Promise.resolve().then((function(){return n({token:a.token})})).catch((function(){}))}}wM(t,i)}function XM(t,e){for(var n=0,r=bM(t).tokenListeners;n<r.length;n++){var i=r[n];try{i(e)}catch(t){}}}function JM(t){return t.expireTimeMillis-Date.now()>0}function ZM(t){return{activate:function(e,n){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t,e,n){var r=bM(t);if(r.activated)throw vM.create("already-activated",{appName:t.name});var i=xu(xu({},r),{activated:!0});"string"==typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,wM(t,i),i.siteKey&&EM(t,i.siteKey).catch((function(){}))}(t,e,n)},setTokenAutoRefreshEnabled:function(e){return function(t,e){var n=bM(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),wM(t,xu(xu({},n),{isTokenAutoRefreshEnabled:e}))}(t,e)}}}function tF(t,e){return{getToken:function(n){return YM(t,e,n)},addTokenListener:function(n){return $M(t,e,n)},removeTokenListener:function(e){return function(t,e){var n=bM(t),r=n.tokenListeners.filter((function(t){return t!==e}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),wM(t,xu(xu({},n),{tokenListeners:r}))}(t,e)}}}!function(t){t.INTERNAL.registerComponent(new Tc("appCheck",(function(t){return ZM(t.getProvider("app").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(t,e,n){t.getProvider("app-check-internal").initialize()}))),t.INTERNAL.registerComponent(new Tc("app-check-internal",(function(t){return tF(t.getProvider("app").getImmediate(),t.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.1.1")}(Jc),function(){var t=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=_M();e.enabled=!0;var n=new Wu;e.token=n,"string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(WM())}}();
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Jc.registerVersion("firebase","8.6.3","app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Jc.registerVersion("firebase","8.6.3");const eF=new Su("AIzaSyDDXDdoYwn-bRRX0LseKP0C0EpRnIxa0M4");let nF,rF,iF=Jc.initializeApp({apiKey:"AIzaSyBEvDOks4bxG5eBoNHVttkhG4PewsrMVBs",authDomain:"lost-smart-teg.firebaseapp.com",databaseURL:"https://lostag.firebaseio.com",projectId:"lost-smart-teg",storageBucket:"lost-smart-teg.appspot.com",messagingSenderId:"174840217",appId:"1:174840217:web:a8cfab5d351ba625f21b08",measurementId:"G-ZC75GTZLK4"}).database().ref("location");var oF={data:()=>({nav:null}),mounted(){eF.load().then((function(t){const e={zoom:15,center:new t.maps.LatLng(37.28928696370265,127.2048022021344),scrollwheel:!1,disableDefaultUI:!0,zoomControl:!0,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#5e72e4"},{visibility:"on"}]}]};nF=new t.maps.Map(document.getElementById("map"),e),iF.on("value",(e=>{let n={lat:e.val().lat,lng:e.val().lng};console.log(n.lat),console.log(n.lng),null!=rF&&rF.setMap(null),rF=new t.maps.Marker({position:n,title:"Lost Tag",icon:"https://cdn.glitch.com/37d9e42b-5b4d-4b17-9e77-c177a73cd5ec%2Fdasol.png?v=1621847826305"}),rF.setMap(nF)}))}))}};const sF={class:"container-fluid mt--7"},aF=ur('<div class="row"><div class="col-lg-7 col-md-10"><h1 class="text-gray-700 text-3xl font-medium"> </h1></div></div><div class="row"><div class="col"><div class="card shadow border-0"><div id="map" class="map-canvas" data-lat="40.748817" data-lng="-73.985428" style="height:600px;"></div></div></div></div>',2);oF.render=function(t,e,n,r,i,o){return Xn(),Zn("div",sF,[aF])};const uF={class:"text-gray-700 text-3xl font-medium"};const cF={render:function(t,e){return Xn(),Zn("h3",uF,"Blank Page")}},lF=[{path:"/",name:"Login",component:Ga,meta:{layout:"empty"}},{path:"/signup",name:"SignUp",component:ou,meta:{layout:"empty"}},{path:"/dashboard",name:"Dashboard",component:Go},{path:"/ui-elements",name:"UIElements",component:xa},{path:"/forms",name:"Forms",component:ms},{path:"/maps",name:"Maps",component:oF},{path:"/tables",name:"Tables",component:Rs},{path:"/modal",name:"Modal",component:vu},{path:"/blank",name:"Blank",component:cF}],hF=function(t){const e=uo(t.routes,t);let n=t.parseQuery||Po,r=t.stringifyQuery||Do,i=t.history;const o=Lo(),s=Lo(),a=Lo(),u=ne(Yi,!0);let c=Yi;Ti&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Ai.bind(null,(t=>""+t)),h=Ai.bind(null,No),f=Ai.bind(null,Ro);function d(t,o){if(o=Ei({},o||u.value),"string"==typeof t){let r=Ci(n,t,o.path),s=e.resolve({path:r.path},o),a=i.createHref(r.fullPath);return Ei(r,s,{params:f(s.params),hash:Ro(r.hash),redirectedFrom:void 0,href:a})}let s;"path"in t?s=Ei({},t,{path:Ci(n,t.path,o.path).path}):(s=Ei({},t,{params:h(t.params)}),o.params=h(o.params));let a=e.resolve(s,o);const c=t.hash||"";a.params=l(f(a.params));const d=function(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,Ei({},t,{hash:(p=c,Co(p).replace(Eo,"{").replace(So,"}").replace(Io,"^")),path:a.path}));var p;let v=i.createHref(d);return Ei({fullPath:d,hash:c,query:r===Do?Oo(t.query):t.query},a,{redirectedFrom:void 0,href:v})}function p(t){return"string"==typeof t?Ci(n,t,u.value.path):Ei({},t)}function v(t,e){if(c!==t)return Zi(8,{from:e,to:t})}function g(t){return y(t)}function m(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"==typeof n?n(t):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=p(r):{path:r}),Ei({query:t.query,hash:t.hash,params:t.params},r)}}function y(t,e){const n=c=d(t),i=u.value,o=t.state,s=t.force,a=!0===t.replace,l=m(n);if(l)return y(Ei(p(l),{state:o,force:s,replace:a}),e||n);const h=n;let f;return h.redirectedFrom=e,!s&&function(t,e,n){let r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ni(e.matched[r],n.matched[i])&&Ri(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,i,n)&&(f=Zi(16,{to:h,from:i}),N(i,i,!0,!1)),(f?Promise.resolve(f):w(h,i)).catch((t=>to(t)?t:C(t))).then((t=>{if(t){if(to(t,2))return y(Ei(p(t.to),{state:o,force:s,replace:a}),e||h)}else t=I(h,i,!0,a,o);return _(h,i,t),t}))}function b(t,e){const n=v(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t,e){let n;const[r,i,a]=function(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>Ni(t,o)))?r.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>Ni(t,a)))||i.push(a))}return[n,r,i]}(t,e);n=Fo(r.reverse(),"beforeRouteLeave",t,e);for(const i of r)i.leaveGuards.forEach((r=>{n.push(Mo(r,t,e))}));const u=b.bind(null,t,e);return n.push(u),Wo(n).then((()=>{n=[];for(const r of o.list())n.push(Mo(r,t,e));return n.push(u),Wo(n)})).then((()=>{n=Fo(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(Mo(r,t,e))}));return n.push(u),Wo(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&e.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Mo(i,t,e));else n.push(Mo(r.beforeEnter,t,e));return n.push(u),Wo(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Fo(a,"beforeRouteEnter",t,e),n.push(u),Wo(n)))).then((()=>{n=[];for(const r of s.list())n.push(Mo(r,t,e));return n.push(u),Wo(n)})).catch((t=>to(t,8)?t:Promise.reject(t)))}function _(t,e,n){for(const r of a.list())r(t,e,n)}function I(t,e,n,r,o){const s=v(t,e);if(s)return s;const a=e===Yi,c=Ti?history.state:{};n&&(r||a?i.replace(t.fullPath,Ei({scroll:a&&c&&c.scroll},o)):i.push(t.fullPath,o)),u.value=t,N(t,e,n,a),x()}let T;function E(){T=i.listen(((t,e,n)=>{let r=d(t);const o=m(r);if(o)return void y(Ei(o,{replace:!0}),r).catch(Si);c=r;const s=u.value;var a,l;Ti&&(a=Ki(s.fullPath,n.delta),l=Vi(),Wi.set(a,l)),w(r,s).catch((t=>to(t,12)?t:to(t,2)?(y(t.to,r).catch(Si),Promise.reject()):(n.delta&&i.go(-n.delta,!1),C(t)))).then((t=>{(t=t||I(r,s,!1))&&n.delta&&i.go(-n.delta,!1),_(r,s,t)})).catch(Si)}))}let A,S=Lo(),k=Lo();function C(t){return x(t),k.list().forEach((e=>e(t))),Promise.reject(t)}function x(t){A||(A=!0,E(),S.list().forEach((([e,n])=>t?n(t):e())),S.reset())}function N(e,n,r,i){const{scrollBehavior:o}=t;if(!Ti||!o)return Promise.resolve();let s=!r&&function(t){const e=Wi.get(t);return Wi.delete(t),e}(Ki(e.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return Se().then((()=>o(e,n,s))).then((t=>t&&Bi(t))).catch(C)}const R=t=>i.go(t);let P;const D=new Set;return{currentRoute:u,addRoute:function(t,n){let r,i;return Qi(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)},removeRoute:function(t){let n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:d,options:t,push:g,replace:function(t){return g(Ei(p(t),{replace:!0}))},go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:k.add,isReady:function(){return A&&u.value!==Yi?Promise.resolve():new Promise(((t,e)=>{S.add([t,e])}))},install(t){t.component("RouterLink",jo),t.component("RouterView",Ko),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>re(u)}),Ti&&!P&&u.value===Yi&&(P=!0,g(i.location).catch((t=>{})));const e={};for(let t in Yi)e[t]=Mr((()=>u.value[t]));t.provide(wi,this),t.provide(_i,Ht(e)),t.provide(Ii,u);let n=t.unmount;D.add(t),t.unmount=function(){D.delete(t),D.size<1&&(T(),u.value=Yi,P=!1,A=!1),n()}}}}({history:function(t){const e=Gi(t=Ui(t)),n=function(t,e,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=Hi(t,location),u=n.value,c=e.value;let l=0;if(o){if(n.value=a,e.value=o,s&&s===u)return void(s=null);l=c?o.position-c.position:0}else r(a);i.forEach((t=>{t(n.value,u,{delta:l,type:Oi.pop,direction:l?l>0?Mi.forward:Mi.back:Mi.unknown})}))};function u(){const{history:t}=window;t.state&&t.replaceState(Ei({},t.state,{scroll:Vi()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(t,e.state,e.location,e.replace),r=Ei({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:qi.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}(),routes:lF}),fF=Ht({isOpen:!1});function dF(){return{...se(fF)}}var pF=On({setup(){const{isOpen:t}=dF();return{isOpen:t,activeClass:te("bg-gray-600 bg-opacity-25 text-gray-100 border-gray-100"),inactiveClass:te("border-gray-900 text-gray-500 hover:bg-gray-600 hover:bg-opacity-25 hover:text-gray-100")}}});const vF={class:"flex"},gF=or("div",{class:"flex items-center justify-center mt-8"},[or("div",{class:"flex items-center"},[or("span",{class:"text-white text-2xl mx-2 font-semibold"},"  ")])],-1),mF={class:"mt-10"},yF=or("span",{class:"mx-4"},"MainPage",-1),bF=or("span",{class:"mx-4"},"Tables()",-1),wF=or("span",{class:"mx-4"},"Member",-1),_F=or("span",{class:"mx-4"},"Maps",-1),IF=or("span",{class:"mx-4"},"",-1),TF=or("span",{class:"mx-4"},"UI ",-1),EF=or("span",{class:"mx-4"},"( )",-1);pF.render=function(t,e,n,r,i,o){const s=Vn("router-link");return Xn(),Zn("div",vF,[or("div",{class:[t.isOpen?"block":"hidden","fixed z-20 inset-0 bg-black opacity-50 transition-opacity lg:hidden"],onClick:e[1]||(e[1]=e=>t.isOpen=!1)},null,2),or("div",{class:[t.isOpen?"translate-x-0 ease-out":"-translate-x-full ease-in","fixed z-30 inset-y-0 left-0 w-64 transition duration-300 transform bg-gray-900 overflow-y-auto lg:translate-x-0 lg:static lg:inset-0"]},[gF,or("nav",mF,[or(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Dashboard"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/dashboard"},{default:We((()=>[yF])),_:1},8,["class"]),or(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Tables"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/tables"},{default:We((()=>[bF])),_:1},8,["class"]),or(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Forms"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/forms"},{default:We((()=>[wF])),_:1},8,["class"]),or(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Maps"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/maps"},{default:We((()=>[_F])),_:1},8,["class"]),or(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Modal"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/modal"},{default:We((()=>[IF])),_:1},8,["class"]),or(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["UIElements"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/ui-elements"},{default:We((()=>[TF])),_:1},8,["class"]),or(s,{class:["flex items-center duration-200 mt-4 py-2 px-6 border-l-4",["Blank"===t.$route.name?t.activeClass:t.inactiveClass]],to:"/blank"},{default:We((()=>[EF])),_:1},8,["class"])])],2)])};var AF=On({setup(t,{emit:e}){const n=te(!1),{isOpen:r}=dF();return{isOpen:r,dropdownOpen:n}}});const SF={class:"flex justify-between items-center py-4 px-6 bg-white border-b-4 border-indigo-600"},kF={class:"flex items-center"},CF=or("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[or("path",{d:"M4 6H20M4 12H20M4 18H11",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),xF=or("div",{class:"relative mx-4 lg:mx-0"},[or("span",{class:"absolute inset-y-0 left-0 pl-3 flex items-center"},[or("svg",{class:"h-5 w-5 text-gray-500",viewBox:"0 0 24 24",fill:"none"},[or("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])]),or("input",{class:"w-32 sm:w-64 rounded-md pl-10 pr-4 focus:border-indigo-600",type:"text",placeholder:"Search"})],-1),NF={class:"flex items-center"},RF=or("button",{class:"flex mx-4 text-gray-600 focus:outline-none"},[or("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[or("path",{d:"M15 17H20L18.5951 15.5951C18.2141 15.2141 18 14.6973 18 14.1585V11C18 8.38757 16.3304 6.16509 14 5.34142V5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5V5.34142C7.66962 6.16509 6 8.38757 6 11V14.1585C6 14.6973 5.78595 15.2141 5.40493 15.5951L4 17H9M15 17V18C15 19.6569 13.6569 21 12 21C10.3431 21 9 19.6569 9 18V17M15 17H9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),PF={class:"relative"},DF=or("img",{class:"h-full w-full object-cover",src:"/_assets/admin.810c527d.jpeg",alt:"Your avatar"},null,-1),OF={class:"absolute right-0 mt-2 py-2 w-48 bg-white rounded-md shadow-xl z-20"},LF=or("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"}," ",-1),MF=or("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"}," ",-1),FF=ar("Log out");AF.render=function(t,e,n,r,i,o){const s=Vn("router-link");return Xn(),Zn("header",SF,[or("div",kF,[or("button",{onClick:e[1]||(e[1]=e=>t.isOpen=!0),class:"text-gray-500 focus:outline-none lg:hidden"},[CF]),xF]),or("div",NF,[RF,or("div",PF,[or("button",{onClick:e[2]||(e[2]=e=>t.dropdownOpen=!t.dropdownOpen),class:"relative z-10 block h-8 w-8 rounded-full overflow-hidden shadow focus:outline-none"},[DF]),xn(or("div",{onClick:e[3]||(e[3]=e=>t.dropdownOpen=!1),class:"fixed inset-0 h-full w-full z-10"},null,512),[[fi,t.dropdownOpen]]),xn(or("div",OF,[LF,MF,or(s,{to:"/",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"},{default:We((()=>[FF])),_:1})],512),[[fi,t.dropdownOpen]])])])])};var UF=On({components:{Header:AF,Sidebar:pF}});const jF={class:"flex h-screen bg-gray-200 font-roboto"},qF={class:"flex-1 flex flex-col overflow-hidden"},VF={class:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-200"},BF={class:"container mx-auto px-6 py-8"};UF.render=function(t,e,n,r,i,o){const s=Vn("Sidebar"),a=Vn("Header");return Xn(),Zn("div",jF,[or(s),or("div",qF,[or(a),or("main",VF,[or("div",BF,[je(t.$slots,"default")])])])])};const KF={render:function(t,e){return Xn(),Zn("div",null,[je(t.$slots,"default")])}},WF=((...t)=>{const e=(vi||(vi=Un(pi))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(A(t)){return document.querySelector(t)}return t}(t);if(!r)return;const i=e._component;E(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e})(zo);WF.component("default-layout",UF),WF.component("empty-layout",KF),WF.use(hF),WF.mount("#app");
